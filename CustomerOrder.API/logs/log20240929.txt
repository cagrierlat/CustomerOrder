2024-09-29 16:15:22.309 +03:00 [INF] Starting web host
2024-09-29 16:15:24.149 +03:00 [DBG] Hosting starting
2024-09-29 16:15:24.196 +03:00 [INF] User profile is available. Using 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-29 16:15:24.222 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-0aa42add-f3b4-405e-a8c2-992d6e29a85c.xml'.
2024-09-29 16:15:24.236 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-71b87755-2ee9-43e6-87de-6c92ed7c99a6.xml'.
2024-09-29 16:15:24.237 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-acea2ac6-9b67-4521-b460-630e25f9dc5a.xml'.
2024-09-29 16:15:24.242 +03:00 [DBG] Found key {0aa42add-f3b4-405e-a8c2-992d6e29a85c}.
2024-09-29 16:15:24.247 +03:00 [DBG] Found key {71b87755-2ee9-43e6-87de-6c92ed7c99a6}.
2024-09-29 16:15:24.248 +03:00 [DBG] Found key {acea2ac6-9b67-4521-b460-630e25f9dc5a}.
2024-09-29 16:15:24.255 +03:00 [DBG] Considering key {acea2ac6-9b67-4521-b460-630e25f9dc5a} with expiration date 2024-10-15 10:31:27Z as default key.
2024-09-29 16:15:24.263 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-29 16:15:24.269 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-29 16:15:24.271 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-29 16:15:24.275 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-29 16:15:24.277 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-29 16:15:24.282 +03:00 [DBG] Using key {acea2ac6-9b67-4521-b460-630e25f9dc5a} as the default key.
2024-09-29 16:15:24.284 +03:00 [DBG] Key ring with default key {acea2ac6-9b67-4521-b460-630e25f9dc5a} was loaded during application startup.
2024-09-29 16:15:24.530 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: D6697AE29B19EBA86816E6295ADBAF33F0642E18)
2024-09-29 16:15:24.585 +03:00 [INF] Now listening on: https://localhost:5001
2024-09-29 16:15:24.587 +03:00 [INF] Now listening on: http://localhost:5000
2024-09-29 16:15:24.587 +03:00 [DBG] Loaded hosting startup assembly CustomerOrder.API
2024-09-29 16:15:24.589 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-29 16:15:24.590 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-29 16:15:24.592 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-29 16:15:24.592 +03:00 [INF] Hosting environment: Development
2024-09-29 16:15:24.593 +03:00 [INF] Content root path: C:\Users\cagrie\source\repos\CustomerOrder\CustomerOrder.API
2024-09-29 16:15:24.594 +03:00 [DBG] Hosting started
2024-09-29 16:15:24.804 +03:00 [DBG] Connection id "0HN70H33OSVTA" accepted.
2024-09-29 16:15:24.804 +03:00 [DBG] Connection id "0HN70H33OSVTB" accepted.
2024-09-29 16:15:24.804 +03:00 [DBG] Connection id "0HN70H33OSVTA" received FIN.
2024-09-29 16:15:24.804 +03:00 [DBG] Connection id "0HN70H33OSVTB" received FIN.
2024-09-29 16:15:24.810 +03:00 [DBG] Connection id "0HN70H33OSVTA" started.
2024-09-29 16:15:24.810 +03:00 [DBG] Connection id "0HN70H33OSVTB" started.
2024-09-29 16:15:24.841 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.<>c.<ProcessAuthenticationWithTelemetry>b__169_2(Task t, Object s)
   at System.Threading.Tasks.ContinuationTaskFromTask.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-29 16:15:24.841 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.<>c.<ProcessAuthenticationWithTelemetry>b__169_2(Task t, Object s)
   at System.Threading.Tasks.ContinuationTaskFromTask.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-29 16:15:24.886 +03:00 [DBG] Connection id "0HN70H33OSVTA" stopped.
2024-09-29 16:15:24.886 +03:00 [DBG] Connection id "0HN70H33OSVTB" stopped.
2024-09-29 16:15:24.889 +03:00 [DBG] Connection id "0HN70H33OSVTB" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 16:15:24.889 +03:00 [DBG] Connection id "0HN70H33OSVTA" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 16:15:24.948 +03:00 [DBG] Connection id "0HN70H33OSVTC" accepted.
2024-09-29 16:15:24.949 +03:00 [DBG] Connection id "0HN70H33OSVTC" started.
2024-09-29 16:15:25.070 +03:00 [DBG] Connection "0HN70H33OSVTC" established using the following protocol: "Tls13"
2024-09-29 16:15:25.137 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2024-09-29 16:15:25.255 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-29 16:15:25.411 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-29 16:15:25.423 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-29 16:15:25.429 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 297.3202ms
2024-09-29 16:15:25.432 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - -
2024-09-29 16:15:25.433 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - -
2024-09-29 16:15:25.445 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - - - 200 12366 application/javascript;+charset=utf-8 12.4714ms
2024-09-29 16:15:25.487 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 54.3058ms
2024-09-29 16:15:25.519 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2024-09-29 16:15:25.613 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 94.1017ms
2024-09-29 16:15:38.656 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Authority/login application/json 39
2024-09-29 16:15:38.659 +03:00 [DBG] POST requests are not supported
2024-09-29 16:15:38.661 +03:00 [DBG] POST requests are not supported
2024-09-29 16:15:38.709 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authority/login'
2024-09-29 16:15:38.719 +03:00 [DBG] Endpoint 'CustomerOrder.API.Controllers.AuthorityController.Login (CustomerOrder.API)' with route pattern 'api/Authority/login' is valid for the request path '/api/Authority/login'
2024-09-29 16:15:38.723 +03:00 [DBG] Request matched endpoint 'CustomerOrder.API.Controllers.AuthorityController.Login (CustomerOrder.API)'
2024-09-29 16:15:38.798 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-29 16:15:38.801 +03:00 [INF] Executing endpoint 'CustomerOrder.API.Controllers.AuthorityController.Login (CustomerOrder.API)'
2024-09-29 16:15:38.810 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-29 16:15:38.855 +03:00 [INF] Route matched with {action = "Login", controller = "Authority"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(CustomerOrder.API.Services.Authority.Dtos.LoginDto) on controller CustomerOrder.API.Controllers.AuthorityController (CustomerOrder.API).
2024-09-29 16:15:38.857 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-29 16:15:38.859 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-29 16:15:38.862 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-29 16:15:38.867 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-29 16:15:38.868 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-29 16:15:38.869 +03:00 [DBG] Executing controller factory for controller CustomerOrder.API.Controllers.AuthorityController (CustomerOrder.API)
2024-09-29 16:15:38.870 +03:00 [DBG] Executed controller factory for controller CustomerOrder.API.Controllers.AuthorityController (CustomerOrder.API)
2024-09-29 16:15:38.883 +03:00 [DBG] Attempting to bind parameter 'loginDto' of type 'CustomerOrder.API.Services.Authority.Dtos.LoginDto' ...
2024-09-29 16:15:38.885 +03:00 [DBG] Attempting to bind parameter 'loginDto' of type 'CustomerOrder.API.Services.Authority.Dtos.LoginDto' using the name '' in request data ...
2024-09-29 16:15:38.886 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-29 16:15:38.893 +03:00 [DBG] Connection id "0HN70H33OSVTC", Request id "0HN70H33OSVTC:00000009": started reading request body.
2024-09-29 16:15:38.894 +03:00 [DBG] Connection id "0HN70H33OSVTC", Request id "0HN70H33OSVTC:00000009": done reading request body.
2024-09-29 16:15:38.922 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'CustomerOrder.API.Services.Authority.Dtos.LoginDto'
2024-09-29 16:15:38.924 +03:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'CustomerOrder.API.Services.Authority.Dtos.LoginDto'.
2024-09-29 16:15:38.925 +03:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'CustomerOrder.API.Services.Authority.Dtos.LoginDto'.
2024-09-29 16:15:38.928 +03:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'CustomerOrder.API.Services.Authority.Dtos.LoginDto' ...
2024-09-29 16:15:38.933 +03:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'CustomerOrder.API.Services.Authority.Dtos.LoginDto'.
2024-09-29 16:15:38.986 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-29 16:15:38.990 +03:00 [DBG] No information found on request to perform content negotiation.
2024-09-29 16:15:38.991 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-29 16:15:38.991 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-29 16:15:38.992 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-29 16:15:38.993 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-29 16:15:39.014 +03:00 [INF] Executed action CustomerOrder.API.Controllers.AuthorityController.Login (CustomerOrder.API) in 137.8696ms
2024-09-29 16:15:39.016 +03:00 [INF] Executed endpoint 'CustomerOrder.API.Controllers.AuthorityController.Login (CustomerOrder.API)'
2024-09-29 16:15:39.017 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Authority/login application/json 39 - 200 - application/json;+charset=utf-8 361.8868ms
2024-09-29 16:15:59.696 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/CustomerOrders/get/1 - -
2024-09-29 16:15:59.698 +03:00 [DBG] The request path  does not match the path filter
2024-09-29 16:15:59.699 +03:00 [DBG] The request path /api/CustomerOrders/get/1 does not match a supported file type
2024-09-29 16:15:59.702 +03:00 [DBG] 1 candidate(s) found for the request path '/api/CustomerOrders/get/1'
2024-09-29 16:15:59.704 +03:00 [DBG] Endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Get (CustomerOrder.API)' with route pattern 'api/CustomerOrders/get/{id}' is valid for the request path '/api/CustomerOrders/get/1'
2024-09-29 16:15:59.705 +03:00 [DBG] Request matched endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Get (CustomerOrder.API)'
2024-09-29 16:15:59.767 +03:00 [INF] Successfully validated the token.
2024-09-29 16:15:59.771 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-29 16:15:59.778 +03:00 [INF] Authorization was successful.
2024-09-29 16:15:59.780 +03:00 [INF] Executing endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Get (CustomerOrder.API)'
2024-09-29 16:15:59.791 +03:00 [INF] Route matched with {action = "Get", controller = "CustomerOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto]] Get(Int32) on controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API).
2024-09-29 16:15:59.793 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-29 16:15:59.794 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-29 16:15:59.795 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-29 16:15:59.796 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-29 16:15:59.798 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-29 16:15:59.802 +03:00 [DBG] Executing controller factory for controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API)
2024-09-29 16:15:59.931 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-29 16:16:00.164 +03:00 [DBG] Executed controller factory for controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API)
2024-09-29 16:16:00.166 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-09-29 16:16:00.168 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-09-29 16:16:00.170 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-29 16:16:00.173 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-29 16:16:00.174 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-09-29 16:16:00.175 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-09-29 16:16:00.179 +03:00 [INF] Fetching order by Id
2024-09-29 16:16:00.838 +03:00 [DBG] The property 'CustomerOrderId.Product' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-29 16:16:00.986 +03:00 [INF] Entity Framework Core 5.0.10 initialized 'DataContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2024-09-29 16:16:01.075 +03:00 [DBG] Compiling query expression: 
'DbSet<CustomerOrder>()
    .Include(o => o.Customer)
    .Include(o => o.Products)
    .FirstOrDefault(o => o.Id == __id_0)'
2024-09-29 16:16:01.151 +03:00 [DBG] Including navigation: 'CustomerOrder.Customer'.
2024-09-29 16:16:01.154 +03:00 [DBG] Including navigation: 'CustomerOrder.Products'.
2024-09-29 16:16:01.403 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<CustomerOrder>(
    asyncEnumerable: new SingleQueryingEnumerable<CustomerOrder>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
            SELECT t.Id, t.CreatedBy, t.CreatedDate, t.CustomerId, t.IsDeleted, t.UpdatedBy, t.UpdatedDate, t.Id0, t.Address, t.CreatedBy0, t.CreatedDate0, t.Email, t.IsDeleted0, t.Name, t.UpdatedBy0, t.UpdatedDate0, p.Id, p.Barcode, p.CreatedBy, p.CreatedDate, p.CustomerOrderId, p.Description, p.IsDeleted, p.Price, p.Quantity, p.UpdatedBy, p.UpdatedDate
            FROM Projection Mapping:
            (
                SELECT TOP(1) c.Id, c.CreatedBy, c.CreatedDate, c.CustomerId, c.IsDeleted, c.UpdatedBy, c.UpdatedDate, c0.Id AS Id0, c0.Address, c0.CreatedBy AS CreatedBy0, c0.CreatedDate AS CreatedDate0, c0.Email, c0.IsDeleted AS IsDeleted0, c0.Name, c0.UpdatedBy AS UpdatedBy0, c0.UpdatedDate AS UpdatedDate0
                FROM CustomerOrders AS c
                INNER JOIN Customers AS c0 ON c.CustomerId == c0.Id
                WHERE c.Id == @__id_0
            ) AS t
            LEFT JOIN Products AS p ON t.Id == p.CustomerOrderId
            ORDER BY t.Id ASC, t.Id0 ASC, p.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, CustomerOrder>, 
        CustomerOrder.Data.Context.DataContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-29 16:16:01.455 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 16:16:01.498 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (40ms).
2024-09-29 16:16:01.506 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 16:16:01.930 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 16:16:01.953 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedBy", t."CreatedDate", t."CustomerId", t."IsDeleted", t."UpdatedBy", t."UpdatedDate", t."Id0", t."Address", t."CreatedBy0", t."CreatedDate0", t."Email", t."IsDeleted0", t."Name", t."UpdatedBy0", t."UpdatedDate0", p."Id", p."Barcode", p."CreatedBy", p."CreatedDate", p."CustomerOrderId", p."Description", p."IsDeleted", p."Price", p."Quantity", p."UpdatedBy", p."UpdatedDate"
FROM (
    SELECT c."Id", c."CreatedBy", c."CreatedDate", c."CustomerId", c."IsDeleted", c."UpdatedBy", c."UpdatedDate", c0."Id" AS "Id0", c0."Address", c0."CreatedBy" AS "CreatedBy0", c0."CreatedDate" AS "CreatedDate0", c0."Email", c0."IsDeleted" AS "IsDeleted0", c0."Name", c0."UpdatedBy" AS "UpdatedBy0", c0."UpdatedDate" AS "UpdatedDate0"
    FROM "CustomerOrders" AS c
    INNER JOIN "Customers" AS c0 ON c."CustomerId" = c0."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "Products" AS p ON t."Id" = p."CustomerOrderId"
ORDER BY t."Id", t."Id0", p."Id"
2024-09-29 16:16:01.983 +03:00 [INF] Executed DbCommand (37ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedBy", t."CreatedDate", t."CustomerId", t."IsDeleted", t."UpdatedBy", t."UpdatedDate", t."Id0", t."Address", t."CreatedBy0", t."CreatedDate0", t."Email", t."IsDeleted0", t."Name", t."UpdatedBy0", t."UpdatedDate0", p."Id", p."Barcode", p."CreatedBy", p."CreatedDate", p."CustomerOrderId", p."Description", p."IsDeleted", p."Price", p."Quantity", p."UpdatedBy", p."UpdatedDate"
FROM (
    SELECT c."Id", c."CreatedBy", c."CreatedDate", c."CustomerId", c."IsDeleted", c."UpdatedBy", c."UpdatedDate", c0."Id" AS "Id0", c0."Address", c0."CreatedBy" AS "CreatedBy0", c0."CreatedDate" AS "CreatedDate0", c0."Email", c0."IsDeleted" AS "IsDeleted0", c0."Name", c0."UpdatedBy" AS "UpdatedBy0", c0."UpdatedDate" AS "UpdatedDate0"
    FROM "CustomerOrders" AS c
    INNER JOIN "Customers" AS c0 ON c."CustomerId" = c0."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "Products" AS p ON t."Id" = p."CustomerOrderId"
ORDER BY t."Id", t."Id0", p."Id"
2024-09-29 16:16:02.022 +03:00 [DBG] Context 'DataContext' started tracking 'CustomerOrder' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 16:16:02.065 +03:00 [DBG] Context 'DataContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 16:16:02.116 +03:00 [DBG] Context 'DataContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 16:16:02.155 +03:00 [DBG] Context 'DataContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 16:16:02.161 +03:00 [DBG] A data reader was disposed.
2024-09-29 16:16:02.164 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 16:16:02.172 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 16:16:02.196 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-29 16:16:02.199 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-09-29 16:16:02.201 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-09-29 16:16:02.201 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-29 16:16:02.202 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-29 16:16:02.203 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-29 16:16:02.204 +03:00 [INF] Executing OkObjectResult, writing value of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 16:16:02.227 +03:00 [INF] Executed action CustomerOrder.API.Controllers.CustomerOrdersController.Get (CustomerOrder.API) in 2425.0475ms
2024-09-29 16:16:02.230 +03:00 [INF] Executed endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Get (CustomerOrder.API)'
2024-09-29 16:16:02.239 +03:00 [DBG] 'DataContext' disposed.
2024-09-29 16:16:02.242 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/CustomerOrders/get/1 - - - 200 - application/json;+charset=utf-8 2546.6868ms
2024-09-29 16:18:46.095 +03:00 [INF] Starting web host
2024-09-29 16:18:47.135 +03:00 [DBG] Hosting starting
2024-09-29 16:18:47.205 +03:00 [INF] User profile is available. Using 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-29 16:18:47.240 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-0aa42add-f3b4-405e-a8c2-992d6e29a85c.xml'.
2024-09-29 16:18:47.255 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-71b87755-2ee9-43e6-87de-6c92ed7c99a6.xml'.
2024-09-29 16:18:47.256 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-acea2ac6-9b67-4521-b460-630e25f9dc5a.xml'.
2024-09-29 16:18:47.262 +03:00 [DBG] Found key {0aa42add-f3b4-405e-a8c2-992d6e29a85c}.
2024-09-29 16:18:47.271 +03:00 [DBG] Found key {71b87755-2ee9-43e6-87de-6c92ed7c99a6}.
2024-09-29 16:18:47.272 +03:00 [DBG] Found key {acea2ac6-9b67-4521-b460-630e25f9dc5a}.
2024-09-29 16:18:47.280 +03:00 [DBG] Considering key {acea2ac6-9b67-4521-b460-630e25f9dc5a} with expiration date 2024-10-15 10:31:27Z as default key.
2024-09-29 16:18:47.296 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-29 16:18:47.302 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-29 16:18:47.305 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-29 16:18:47.312 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-29 16:18:47.321 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-29 16:18:47.327 +03:00 [DBG] Using key {acea2ac6-9b67-4521-b460-630e25f9dc5a} as the default key.
2024-09-29 16:18:47.329 +03:00 [DBG] Key ring with default key {acea2ac6-9b67-4521-b460-630e25f9dc5a} was loaded during application startup.
2024-09-29 16:18:47.662 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: D6697AE29B19EBA86816E6295ADBAF33F0642E18)
2024-09-29 16:18:47.742 +03:00 [INF] Now listening on: https://localhost:5001
2024-09-29 16:18:47.743 +03:00 [INF] Now listening on: http://localhost:5000
2024-09-29 16:18:47.744 +03:00 [DBG] Loaded hosting startup assembly CustomerOrder.API
2024-09-29 16:18:47.744 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-29 16:18:47.745 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-29 16:18:47.746 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-29 16:18:47.748 +03:00 [INF] Hosting environment: Development
2024-09-29 16:18:47.749 +03:00 [INF] Content root path: C:\Users\cagrie\source\repos\CustomerOrder\CustomerOrder.API
2024-09-29 16:18:47.750 +03:00 [DBG] Hosting started
2024-09-29 16:18:48.095 +03:00 [DBG] Connection id "0HN70H50BNAD9" received FIN.
2024-09-29 16:18:48.095 +03:00 [DBG] Connection id "0HN70H50BNAD8" received FIN.
2024-09-29 16:18:48.116 +03:00 [DBG] Connection id "0HN70H50BNAD8" accepted.
2024-09-29 16:18:48.116 +03:00 [DBG] Connection id "0HN70H50BNAD9" accepted.
2024-09-29 16:18:48.119 +03:00 [DBG] Connection id "0HN70H50BNAD8" started.
2024-09-29 16:18:48.119 +03:00 [DBG] Connection id "0HN70H50BNAD9" started.
2024-09-29 16:18:48.136 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.<>c.<ProcessAuthenticationWithTelemetry>b__169_2(Task t, Object s)
   at System.Threading.Tasks.ContinuationTaskFromTask.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-29 16:18:48.136 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.<>c.<ProcessAuthenticationWithTelemetry>b__169_2(Task t, Object s)
   at System.Threading.Tasks.ContinuationTaskFromTask.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-29 16:18:48.178 +03:00 [DBG] Connection id "0HN70H50BNAD8" stopped.
2024-09-29 16:18:48.178 +03:00 [DBG] Connection id "0HN70H50BNAD9" stopped.
2024-09-29 16:18:48.182 +03:00 [DBG] Connection id "0HN70H50BNAD9" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 16:18:48.182 +03:00 [DBG] Connection id "0HN70H50BNAD8" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 16:18:55.544 +03:00 [DBG] Connection id "0HN70H50BNADA" accepted.
2024-09-29 16:18:55.547 +03:00 [DBG] Connection id "0HN70H50BNADA" started.
2024-09-29 16:18:55.616 +03:00 [DBG] Connection "0HN70H50BNADA" established using the following protocol: "Tls13"
2024-09-29 16:18:55.695 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2024-09-29 16:18:55.833 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-29 16:18:56.049 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-29 16:18:56.065 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-29 16:18:56.074 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - -
2024-09-29 16:18:56.074 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - -
2024-09-29 16:18:56.074 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 381.9237ms
2024-09-29 16:18:56.087 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - - - 200 12366 application/javascript;+charset=utf-8 13.1853ms
2024-09-29 16:18:56.123 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 49.0413ms
2024-09-29 16:18:56.157 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2024-09-29 16:18:56.254 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 97.2653ms
2024-09-29 16:19:04.146 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Authority/login application/json 39
2024-09-29 16:19:04.151 +03:00 [DBG] POST requests are not supported
2024-09-29 16:19:04.180 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authority/login'
2024-09-29 16:19:04.190 +03:00 [DBG] Endpoint 'CustomerOrder.API.Controllers.AuthorityController.Login (CustomerOrder.API)' with route pattern 'api/Authority/login' is valid for the request path '/api/Authority/login'
2024-09-29 16:19:04.194 +03:00 [DBG] Request matched endpoint 'CustomerOrder.API.Controllers.AuthorityController.Login (CustomerOrder.API)'
2024-09-29 16:19:04.278 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-29 16:19:04.282 +03:00 [INF] Executing endpoint 'CustomerOrder.API.Controllers.AuthorityController.Login (CustomerOrder.API)'
2024-09-29 16:19:04.290 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-29 16:19:04.330 +03:00 [INF] Route matched with {action = "Login", controller = "Authority"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(CustomerOrder.API.Services.Authority.Dtos.LoginDto) on controller CustomerOrder.API.Controllers.AuthorityController (CustomerOrder.API).
2024-09-29 16:19:04.332 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-29 16:19:04.333 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-29 16:19:04.335 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-29 16:19:04.337 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-29 16:19:04.338 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-29 16:19:04.341 +03:00 [DBG] Executing controller factory for controller CustomerOrder.API.Controllers.AuthorityController (CustomerOrder.API)
2024-09-29 16:19:04.346 +03:00 [DBG] Executed controller factory for controller CustomerOrder.API.Controllers.AuthorityController (CustomerOrder.API)
2024-09-29 16:19:04.361 +03:00 [DBG] Attempting to bind parameter 'loginDto' of type 'CustomerOrder.API.Services.Authority.Dtos.LoginDto' ...
2024-09-29 16:19:04.366 +03:00 [DBG] Attempting to bind parameter 'loginDto' of type 'CustomerOrder.API.Services.Authority.Dtos.LoginDto' using the name '' in request data ...
2024-09-29 16:19:04.367 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-29 16:19:04.381 +03:00 [DBG] Connection id "0HN70H50BNADA", Request id "0HN70H50BNADA:00000009": started reading request body.
2024-09-29 16:19:04.383 +03:00 [DBG] Connection id "0HN70H50BNADA", Request id "0HN70H50BNADA:00000009": done reading request body.
2024-09-29 16:19:04.412 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'CustomerOrder.API.Services.Authority.Dtos.LoginDto'
2024-09-29 16:19:04.416 +03:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'CustomerOrder.API.Services.Authority.Dtos.LoginDto'.
2024-09-29 16:19:04.418 +03:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'CustomerOrder.API.Services.Authority.Dtos.LoginDto'.
2024-09-29 16:19:04.418 +03:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'CustomerOrder.API.Services.Authority.Dtos.LoginDto' ...
2024-09-29 16:19:04.421 +03:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'CustomerOrder.API.Services.Authority.Dtos.LoginDto'.
2024-09-29 16:19:04.458 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-29 16:19:04.464 +03:00 [DBG] No information found on request to perform content negotiation.
2024-09-29 16:19:04.465 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-29 16:19:04.466 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-29 16:19:04.467 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-29 16:19:04.468 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-29 16:19:04.486 +03:00 [INF] Executed action CustomerOrder.API.Controllers.AuthorityController.Login (CustomerOrder.API) in 141.465ms
2024-09-29 16:19:04.487 +03:00 [INF] Executed endpoint 'CustomerOrder.API.Controllers.AuthorityController.Login (CustomerOrder.API)'
2024-09-29 16:19:04.489 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Authority/login application/json 39 - 200 - application/json;+charset=utf-8 343.2906ms
2024-09-29 16:19:23.431 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/CustomerOrders/get/1 - -
2024-09-29 16:19:23.434 +03:00 [DBG] The request path  does not match the path filter
2024-09-29 16:19:23.437 +03:00 [DBG] 1 candidate(s) found for the request path '/api/CustomerOrders/get/1'
2024-09-29 16:19:23.441 +03:00 [DBG] Endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Get (CustomerOrder.API)' with route pattern 'api/CustomerOrders/get/{id}' is valid for the request path '/api/CustomerOrders/get/1'
2024-09-29 16:19:23.443 +03:00 [DBG] Request matched endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Get (CustomerOrder.API)'
2024-09-29 16:19:23.494 +03:00 [INF] Successfully validated the token.
2024-09-29 16:19:23.499 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-29 16:19:23.504 +03:00 [INF] Authorization was successful.
2024-09-29 16:19:23.506 +03:00 [INF] Executing endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Get (CustomerOrder.API)'
2024-09-29 16:19:23.512 +03:00 [INF] Route matched with {action = "Get", controller = "CustomerOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto]] Get(Int32) on controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API).
2024-09-29 16:19:23.513 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-29 16:19:23.513 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-29 16:19:23.514 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-29 16:19:23.515 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-29 16:19:23.515 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-29 16:19:23.516 +03:00 [DBG] Executing controller factory for controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API)
2024-09-29 16:19:23.654 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-29 16:19:23.859 +03:00 [DBG] Executed controller factory for controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API)
2024-09-29 16:19:23.864 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-09-29 16:19:23.865 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-09-29 16:19:23.867 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-29 16:19:23.869 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-29 16:19:23.871 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-09-29 16:19:23.873 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-09-29 16:19:23.876 +03:00 [INF] test:
2024-09-29 16:19:24.596 +03:00 [DBG] The property 'CustomerOrderId.Product' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-29 16:19:24.736 +03:00 [INF] Entity Framework Core 5.0.10 initialized 'DataContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2024-09-29 16:19:24.829 +03:00 [DBG] Compiling query expression: 
'DbSet<CustomerOrder>()
    .Include(o => o.Customer)
    .Include(o => o.Products)
    .FirstOrDefault(o => o.Id == __id_0)'
2024-09-29 16:19:24.903 +03:00 [DBG] Including navigation: 'CustomerOrder.Customer'.
2024-09-29 16:19:24.907 +03:00 [DBG] Including navigation: 'CustomerOrder.Products'.
2024-09-29 16:19:25.189 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<CustomerOrder>(
    asyncEnumerable: new SingleQueryingEnumerable<CustomerOrder>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
            SELECT t.Id, t.CreatedBy, t.CreatedDate, t.CustomerId, t.IsDeleted, t.UpdatedBy, t.UpdatedDate, t.Id0, t.Address, t.CreatedBy0, t.CreatedDate0, t.Email, t.IsDeleted0, t.Name, t.UpdatedBy0, t.UpdatedDate0, p.Id, p.Barcode, p.CreatedBy, p.CreatedDate, p.CustomerOrderId, p.Description, p.IsDeleted, p.Price, p.Quantity, p.UpdatedBy, p.UpdatedDate
            FROM Projection Mapping:
            (
                SELECT TOP(1) c.Id, c.CreatedBy, c.CreatedDate, c.CustomerId, c.IsDeleted, c.UpdatedBy, c.UpdatedDate, c0.Id AS Id0, c0.Address, c0.CreatedBy AS CreatedBy0, c0.CreatedDate AS CreatedDate0, c0.Email, c0.IsDeleted AS IsDeleted0, c0.Name, c0.UpdatedBy AS UpdatedBy0, c0.UpdatedDate AS UpdatedDate0
                FROM CustomerOrders AS c
                INNER JOIN Customers AS c0 ON c.CustomerId == c0.Id
                WHERE c.Id == @__id_0
            ) AS t
            LEFT JOIN Products AS p ON t.Id == p.CustomerOrderId
            ORDER BY t.Id ASC, t.Id0 ASC, p.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, CustomerOrder>, 
        CustomerOrder.Data.Context.DataContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-29 16:19:25.242 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 16:19:25.288 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (40ms).
2024-09-29 16:19:25.300 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 16:19:25.816 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 16:19:25.837 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedBy", t."CreatedDate", t."CustomerId", t."IsDeleted", t."UpdatedBy", t."UpdatedDate", t."Id0", t."Address", t."CreatedBy0", t."CreatedDate0", t."Email", t."IsDeleted0", t."Name", t."UpdatedBy0", t."UpdatedDate0", p."Id", p."Barcode", p."CreatedBy", p."CreatedDate", p."CustomerOrderId", p."Description", p."IsDeleted", p."Price", p."Quantity", p."UpdatedBy", p."UpdatedDate"
FROM (
    SELECT c."Id", c."CreatedBy", c."CreatedDate", c."CustomerId", c."IsDeleted", c."UpdatedBy", c."UpdatedDate", c0."Id" AS "Id0", c0."Address", c0."CreatedBy" AS "CreatedBy0", c0."CreatedDate" AS "CreatedDate0", c0."Email", c0."IsDeleted" AS "IsDeleted0", c0."Name", c0."UpdatedBy" AS "UpdatedBy0", c0."UpdatedDate" AS "UpdatedDate0"
    FROM "CustomerOrders" AS c
    INNER JOIN "Customers" AS c0 ON c."CustomerId" = c0."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "Products" AS p ON t."Id" = p."CustomerOrderId"
ORDER BY t."Id", t."Id0", p."Id"
2024-09-29 16:19:25.872 +03:00 [INF] Executed DbCommand (38ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedBy", t."CreatedDate", t."CustomerId", t."IsDeleted", t."UpdatedBy", t."UpdatedDate", t."Id0", t."Address", t."CreatedBy0", t."CreatedDate0", t."Email", t."IsDeleted0", t."Name", t."UpdatedBy0", t."UpdatedDate0", p."Id", p."Barcode", p."CreatedBy", p."CreatedDate", p."CustomerOrderId", p."Description", p."IsDeleted", p."Price", p."Quantity", p."UpdatedBy", p."UpdatedDate"
FROM (
    SELECT c."Id", c."CreatedBy", c."CreatedDate", c."CustomerId", c."IsDeleted", c."UpdatedBy", c."UpdatedDate", c0."Id" AS "Id0", c0."Address", c0."CreatedBy" AS "CreatedBy0", c0."CreatedDate" AS "CreatedDate0", c0."Email", c0."IsDeleted" AS "IsDeleted0", c0."Name", c0."UpdatedBy" AS "UpdatedBy0", c0."UpdatedDate" AS "UpdatedDate0"
    FROM "CustomerOrders" AS c
    INNER JOIN "Customers" AS c0 ON c."CustomerId" = c0."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "Products" AS p ON t."Id" = p."CustomerOrderId"
ORDER BY t."Id", t."Id0", p."Id"
2024-09-29 16:19:25.914 +03:00 [DBG] Context 'DataContext' started tracking 'CustomerOrder' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 16:19:25.947 +03:00 [DBG] Context 'DataContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 16:19:26.005 +03:00 [DBG] Context 'DataContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 16:19:26.056 +03:00 [DBG] Context 'DataContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 16:19:26.061 +03:00 [DBG] A data reader was disposed.
2024-09-29 16:19:26.066 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 16:19:26.075 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 16:19:26.114 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-29 16:19:26.116 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-09-29 16:19:26.118 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-09-29 16:19:26.121 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-29 16:19:26.122 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-29 16:19:26.122 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-29 16:19:26.123 +03:00 [INF] Executing OkObjectResult, writing value of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 16:19:26.148 +03:00 [INF] Executed action CustomerOrder.API.Controllers.CustomerOrdersController.Get (CustomerOrder.API) in 2632.293ms
2024-09-29 16:19:26.152 +03:00 [INF] Executed endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Get (CustomerOrder.API)'
2024-09-29 16:19:26.160 +03:00 [DBG] 'DataContext' disposed.
2024-09-29 16:19:26.164 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/CustomerOrders/get/1 - - - 200 - application/json;+charset=utf-8 2732.6964ms
2024-09-29 16:38:00.713 +03:00 [INF] Starting web host
2024-09-29 16:38:09.625 +03:00 [INF] Starting web host
2024-09-29 16:38:25.553 +03:00 [FTL] Application start-up failed
StackExchange.Redis.RedisConnectionException: It was not possible to connect to the redis server(s). Error connecting right now. To allow this multiplexer to continue retrying until it's able to connect, use abortConnect=false in your connection string or AbortOnConnectFail=false; in your code.
   at StackExchange.Redis.ConnectionMultiplexer.ConnectImpl(ConfigurationOptions configuration, TextWriter writer, Nullable`1 serverType, EndPointCollection endpoints) in /_/src/StackExchange.Redis/ConnectionMultiplexer.cs:line 716
   at StackExchange.Redis.ConnectionMultiplexer.Connect(ConfigurationOptions configuration, TextWriter log) in /_/src/StackExchange.Redis/ConnectionMultiplexer.cs:line 678
   at StackExchange.Redis.ConnectionMultiplexer.Connect(String configuration, TextWriter log) in /_/src/StackExchange.Redis/ConnectionMultiplexer.cs:line 656
   at CustomerOrder.API.Startup.ConfigureServices(IServiceCollection services) in C:\Users\cagrie\source\repos\CustomerOrder\CustomerOrder.API\Startup.cs:line 76
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Object[] arguments, Signature sig, Boolean constructor, Boolean wrapExceptions)
   at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.AspNetCore.Hosting.ConfigureServicesBuilder.InvokeCore(Object instance, IServiceCollection services)
   at Microsoft.AspNetCore.Hosting.ConfigureServicesBuilder.<>c__DisplayClass9_0.<Invoke>g__Startup|0(IServiceCollection serviceCollection)
   at Microsoft.AspNetCore.Hosting.ConfigureServicesBuilder.Invoke(Object instance, IServiceCollection services)
   at Microsoft.AspNetCore.Hosting.ConfigureServicesBuilder.<>c__DisplayClass8_0.<Build>b__0(IServiceCollection services)
   at Microsoft.AspNetCore.Hosting.GenericWebHostBuilder.UseStartup(Type startupType, HostBuilderContext context, IServiceCollection services, Object instance)
   at Microsoft.AspNetCore.Hosting.GenericWebHostBuilder.<>c__DisplayClass13_0.<UseStartup>b__0(HostBuilderContext context, IServiceCollection services)
   at Microsoft.Extensions.Hosting.HostBuilder.CreateServiceProvider()
   at Microsoft.Extensions.Hosting.HostBuilder.Build()
   at CustomerOrder.API.Program.Main(String[] args) in C:\Users\cagrie\source\repos\CustomerOrder\CustomerOrder.API\Program.cs:line 26
2024-09-29 16:38:29.935 +03:00 [INF] Starting web host
2024-09-29 16:38:39.003 +03:00 [FTL] Application start-up failed
StackExchange.Redis.RedisConnectionException: It was not possible to connect to the redis server(s). Error connecting right now. To allow this multiplexer to continue retrying until it's able to connect, use abortConnect=false in your connection string or AbortOnConnectFail=false; in your code.
   at StackExchange.Redis.ConnectionMultiplexer.ConnectImpl(ConfigurationOptions configuration, TextWriter writer, Nullable`1 serverType, EndPointCollection endpoints) in /_/src/StackExchange.Redis/ConnectionMultiplexer.cs:line 716
   at StackExchange.Redis.ConnectionMultiplexer.Connect(ConfigurationOptions configuration, TextWriter log) in /_/src/StackExchange.Redis/ConnectionMultiplexer.cs:line 678
   at StackExchange.Redis.ConnectionMultiplexer.Connect(String configuration, TextWriter log) in /_/src/StackExchange.Redis/ConnectionMultiplexer.cs:line 656
   at CustomerOrder.API.Startup.ConfigureServices(IServiceCollection services) in C:\Users\cagrie\source\repos\CustomerOrder\CustomerOrder.API\Startup.cs:line 76
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Object[] arguments, Signature sig, Boolean constructor, Boolean wrapExceptions)
   at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.AspNetCore.Hosting.ConfigureServicesBuilder.InvokeCore(Object instance, IServiceCollection services)
   at Microsoft.AspNetCore.Hosting.ConfigureServicesBuilder.<>c__DisplayClass9_0.<Invoke>g__Startup|0(IServiceCollection serviceCollection)
   at Microsoft.AspNetCore.Hosting.ConfigureServicesBuilder.Invoke(Object instance, IServiceCollection services)
   at Microsoft.AspNetCore.Hosting.ConfigureServicesBuilder.<>c__DisplayClass8_0.<Build>b__0(IServiceCollection services)
   at Microsoft.AspNetCore.Hosting.GenericWebHostBuilder.UseStartup(Type startupType, HostBuilderContext context, IServiceCollection services, Object instance)
   at Microsoft.AspNetCore.Hosting.GenericWebHostBuilder.<>c__DisplayClass13_0.<UseStartup>b__0(HostBuilderContext context, IServiceCollection services)
   at Microsoft.Extensions.Hosting.HostBuilder.CreateServiceProvider()
   at Microsoft.Extensions.Hosting.HostBuilder.Build()
   at CustomerOrder.API.Program.Main(String[] args) in C:\Users\cagrie\source\repos\CustomerOrder\CustomerOrder.API\Program.cs:line 26
2024-09-29 16:38:56.931 +03:00 [INF] Starting web host
2024-09-29 16:39:12.794 +03:00 [FTL] Application start-up failed
StackExchange.Redis.RedisConnectionException: It was not possible to connect to the redis server(s). Error connecting right now. To allow this multiplexer to continue retrying until it's able to connect, use abortConnect=false in your connection string or AbortOnConnectFail=false; in your code.
   at StackExchange.Redis.ConnectionMultiplexer.ConnectImpl(ConfigurationOptions configuration, TextWriter writer, Nullable`1 serverType, EndPointCollection endpoints) in /_/src/StackExchange.Redis/ConnectionMultiplexer.cs:line 716
   at StackExchange.Redis.ConnectionMultiplexer.Connect(ConfigurationOptions configuration, TextWriter log) in /_/src/StackExchange.Redis/ConnectionMultiplexer.cs:line 678
   at StackExchange.Redis.ConnectionMultiplexer.Connect(String configuration, TextWriter log) in /_/src/StackExchange.Redis/ConnectionMultiplexer.cs:line 656
   at CustomerOrder.API.Startup.ConfigureServices(IServiceCollection services) in C:\Users\cagrie\source\repos\CustomerOrder\CustomerOrder.API\Startup.cs:line 76
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Object[] arguments, Signature sig, Boolean constructor, Boolean wrapExceptions)
   at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.AspNetCore.Hosting.ConfigureServicesBuilder.InvokeCore(Object instance, IServiceCollection services)
   at Microsoft.AspNetCore.Hosting.ConfigureServicesBuilder.<>c__DisplayClass9_0.<Invoke>g__Startup|0(IServiceCollection serviceCollection)
   at Microsoft.AspNetCore.Hosting.ConfigureServicesBuilder.Invoke(Object instance, IServiceCollection services)
   at Microsoft.AspNetCore.Hosting.ConfigureServicesBuilder.<>c__DisplayClass8_0.<Build>b__0(IServiceCollection services)
   at Microsoft.AspNetCore.Hosting.GenericWebHostBuilder.UseStartup(Type startupType, HostBuilderContext context, IServiceCollection services, Object instance)
   at Microsoft.AspNetCore.Hosting.GenericWebHostBuilder.<>c__DisplayClass13_0.<UseStartup>b__0(HostBuilderContext context, IServiceCollection services)
   at Microsoft.Extensions.Hosting.HostBuilder.CreateServiceProvider()
   at Microsoft.Extensions.Hosting.HostBuilder.Build()
   at CustomerOrder.API.Program.Main(String[] args) in C:\Users\cagrie\source\repos\CustomerOrder\CustomerOrder.API\Program.cs:line 26
2024-09-29 17:07:21.281 +03:00 [INF] Starting web host
2024-09-29 17:07:24.052 +03:00 [DBG] Hosting starting
2024-09-29 17:07:24.103 +03:00 [INF] User profile is available. Using 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-29 17:07:24.134 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-0aa42add-f3b4-405e-a8c2-992d6e29a85c.xml'.
2024-09-29 17:07:24.145 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-71b87755-2ee9-43e6-87de-6c92ed7c99a6.xml'.
2024-09-29 17:07:24.146 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-acea2ac6-9b67-4521-b460-630e25f9dc5a.xml'.
2024-09-29 17:07:24.151 +03:00 [DBG] Found key {0aa42add-f3b4-405e-a8c2-992d6e29a85c}.
2024-09-29 17:07:24.156 +03:00 [DBG] Found key {71b87755-2ee9-43e6-87de-6c92ed7c99a6}.
2024-09-29 17:07:24.157 +03:00 [DBG] Found key {acea2ac6-9b67-4521-b460-630e25f9dc5a}.
2024-09-29 17:07:24.163 +03:00 [DBG] Considering key {acea2ac6-9b67-4521-b460-630e25f9dc5a} with expiration date 2024-10-15 10:31:27Z as default key.
2024-09-29 17:07:24.173 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-29 17:07:24.176 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-29 17:07:24.178 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-29 17:07:24.182 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-29 17:07:24.185 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-29 17:07:24.188 +03:00 [DBG] Using key {acea2ac6-9b67-4521-b460-630e25f9dc5a} as the default key.
2024-09-29 17:07:24.189 +03:00 [DBG] Key ring with default key {acea2ac6-9b67-4521-b460-630e25f9dc5a} was loaded during application startup.
2024-09-29 17:07:24.502 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: D6697AE29B19EBA86816E6295ADBAF33F0642E18)
2024-09-29 17:07:24.550 +03:00 [INF] Now listening on: https://localhost:5001
2024-09-29 17:07:24.551 +03:00 [INF] Now listening on: http://localhost:5000
2024-09-29 17:07:24.551 +03:00 [DBG] Loaded hosting startup assembly CustomerOrder.API
2024-09-29 17:07:24.552 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-29 17:07:24.553 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-29 17:07:24.553 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-29 17:07:24.554 +03:00 [INF] Hosting environment: Development
2024-09-29 17:07:24.555 +03:00 [INF] Content root path: C:\Users\cagrie\source\repos\CustomerOrder\CustomerOrder.API
2024-09-29 17:07:24.555 +03:00 [DBG] Hosting started
2024-09-29 17:07:24.753 +03:00 [DBG] Connection id "0HN70I05J4GU0" received FIN.
2024-09-29 17:07:24.753 +03:00 [DBG] Connection id "0HN70I05J4GU1" received FIN.
2024-09-29 17:07:24.757 +03:00 [DBG] Connection id "0HN70I05J4GU0" accepted.
2024-09-29 17:07:24.757 +03:00 [DBG] Connection id "0HN70I05J4GU1" accepted.
2024-09-29 17:07:24.759 +03:00 [DBG] Connection id "0HN70I05J4GU0" started.
2024-09-29 17:07:24.759 +03:00 [DBG] Connection id "0HN70I05J4GU1" started.
2024-09-29 17:07:24.778 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.<>c.<ProcessAuthenticationWithTelemetry>b__169_2(Task t, Object s)
   at System.Threading.Tasks.ContinuationTaskFromTask.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-29 17:07:24.778 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.<>c.<ProcessAuthenticationWithTelemetry>b__169_2(Task t, Object s)
   at System.Threading.Tasks.ContinuationTaskFromTask.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-29 17:07:24.826 +03:00 [DBG] Connection id "0HN70I05J4GU0" stopped.
2024-09-29 17:07:24.826 +03:00 [DBG] Connection id "0HN70I05J4GU1" stopped.
2024-09-29 17:07:24.834 +03:00 [DBG] Connection id "0HN70I05J4GU0" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 17:07:24.834 +03:00 [DBG] Connection id "0HN70I05J4GU1" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 17:07:24.875 +03:00 [DBG] Connection id "0HN70I05J4GU2" accepted.
2024-09-29 17:07:24.887 +03:00 [DBG] Connection id "0HN70I05J4GU2" started.
2024-09-29 17:07:24.993 +03:00 [DBG] Connection "0HN70I05J4GU2" established using the following protocol: "Tls13"
2024-09-29 17:07:25.049 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2024-09-29 17:07:25.159 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-29 17:07:25.341 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-29 17:07:25.354 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-29 17:07:25.366 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - -
2024-09-29 17:07:25.366 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - -
2024-09-29 17:07:25.368 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 321.9465ms
2024-09-29 17:07:25.384 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - - - 200 12366 application/javascript;+charset=utf-8 17.2916ms
2024-09-29 17:07:25.419 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 52.1261ms
2024-09-29 17:07:25.455 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2024-09-29 17:07:25.552 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 97.1476ms
2024-09-29 17:48:58.718 +03:00 [INF] Starting web host
2024-09-29 17:49:01.755 +03:00 [DBG] Hosting starting
2024-09-29 17:49:01.833 +03:00 [INF] User profile is available. Using 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-29 17:49:01.860 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-0aa42add-f3b4-405e-a8c2-992d6e29a85c.xml'.
2024-09-29 17:49:01.883 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-71b87755-2ee9-43e6-87de-6c92ed7c99a6.xml'.
2024-09-29 17:49:01.887 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-acea2ac6-9b67-4521-b460-630e25f9dc5a.xml'.
2024-09-29 17:49:01.898 +03:00 [DBG] Found key {0aa42add-f3b4-405e-a8c2-992d6e29a85c}.
2024-09-29 17:49:01.908 +03:00 [DBG] Found key {71b87755-2ee9-43e6-87de-6c92ed7c99a6}.
2024-09-29 17:49:01.909 +03:00 [DBG] Found key {acea2ac6-9b67-4521-b460-630e25f9dc5a}.
2024-09-29 17:49:01.923 +03:00 [DBG] Considering key {acea2ac6-9b67-4521-b460-630e25f9dc5a} with expiration date 2024-10-15 10:31:27Z as default key.
2024-09-29 17:49:01.940 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-29 17:49:01.946 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-29 17:49:01.948 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-29 17:49:01.954 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-29 17:49:01.959 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-29 17:49:01.964 +03:00 [DBG] Using key {acea2ac6-9b67-4521-b460-630e25f9dc5a} as the default key.
2024-09-29 17:49:01.966 +03:00 [DBG] Key ring with default key {acea2ac6-9b67-4521-b460-630e25f9dc5a} was loaded during application startup.
2024-09-29 17:49:02.293 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: D6697AE29B19EBA86816E6295ADBAF33F0642E18)
2024-09-29 17:49:02.324 +03:00 [INF] Now listening on: https://localhost:5001
2024-09-29 17:49:02.332 +03:00 [INF] Now listening on: http://localhost:5000
2024-09-29 17:49:02.333 +03:00 [DBG] Loaded hosting startup assembly CustomerOrder.API
2024-09-29 17:49:02.334 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-29 17:49:02.335 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-29 17:49:02.336 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-29 17:49:02.337 +03:00 [INF] Hosting environment: Development
2024-09-29 17:49:02.338 +03:00 [INF] Content root path: C:\Users\cagrie\source\repos\CustomerOrder\CustomerOrder.API
2024-09-29 17:49:02.339 +03:00 [DBG] Hosting started
2024-09-29 17:49:02.369 +03:00 [DBG] Connection id "0HN70INDU8LA1" received FIN.
2024-09-29 17:49:02.369 +03:00 [DBG] Connection id "0HN70INDU8LA0" received FIN.
2024-09-29 17:49:02.376 +03:00 [DBG] Connection id "0HN70INDU8LA1" accepted.
2024-09-29 17:49:02.376 +03:00 [DBG] Connection id "0HN70INDU8LA0" accepted.
2024-09-29 17:49:02.380 +03:00 [DBG] Connection id "0HN70INDU8LA1" started.
2024-09-29 17:49:02.380 +03:00 [DBG] Connection id "0HN70INDU8LA0" started.
2024-09-29 17:49:02.408 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.<>c.<ProcessAuthenticationWithTelemetry>b__169_2(Task t, Object s)
   at System.Threading.Tasks.ContinuationTaskFromTask.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-29 17:49:02.408 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.<>c.<ProcessAuthenticationWithTelemetry>b__169_2(Task t, Object s)
   at System.Threading.Tasks.ContinuationTaskFromTask.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-29 17:49:02.458 +03:00 [DBG] Connection id "0HN70INDU8LA1" stopped.
2024-09-29 17:49:02.458 +03:00 [DBG] Connection id "0HN70INDU8LA0" stopped.
2024-09-29 17:49:02.462 +03:00 [DBG] Connection id "0HN70INDU8LA1" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 17:49:02.462 +03:00 [DBG] Connection id "0HN70INDU8LA0" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 17:49:02.727 +03:00 [DBG] Connection id "0HN70INDU8LA2" accepted.
2024-09-29 17:49:02.729 +03:00 [DBG] Connection id "0HN70INDU8LA2" started.
2024-09-29 17:49:02.856 +03:00 [DBG] Connection "0HN70INDU8LA2" established using the following protocol: "Tls13"
2024-09-29 17:49:02.924 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2024-09-29 17:49:03.028 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-29 17:49:03.213 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-29 17:49:03.226 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-29 17:49:03.235 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 312.8512ms
2024-09-29 17:49:03.238 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - -
2024-09-29 17:49:03.238 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - -
2024-09-29 17:49:03.257 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - - - 200 12366 application/javascript;+charset=utf-8 18.6534ms
2024-09-29 17:49:03.299 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 60.8211ms
2024-09-29 17:49:03.333 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2024-09-29 17:49:03.431 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 98.2747ms
2024-09-29 17:52:05.381 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Authority/login application/json 39
2024-09-29 17:52:05.385 +03:00 [DBG] POST requests are not supported
2024-09-29 17:52:05.428 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Authority/login'
2024-09-29 17:52:05.435 +03:00 [DBG] Endpoint 'CustomerOrder.API.Controllers.AuthorityController.Login (CustomerOrder.API)' with route pattern 'api/Authority/login' is valid for the request path '/api/Authority/login'
2024-09-29 17:52:05.437 +03:00 [DBG] Request matched endpoint 'CustomerOrder.API.Controllers.AuthorityController.Login (CustomerOrder.API)'
2024-09-29 17:52:05.551 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-29 17:52:05.556 +03:00 [INF] Executing endpoint 'CustomerOrder.API.Controllers.AuthorityController.Login (CustomerOrder.API)'
2024-09-29 17:52:05.565 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-29 17:52:05.605 +03:00 [INF] Route matched with {action = "Login", controller = "Authority"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(CustomerOrder.API.Services.Authority.Dtos.LoginDto) on controller CustomerOrder.API.Controllers.AuthorityController (CustomerOrder.API).
2024-09-29 17:52:05.610 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-29 17:52:05.611 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-29 17:52:05.613 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-29 17:52:05.615 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-29 17:52:05.616 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-29 17:52:05.617 +03:00 [DBG] Executing controller factory for controller CustomerOrder.API.Controllers.AuthorityController (CustomerOrder.API)
2024-09-29 17:52:05.619 +03:00 [DBG] Executed controller factory for controller CustomerOrder.API.Controllers.AuthorityController (CustomerOrder.API)
2024-09-29 17:52:05.633 +03:00 [DBG] Attempting to bind parameter 'loginDto' of type 'CustomerOrder.API.Services.Authority.Dtos.LoginDto' ...
2024-09-29 17:52:05.636 +03:00 [DBG] Attempting to bind parameter 'loginDto' of type 'CustomerOrder.API.Services.Authority.Dtos.LoginDto' using the name '' in request data ...
2024-09-29 17:52:05.637 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-29 17:52:05.651 +03:00 [DBG] Connection id "0HN70INDU8LA2", Request id "0HN70INDU8LA2:00000009": started reading request body.
2024-09-29 17:52:05.652 +03:00 [DBG] Connection id "0HN70INDU8LA2", Request id "0HN70INDU8LA2:00000009": done reading request body.
2024-09-29 17:52:05.677 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'CustomerOrder.API.Services.Authority.Dtos.LoginDto'
2024-09-29 17:52:05.679 +03:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'CustomerOrder.API.Services.Authority.Dtos.LoginDto'.
2024-09-29 17:52:05.684 +03:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'CustomerOrder.API.Services.Authority.Dtos.LoginDto'.
2024-09-29 17:52:05.685 +03:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'CustomerOrder.API.Services.Authority.Dtos.LoginDto' ...
2024-09-29 17:52:05.688 +03:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'CustomerOrder.API.Services.Authority.Dtos.LoginDto'.
2024-09-29 17:52:05.733 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-29 17:52:05.739 +03:00 [DBG] No information found on request to perform content negotiation.
2024-09-29 17:52:05.739 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-29 17:52:05.740 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-29 17:52:05.741 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-29 17:52:05.743 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-29 17:52:05.766 +03:00 [INF] Executed action CustomerOrder.API.Controllers.AuthorityController.Login (CustomerOrder.API) in 141.7952ms
2024-09-29 17:52:05.769 +03:00 [INF] Executed endpoint 'CustomerOrder.API.Controllers.AuthorityController.Login (CustomerOrder.API)'
2024-09-29 17:52:05.770 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Authority/login application/json 39 - 200 - application/json;+charset=utf-8 389.3027ms
2024-09-29 17:52:40.317 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/CustomerOrders/get/1 - -
2024-09-29 17:52:40.319 +03:00 [DBG] The request path  does not match the path filter
2024-09-29 17:52:40.322 +03:00 [DBG] 1 candidate(s) found for the request path '/api/CustomerOrders/get/1'
2024-09-29 17:52:40.325 +03:00 [DBG] Endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Get (CustomerOrder.API)' with route pattern 'api/CustomerOrders/get/{id}' is valid for the request path '/api/CustomerOrders/get/1'
2024-09-29 17:52:40.327 +03:00 [DBG] Request matched endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Get (CustomerOrder.API)'
2024-09-29 17:52:40.374 +03:00 [INF] Successfully validated the token.
2024-09-29 17:52:40.376 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-29 17:52:40.380 +03:00 [INF] Authorization was successful.
2024-09-29 17:52:40.381 +03:00 [INF] Executing endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Get (CustomerOrder.API)'
2024-09-29 17:52:40.390 +03:00 [INF] Route matched with {action = "Get", controller = "CustomerOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto]] Get(Int32) on controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API).
2024-09-29 17:52:40.391 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-29 17:52:40.392 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-29 17:52:40.393 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-29 17:52:40.394 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-29 17:52:40.394 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-29 17:52:40.395 +03:00 [DBG] Executing controller factory for controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API)
2024-09-29 17:52:40.872 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-29 17:52:41.097 +03:00 [DBG] Executed controller factory for controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API)
2024-09-29 17:52:41.099 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-09-29 17:52:41.100 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-09-29 17:52:41.102 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-29 17:52:41.103 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-29 17:52:41.104 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-09-29 17:52:41.104 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-09-29 17:52:46.212 +03:00 [DBG] The property 'CustomerOrderId.Product' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-29 17:52:46.347 +03:00 [INF] Entity Framework Core 5.0.10 initialized 'DataContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2024-09-29 17:52:46.420 +03:00 [DBG] Compiling query expression: 
'DbSet<CustomerOrder>()
    .Include(o => o.Customer)
    .Include(o => o.Products)
    .FirstOrDefault(o => o.Id == __id_0)'
2024-09-29 17:52:46.501 +03:00 [DBG] Including navigation: 'CustomerOrder.Customer'.
2024-09-29 17:52:46.507 +03:00 [DBG] Including navigation: 'CustomerOrder.Products'.
2024-09-29 17:52:46.804 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<CustomerOrder>(
    asyncEnumerable: new SingleQueryingEnumerable<CustomerOrder>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
            SELECT t.Id, t.CreatedBy, t.CreatedDate, t.CustomerId, t.IsDeleted, t.UpdatedBy, t.UpdatedDate, t.Id0, t.Address, t.CreatedBy0, t.CreatedDate0, t.Email, t.IsDeleted0, t.Name, t.UpdatedBy0, t.UpdatedDate0, p.Id, p.Barcode, p.CreatedBy, p.CreatedDate, p.CustomerOrderId, p.Description, p.IsDeleted, p.Price, p.Quantity, p.UpdatedBy, p.UpdatedDate
            FROM Projection Mapping:
            (
                SELECT TOP(1) c.Id, c.CreatedBy, c.CreatedDate, c.CustomerId, c.IsDeleted, c.UpdatedBy, c.UpdatedDate, c0.Id AS Id0, c0.Address, c0.CreatedBy AS CreatedBy0, c0.CreatedDate AS CreatedDate0, c0.Email, c0.IsDeleted AS IsDeleted0, c0.Name, c0.UpdatedBy AS UpdatedBy0, c0.UpdatedDate AS UpdatedDate0
                FROM CustomerOrders AS c
                INNER JOIN Customers AS c0 ON c.CustomerId == c0.Id
                WHERE c.Id == @__id_0
            ) AS t
            LEFT JOIN Products AS p ON t.Id == p.CustomerOrderId
            ORDER BY t.Id ASC, t.Id0 ASC, p.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, CustomerOrder>, 
        CustomerOrder.Data.Context.DataContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-29 17:52:46.871 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 17:52:46.907 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (29ms).
2024-09-29 17:52:46.918 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 17:52:47.539 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 17:52:47.561 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedBy", t."CreatedDate", t."CustomerId", t."IsDeleted", t."UpdatedBy", t."UpdatedDate", t."Id0", t."Address", t."CreatedBy0", t."CreatedDate0", t."Email", t."IsDeleted0", t."Name", t."UpdatedBy0", t."UpdatedDate0", p."Id", p."Barcode", p."CreatedBy", p."CreatedDate", p."CustomerOrderId", p."Description", p."IsDeleted", p."Price", p."Quantity", p."UpdatedBy", p."UpdatedDate"
FROM (
    SELECT c."Id", c."CreatedBy", c."CreatedDate", c."CustomerId", c."IsDeleted", c."UpdatedBy", c."UpdatedDate", c0."Id" AS "Id0", c0."Address", c0."CreatedBy" AS "CreatedBy0", c0."CreatedDate" AS "CreatedDate0", c0."Email", c0."IsDeleted" AS "IsDeleted0", c0."Name", c0."UpdatedBy" AS "UpdatedBy0", c0."UpdatedDate" AS "UpdatedDate0"
    FROM "CustomerOrders" AS c
    INNER JOIN "Customers" AS c0 ON c."CustomerId" = c0."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "Products" AS p ON t."Id" = p."CustomerOrderId"
ORDER BY t."Id", t."Id0", p."Id"
2024-09-29 17:52:47.591 +03:00 [INF] Executed DbCommand (36ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedBy", t."CreatedDate", t."CustomerId", t."IsDeleted", t."UpdatedBy", t."UpdatedDate", t."Id0", t."Address", t."CreatedBy0", t."CreatedDate0", t."Email", t."IsDeleted0", t."Name", t."UpdatedBy0", t."UpdatedDate0", p."Id", p."Barcode", p."CreatedBy", p."CreatedDate", p."CustomerOrderId", p."Description", p."IsDeleted", p."Price", p."Quantity", p."UpdatedBy", p."UpdatedDate"
FROM (
    SELECT c."Id", c."CreatedBy", c."CreatedDate", c."CustomerId", c."IsDeleted", c."UpdatedBy", c."UpdatedDate", c0."Id" AS "Id0", c0."Address", c0."CreatedBy" AS "CreatedBy0", c0."CreatedDate" AS "CreatedDate0", c0."Email", c0."IsDeleted" AS "IsDeleted0", c0."Name", c0."UpdatedBy" AS "UpdatedBy0", c0."UpdatedDate" AS "UpdatedDate0"
    FROM "CustomerOrders" AS c
    INNER JOIN "Customers" AS c0 ON c."CustomerId" = c0."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "Products" AS p ON t."Id" = p."CustomerOrderId"
ORDER BY t."Id", t."Id0", p."Id"
2024-09-29 17:52:47.632 +03:00 [DBG] Context 'DataContext' started tracking 'CustomerOrder' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 17:52:47.673 +03:00 [DBG] Context 'DataContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 17:52:47.718 +03:00 [DBG] Context 'DataContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 17:52:47.752 +03:00 [DBG] Context 'DataContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 17:52:47.758 +03:00 [DBG] A data reader was disposed.
2024-09-29 17:52:47.763 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 17:52:47.769 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 17:52:47.804 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-29 17:52:47.807 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-09-29 17:52:47.809 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-09-29 17:52:47.810 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-29 17:52:47.811 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-29 17:52:47.812 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-29 17:52:47.814 +03:00 [INF] Executing OkObjectResult, writing value of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 17:52:47.845 +03:00 [INF] Executed action CustomerOrder.API.Controllers.CustomerOrdersController.Get (CustomerOrder.API) in 7449.6336ms
2024-09-29 17:52:47.849 +03:00 [INF] Executed endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Get (CustomerOrder.API)'
2024-09-29 17:52:47.854 +03:00 [DBG] 'DataContext' disposed.
2024-09-29 17:52:47.857 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/CustomerOrders/get/1 - - - 200 - application/json;+charset=utf-8 7542.4158ms
2024-09-29 18:00:19.533 +03:00 [INF] Starting web host
2024-09-29 18:00:20.726 +03:00 [DBG] Hosting starting
2024-09-29 18:00:20.776 +03:00 [INF] User profile is available. Using 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-29 18:00:20.798 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-0aa42add-f3b4-405e-a8c2-992d6e29a85c.xml'.
2024-09-29 18:00:20.815 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-71b87755-2ee9-43e6-87de-6c92ed7c99a6.xml'.
2024-09-29 18:00:20.816 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-acea2ac6-9b67-4521-b460-630e25f9dc5a.xml'.
2024-09-29 18:00:20.824 +03:00 [DBG] Found key {0aa42add-f3b4-405e-a8c2-992d6e29a85c}.
2024-09-29 18:00:20.860 +03:00 [DBG] Found key {71b87755-2ee9-43e6-87de-6c92ed7c99a6}.
2024-09-29 18:00:20.863 +03:00 [DBG] Found key {acea2ac6-9b67-4521-b460-630e25f9dc5a}.
2024-09-29 18:00:20.888 +03:00 [DBG] Considering key {acea2ac6-9b67-4521-b460-630e25f9dc5a} with expiration date 2024-10-15 10:31:27Z as default key.
2024-09-29 18:00:20.915 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-29 18:00:20.930 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-29 18:00:20.935 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-29 18:00:20.948 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-29 18:00:20.960 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-29 18:00:20.967 +03:00 [DBG] Using key {acea2ac6-9b67-4521-b460-630e25f9dc5a} as the default key.
2024-09-29 18:00:20.970 +03:00 [DBG] Key ring with default key {acea2ac6-9b67-4521-b460-630e25f9dc5a} was loaded during application startup.
2024-09-29 18:00:21.291 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: D6697AE29B19EBA86816E6295ADBAF33F0642E18)
2024-09-29 18:00:21.327 +03:00 [INF] Now listening on: https://localhost:5001
2024-09-29 18:00:21.328 +03:00 [INF] Now listening on: http://localhost:5000
2024-09-29 18:00:21.330 +03:00 [DBG] Loaded hosting startup assembly CustomerOrder.API
2024-09-29 18:00:21.332 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-29 18:00:21.333 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-29 18:00:21.335 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-29 18:00:21.336 +03:00 [INF] Hosting environment: Development
2024-09-29 18:00:21.336 +03:00 [INF] Content root path: C:\Users\cagrie\source\repos\CustomerOrder\CustomerOrder.API
2024-09-29 18:00:21.337 +03:00 [DBG] Hosting started
2024-09-29 18:00:21.623 +03:00 [DBG] Connection id "0HN70ITOC4HNH" received FIN.
2024-09-29 18:00:21.623 +03:00 [DBG] Connection id "0HN70ITOC4HNI" received FIN.
2024-09-29 18:00:21.636 +03:00 [DBG] Connection id "0HN70ITOC4HNI" accepted.
2024-09-29 18:00:21.636 +03:00 [DBG] Connection id "0HN70ITOC4HNH" accepted.
2024-09-29 18:00:21.640 +03:00 [DBG] Connection id "0HN70ITOC4HNI" started.
2024-09-29 18:00:21.640 +03:00 [DBG] Connection id "0HN70ITOC4HNH" started.
2024-09-29 18:00:21.657 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.<>c.<ProcessAuthenticationWithTelemetry>b__169_2(Task t, Object s)
   at System.Threading.Tasks.ContinuationTaskFromTask.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-29 18:00:21.657 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.<>c.<ProcessAuthenticationWithTelemetry>b__169_2(Task t, Object s)
   at System.Threading.Tasks.ContinuationTaskFromTask.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-29 18:00:21.704 +03:00 [DBG] Connection id "0HN70ITOC4HNI" stopped.
2024-09-29 18:00:21.704 +03:00 [DBG] Connection id "0HN70ITOC4HNH" stopped.
2024-09-29 18:00:21.711 +03:00 [DBG] Connection id "0HN70ITOC4HNH" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 18:00:21.711 +03:00 [DBG] Connection id "0HN70ITOC4HNI" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 18:00:30.024 +03:00 [DBG] Connection id "0HN70ITOC4HNJ" accepted.
2024-09-29 18:00:30.028 +03:00 [DBG] Connection id "0HN70ITOC4HNJ" started.
2024-09-29 18:00:30.149 +03:00 [DBG] Connection "0HN70ITOC4HNJ" established using the following protocol: "Tls13"
2024-09-29 18:00:30.245 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2024-09-29 18:00:30.373 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-29 18:00:30.547 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-29 18:00:30.560 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-29 18:00:30.569 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 327.9183ms
2024-09-29 18:00:30.570 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - -
2024-09-29 18:00:30.570 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - -
2024-09-29 18:00:30.585 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - - - 200 12366 application/javascript;+charset=utf-8 15.0497ms
2024-09-29 18:00:30.628 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 58.4656ms
2024-09-29 18:00:30.662 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2024-09-29 18:00:30.772 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 110.4808ms
2024-09-29 18:00:36.154 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/CustomerOrders/get/1 - -
2024-09-29 18:00:36.158 +03:00 [DBG] The request path  does not match the path filter
2024-09-29 18:00:36.204 +03:00 [DBG] 1 candidate(s) found for the request path '/api/CustomerOrders/get/1'
2024-09-29 18:00:36.212 +03:00 [DBG] Endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Get (CustomerOrder.API)' with route pattern 'api/CustomerOrders/get/{id}' is valid for the request path '/api/CustomerOrders/get/1'
2024-09-29 18:00:36.216 +03:00 [DBG] Request matched endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Get (CustomerOrder.API)'
2024-09-29 18:00:36.322 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-29 18:00:36.327 +03:00 [INF] Executing endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Get (CustomerOrder.API)'
2024-09-29 18:00:36.345 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-29 18:00:36.404 +03:00 [INF] Route matched with {action = "Get", controller = "CustomerOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto]] Get(Int32) on controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API).
2024-09-29 18:00:36.409 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-29 18:00:36.410 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-29 18:00:36.411 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-29 18:00:36.412 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-29 18:00:36.414 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-29 18:00:36.416 +03:00 [DBG] Executing controller factory for controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API)
2024-09-29 18:00:36.587 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-29 18:00:36.871 +03:00 [DBG] Executed controller factory for controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API)
2024-09-29 18:00:36.885 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-09-29 18:00:36.888 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-09-29 18:00:36.893 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-29 18:00:36.895 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-29 18:00:36.896 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-09-29 18:00:36.898 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-09-29 18:00:39.569 +03:00 [DBG] The property 'CustomerOrderId.Product' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-29 18:00:39.729 +03:00 [INF] Entity Framework Core 5.0.10 initialized 'DataContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2024-09-29 18:00:39.831 +03:00 [DBG] Compiling query expression: 
'DbSet<CustomerOrder>()
    .Include(o => o.Customer)
    .Include(o => o.Products)
    .FirstOrDefault(o => o.Id == __id_0)'
2024-09-29 18:00:39.937 +03:00 [DBG] Including navigation: 'CustomerOrder.Customer'.
2024-09-29 18:00:39.940 +03:00 [DBG] Including navigation: 'CustomerOrder.Products'.
2024-09-29 18:00:40.202 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<CustomerOrder>(
    asyncEnumerable: new SingleQueryingEnumerable<CustomerOrder>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
            SELECT t.Id, t.CreatedBy, t.CreatedDate, t.CustomerId, t.IsDeleted, t.UpdatedBy, t.UpdatedDate, t.Id0, t.Address, t.CreatedBy0, t.CreatedDate0, t.Email, t.IsDeleted0, t.Name, t.UpdatedBy0, t.UpdatedDate0, p.Id, p.Barcode, p.CreatedBy, p.CreatedDate, p.CustomerOrderId, p.Description, p.IsDeleted, p.Price, p.Quantity, p.UpdatedBy, p.UpdatedDate
            FROM Projection Mapping:
            (
                SELECT TOP(1) c.Id, c.CreatedBy, c.CreatedDate, c.CustomerId, c.IsDeleted, c.UpdatedBy, c.UpdatedDate, c0.Id AS Id0, c0.Address, c0.CreatedBy AS CreatedBy0, c0.CreatedDate AS CreatedDate0, c0.Email, c0.IsDeleted AS IsDeleted0, c0.Name, c0.UpdatedBy AS UpdatedBy0, c0.UpdatedDate AS UpdatedDate0
                FROM CustomerOrders AS c
                INNER JOIN Customers AS c0 ON c.CustomerId == c0.Id
                WHERE c.Id == @__id_0
            ) AS t
            LEFT JOIN Products AS p ON t.Id == p.CustomerOrderId
            ORDER BY t.Id ASC, t.Id0 ASC, p.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, CustomerOrder>, 
        CustomerOrder.Data.Context.DataContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-29 18:00:40.268 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 18:00:40.304 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (28ms).
2024-09-29 18:00:40.314 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 18:00:40.859 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 18:00:40.879 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedBy", t."CreatedDate", t."CustomerId", t."IsDeleted", t."UpdatedBy", t."UpdatedDate", t."Id0", t."Address", t."CreatedBy0", t."CreatedDate0", t."Email", t."IsDeleted0", t."Name", t."UpdatedBy0", t."UpdatedDate0", p."Id", p."Barcode", p."CreatedBy", p."CreatedDate", p."CustomerOrderId", p."Description", p."IsDeleted", p."Price", p."Quantity", p."UpdatedBy", p."UpdatedDate"
FROM (
    SELECT c."Id", c."CreatedBy", c."CreatedDate", c."CustomerId", c."IsDeleted", c."UpdatedBy", c."UpdatedDate", c0."Id" AS "Id0", c0."Address", c0."CreatedBy" AS "CreatedBy0", c0."CreatedDate" AS "CreatedDate0", c0."Email", c0."IsDeleted" AS "IsDeleted0", c0."Name", c0."UpdatedBy" AS "UpdatedBy0", c0."UpdatedDate" AS "UpdatedDate0"
    FROM "CustomerOrders" AS c
    INNER JOIN "Customers" AS c0 ON c."CustomerId" = c0."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "Products" AS p ON t."Id" = p."CustomerOrderId"
ORDER BY t."Id", t."Id0", p."Id"
2024-09-29 18:00:40.907 +03:00 [INF] Executed DbCommand (30ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedBy", t."CreatedDate", t."CustomerId", t."IsDeleted", t."UpdatedBy", t."UpdatedDate", t."Id0", t."Address", t."CreatedBy0", t."CreatedDate0", t."Email", t."IsDeleted0", t."Name", t."UpdatedBy0", t."UpdatedDate0", p."Id", p."Barcode", p."CreatedBy", p."CreatedDate", p."CustomerOrderId", p."Description", p."IsDeleted", p."Price", p."Quantity", p."UpdatedBy", p."UpdatedDate"
FROM (
    SELECT c."Id", c."CreatedBy", c."CreatedDate", c."CustomerId", c."IsDeleted", c."UpdatedBy", c."UpdatedDate", c0."Id" AS "Id0", c0."Address", c0."CreatedBy" AS "CreatedBy0", c0."CreatedDate" AS "CreatedDate0", c0."Email", c0."IsDeleted" AS "IsDeleted0", c0."Name", c0."UpdatedBy" AS "UpdatedBy0", c0."UpdatedDate" AS "UpdatedDate0"
    FROM "CustomerOrders" AS c
    INNER JOIN "Customers" AS c0 ON c."CustomerId" = c0."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "Products" AS p ON t."Id" = p."CustomerOrderId"
ORDER BY t."Id", t."Id0", p."Id"
2024-09-29 18:00:40.956 +03:00 [DBG] Context 'DataContext' started tracking 'CustomerOrder' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 18:00:41.023 +03:00 [DBG] Context 'DataContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 18:00:41.091 +03:00 [DBG] Context 'DataContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 18:00:41.130 +03:00 [DBG] Context 'DataContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 18:00:41.137 +03:00 [DBG] A data reader was disposed.
2024-09-29 18:00:41.143 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 18:00:41.152 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 18:00:41.194 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-29 18:00:41.200 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-09-29 18:00:41.202 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-09-29 18:00:41.204 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-29 18:00:41.206 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-29 18:00:41.209 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-29 18:00:41.210 +03:00 [INF] Executing OkObjectResult, writing value of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 18:00:41.252 +03:00 [INF] Executed action CustomerOrder.API.Controllers.CustomerOrdersController.Get (CustomerOrder.API) in 4829.6548ms
2024-09-29 18:00:41.257 +03:00 [INF] Executed endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Get (CustomerOrder.API)'
2024-09-29 18:00:41.264 +03:00 [DBG] 'DataContext' disposed.
2024-09-29 18:00:41.269 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/CustomerOrders/get/1 - - - 200 - application/json;+charset=utf-8 5115.1183ms
2024-09-29 18:01:34.484 +03:00 [INF] Starting web host
2024-09-29 18:01:35.889 +03:00 [DBG] Hosting starting
2024-09-29 18:01:35.989 +03:00 [INF] User profile is available. Using 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-29 18:01:36.022 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-0aa42add-f3b4-405e-a8c2-992d6e29a85c.xml'.
2024-09-29 18:01:36.041 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-71b87755-2ee9-43e6-87de-6c92ed7c99a6.xml'.
2024-09-29 18:01:36.042 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-acea2ac6-9b67-4521-b460-630e25f9dc5a.xml'.
2024-09-29 18:01:36.051 +03:00 [DBG] Found key {0aa42add-f3b4-405e-a8c2-992d6e29a85c}.
2024-09-29 18:01:36.063 +03:00 [DBG] Found key {71b87755-2ee9-43e6-87de-6c92ed7c99a6}.
2024-09-29 18:01:36.064 +03:00 [DBG] Found key {acea2ac6-9b67-4521-b460-630e25f9dc5a}.
2024-09-29 18:01:36.078 +03:00 [DBG] Considering key {acea2ac6-9b67-4521-b460-630e25f9dc5a} with expiration date 2024-10-15 10:31:27Z as default key.
2024-09-29 18:01:36.098 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-29 18:01:36.105 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-29 18:01:36.107 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-29 18:01:36.119 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-29 18:01:36.126 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-29 18:01:36.132 +03:00 [DBG] Using key {acea2ac6-9b67-4521-b460-630e25f9dc5a} as the default key.
2024-09-29 18:01:36.134 +03:00 [DBG] Key ring with default key {acea2ac6-9b67-4521-b460-630e25f9dc5a} was loaded during application startup.
2024-09-29 18:01:36.411 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: D6697AE29B19EBA86816E6295ADBAF33F0642E18)
2024-09-29 18:01:36.434 +03:00 [INF] Now listening on: https://localhost:5001
2024-09-29 18:01:36.438 +03:00 [INF] Now listening on: http://localhost:5000
2024-09-29 18:01:36.438 +03:00 [DBG] Loaded hosting startup assembly CustomerOrder.API
2024-09-29 18:01:36.439 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-29 18:01:36.439 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-29 18:01:36.440 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-29 18:01:36.441 +03:00 [INF] Hosting environment: Development
2024-09-29 18:01:36.441 +03:00 [INF] Content root path: C:\Users\cagrie\source\repos\CustomerOrder\CustomerOrder.API
2024-09-29 18:01:36.442 +03:00 [DBG] Hosting started
2024-09-29 18:01:36.564 +03:00 [DBG] Connection id "0HN70IUEMQK3V" received FIN.
2024-09-29 18:01:36.564 +03:00 [DBG] Connection id "0HN70IUEMQK40" received FIN.
2024-09-29 18:01:36.570 +03:00 [DBG] Connection id "0HN70IUEMQK3V" accepted.
2024-09-29 18:01:36.570 +03:00 [DBG] Connection id "0HN70IUEMQK40" accepted.
2024-09-29 18:01:36.575 +03:00 [DBG] Connection id "0HN70IUEMQK40" started.
2024-09-29 18:01:36.575 +03:00 [DBG] Connection id "0HN70IUEMQK3V" started.
2024-09-29 18:01:36.608 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.<>c.<ProcessAuthenticationWithTelemetry>b__169_2(Task t, Object s)
   at System.Threading.Tasks.ContinuationTaskFromTask.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-29 18:01:36.608 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.<>c.<ProcessAuthenticationWithTelemetry>b__169_2(Task t, Object s)
   at System.Threading.Tasks.ContinuationTaskFromTask.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-29 18:01:36.672 +03:00 [DBG] Connection id "0HN70IUEMQK3V" stopped.
2024-09-29 18:01:36.672 +03:00 [DBG] Connection id "0HN70IUEMQK40" stopped.
2024-09-29 18:01:36.675 +03:00 [DBG] Connection id "0HN70IUEMQK3V" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 18:01:36.675 +03:00 [DBG] Connection id "0HN70IUEMQK40" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 18:01:36.736 +03:00 [DBG] Connection id "0HN70IUEMQK41" accepted.
2024-09-29 18:01:36.737 +03:00 [DBG] Connection id "0HN70IUEMQK41" started.
2024-09-29 18:01:36.832 +03:00 [DBG] Connection "0HN70IUEMQK41" established using the following protocol: "Tls13"
2024-09-29 18:01:36.918 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2024-09-29 18:01:37.003 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-29 18:01:37.129 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-29 18:01:37.138 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-29 18:01:37.147 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 231.3969ms
2024-09-29 18:01:37.151 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - -
2024-09-29 18:01:37.151 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - -
2024-09-29 18:01:37.157 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - - - 200 12366 application/javascript;+charset=utf-8 6.5274ms
2024-09-29 18:01:37.206 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 54.7733ms
2024-09-29 18:01:37.244 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2024-09-29 18:01:37.329 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 85.6830ms
2024-09-29 18:01:41.522 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/CustomerOrders/get/1 - -
2024-09-29 18:01:41.528 +03:00 [DBG] The request path  does not match the path filter
2024-09-29 18:01:41.554 +03:00 [DBG] 1 candidate(s) found for the request path '/api/CustomerOrders/get/1'
2024-09-29 18:01:41.562 +03:00 [DBG] Endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Get (CustomerOrder.API)' with route pattern 'api/CustomerOrders/get/{id}' is valid for the request path '/api/CustomerOrders/get/1'
2024-09-29 18:01:41.565 +03:00 [DBG] Request matched endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Get (CustomerOrder.API)'
2024-09-29 18:01:41.633 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-29 18:01:41.636 +03:00 [INF] Executing endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Get (CustomerOrder.API)'
2024-09-29 18:01:41.643 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-29 18:01:41.674 +03:00 [INF] Route matched with {action = "Get", controller = "CustomerOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto]] Get(Int32) on controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API).
2024-09-29 18:01:41.677 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-29 18:01:41.678 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-29 18:01:41.678 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-29 18:01:41.679 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-29 18:01:41.680 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-29 18:01:41.681 +03:00 [DBG] Executing controller factory for controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API)
2024-09-29 18:01:41.787 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-29 18:01:41.989 +03:00 [DBG] Executed controller factory for controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API)
2024-09-29 18:01:42.005 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-09-29 18:01:42.009 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-09-29 18:01:42.012 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-29 18:01:42.014 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-29 18:01:42.015 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-09-29 18:01:42.019 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-09-29 18:01:47.094 +03:00 [DBG] The property 'CustomerOrderId.Product' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-29 18:01:47.273 +03:00 [INF] Entity Framework Core 5.0.10 initialized 'DataContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2024-09-29 18:01:47.366 +03:00 [DBG] Compiling query expression: 
'DbSet<CustomerOrder>()
    .Include(o => o.Customer)
    .Include(o => o.Products)
    .FirstOrDefault(o => o.Id == __id_0)'
2024-09-29 18:01:47.449 +03:00 [DBG] Including navigation: 'CustomerOrder.Customer'.
2024-09-29 18:01:47.453 +03:00 [DBG] Including navigation: 'CustomerOrder.Products'.
2024-09-29 18:01:47.753 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<CustomerOrder>(
    asyncEnumerable: new SingleQueryingEnumerable<CustomerOrder>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
            SELECT t.Id, t.CreatedBy, t.CreatedDate, t.CustomerId, t.IsDeleted, t.UpdatedBy, t.UpdatedDate, t.Id0, t.Address, t.CreatedBy0, t.CreatedDate0, t.Email, t.IsDeleted0, t.Name, t.UpdatedBy0, t.UpdatedDate0, p.Id, p.Barcode, p.CreatedBy, p.CreatedDate, p.CustomerOrderId, p.Description, p.IsDeleted, p.Price, p.Quantity, p.UpdatedBy, p.UpdatedDate
            FROM Projection Mapping:
            (
                SELECT TOP(1) c.Id, c.CreatedBy, c.CreatedDate, c.CustomerId, c.IsDeleted, c.UpdatedBy, c.UpdatedDate, c0.Id AS Id0, c0.Address, c0.CreatedBy AS CreatedBy0, c0.CreatedDate AS CreatedDate0, c0.Email, c0.IsDeleted AS IsDeleted0, c0.Name, c0.UpdatedBy AS UpdatedBy0, c0.UpdatedDate AS UpdatedDate0
                FROM CustomerOrders AS c
                INNER JOIN Customers AS c0 ON c.CustomerId == c0.Id
                WHERE c.Id == @__id_0
            ) AS t
            LEFT JOIN Products AS p ON t.Id == p.CustomerOrderId
            ORDER BY t.Id ASC, t.Id0 ASC, p.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, CustomerOrder>, 
        CustomerOrder.Data.Context.DataContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-29 18:01:47.825 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 18:01:47.860 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (30ms).
2024-09-29 18:01:47.871 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 18:01:48.485 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 18:01:48.503 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedBy", t."CreatedDate", t."CustomerId", t."IsDeleted", t."UpdatedBy", t."UpdatedDate", t."Id0", t."Address", t."CreatedBy0", t."CreatedDate0", t."Email", t."IsDeleted0", t."Name", t."UpdatedBy0", t."UpdatedDate0", p."Id", p."Barcode", p."CreatedBy", p."CreatedDate", p."CustomerOrderId", p."Description", p."IsDeleted", p."Price", p."Quantity", p."UpdatedBy", p."UpdatedDate"
FROM (
    SELECT c."Id", c."CreatedBy", c."CreatedDate", c."CustomerId", c."IsDeleted", c."UpdatedBy", c."UpdatedDate", c0."Id" AS "Id0", c0."Address", c0."CreatedBy" AS "CreatedBy0", c0."CreatedDate" AS "CreatedDate0", c0."Email", c0."IsDeleted" AS "IsDeleted0", c0."Name", c0."UpdatedBy" AS "UpdatedBy0", c0."UpdatedDate" AS "UpdatedDate0"
    FROM "CustomerOrders" AS c
    INNER JOIN "Customers" AS c0 ON c."CustomerId" = c0."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "Products" AS p ON t."Id" = p."CustomerOrderId"
ORDER BY t."Id", t."Id0", p."Id"
2024-09-29 18:01:48.527 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedBy", t."CreatedDate", t."CustomerId", t."IsDeleted", t."UpdatedBy", t."UpdatedDate", t."Id0", t."Address", t."CreatedBy0", t."CreatedDate0", t."Email", t."IsDeleted0", t."Name", t."UpdatedBy0", t."UpdatedDate0", p."Id", p."Barcode", p."CreatedBy", p."CreatedDate", p."CustomerOrderId", p."Description", p."IsDeleted", p."Price", p."Quantity", p."UpdatedBy", p."UpdatedDate"
FROM (
    SELECT c."Id", c."CreatedBy", c."CreatedDate", c."CustomerId", c."IsDeleted", c."UpdatedBy", c."UpdatedDate", c0."Id" AS "Id0", c0."Address", c0."CreatedBy" AS "CreatedBy0", c0."CreatedDate" AS "CreatedDate0", c0."Email", c0."IsDeleted" AS "IsDeleted0", c0."Name", c0."UpdatedBy" AS "UpdatedBy0", c0."UpdatedDate" AS "UpdatedDate0"
    FROM "CustomerOrders" AS c
    INNER JOIN "Customers" AS c0 ON c."CustomerId" = c0."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "Products" AS p ON t."Id" = p."CustomerOrderId"
ORDER BY t."Id", t."Id0", p."Id"
2024-09-29 18:01:48.567 +03:00 [DBG] Context 'DataContext' started tracking 'CustomerOrder' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 18:01:48.632 +03:00 [DBG] Context 'DataContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 18:01:48.685 +03:00 [DBG] Context 'DataContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 18:01:48.723 +03:00 [DBG] Context 'DataContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 18:01:48.728 +03:00 [DBG] A data reader was disposed.
2024-09-29 18:01:48.731 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 18:01:48.737 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 18:01:51.738 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-29 18:01:51.749 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-09-29 18:01:51.751 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-09-29 18:01:51.754 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-29 18:01:51.755 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-29 18:01:51.756 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-29 18:01:51.757 +03:00 [INF] Executing OkObjectResult, writing value of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 18:01:51.794 +03:00 [INF] Executed action CustomerOrder.API.Controllers.CustomerOrdersController.Get (CustomerOrder.API) in 10108.0827ms
2024-09-29 18:01:51.796 +03:00 [INF] Executed endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Get (CustomerOrder.API)'
2024-09-29 18:01:51.805 +03:00 [DBG] 'DataContext' disposed.
2024-09-29 18:01:51.810 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/CustomerOrders/get/1 - - - 200 - application/json;+charset=utf-8 10287.8779ms
2024-09-29 18:06:58.754 +03:00 [INF] Starting web host
2024-09-29 18:06:59.614 +03:00 [DBG] Hosting starting
2024-09-29 18:06:59.663 +03:00 [INF] User profile is available. Using 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-29 18:06:59.702 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-0aa42add-f3b4-405e-a8c2-992d6e29a85c.xml'.
2024-09-29 18:06:59.729 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-71b87755-2ee9-43e6-87de-6c92ed7c99a6.xml'.
2024-09-29 18:06:59.732 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-acea2ac6-9b67-4521-b460-630e25f9dc5a.xml'.
2024-09-29 18:06:59.746 +03:00 [DBG] Found key {0aa42add-f3b4-405e-a8c2-992d6e29a85c}.
2024-09-29 18:06:59.782 +03:00 [DBG] Found key {71b87755-2ee9-43e6-87de-6c92ed7c99a6}.
2024-09-29 18:06:59.790 +03:00 [DBG] Found key {acea2ac6-9b67-4521-b460-630e25f9dc5a}.
2024-09-29 18:06:59.806 +03:00 [DBG] Considering key {acea2ac6-9b67-4521-b460-630e25f9dc5a} with expiration date 2024-10-15 10:31:27Z as default key.
2024-09-29 18:06:59.858 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-29 18:06:59.864 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-29 18:06:59.870 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-29 18:06:59.882 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-29 18:06:59.891 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-29 18:06:59.898 +03:00 [DBG] Using key {acea2ac6-9b67-4521-b460-630e25f9dc5a} as the default key.
2024-09-29 18:06:59.900 +03:00 [DBG] Key ring with default key {acea2ac6-9b67-4521-b460-630e25f9dc5a} was loaded during application startup.
2024-09-29 18:07:10.785 +03:00 [INF] Starting web host
2024-09-29 18:07:11.908 +03:00 [DBG] Hosting starting
2024-09-29 18:07:11.984 +03:00 [INF] User profile is available. Using 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-29 18:07:12.021 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-0aa42add-f3b4-405e-a8c2-992d6e29a85c.xml'.
2024-09-29 18:07:12.167 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-71b87755-2ee9-43e6-87de-6c92ed7c99a6.xml'.
2024-09-29 18:07:12.172 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-acea2ac6-9b67-4521-b460-630e25f9dc5a.xml'.
2024-09-29 18:07:12.183 +03:00 [DBG] Found key {0aa42add-f3b4-405e-a8c2-992d6e29a85c}.
2024-09-29 18:07:12.199 +03:00 [DBG] Found key {71b87755-2ee9-43e6-87de-6c92ed7c99a6}.
2024-09-29 18:07:12.201 +03:00 [DBG] Found key {acea2ac6-9b67-4521-b460-630e25f9dc5a}.
2024-09-29 18:07:12.219 +03:00 [DBG] Considering key {acea2ac6-9b67-4521-b460-630e25f9dc5a} with expiration date 2024-10-15 10:31:27Z as default key.
2024-09-29 18:07:12.246 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-29 18:07:12.252 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-29 18:07:12.261 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-29 18:07:12.280 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-29 18:07:12.287 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-29 18:07:12.294 +03:00 [DBG] Using key {acea2ac6-9b67-4521-b460-630e25f9dc5a} as the default key.
2024-09-29 18:07:12.296 +03:00 [DBG] Key ring with default key {acea2ac6-9b67-4521-b460-630e25f9dc5a} was loaded during application startup.
2024-09-29 18:07:12.664 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: D6697AE29B19EBA86816E6295ADBAF33F0642E18)
2024-09-29 18:07:12.696 +03:00 [INF] Now listening on: https://localhost:5001
2024-09-29 18:07:12.702 +03:00 [INF] Now listening on: http://localhost:5000
2024-09-29 18:07:12.703 +03:00 [DBG] Loaded hosting startup assembly CustomerOrder.API
2024-09-29 18:07:12.704 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-29 18:07:12.705 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-29 18:07:12.707 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-29 18:07:12.708 +03:00 [INF] Hosting environment: Development
2024-09-29 18:07:12.709 +03:00 [INF] Content root path: C:\Users\cagrie\source\repos\CustomerOrder\CustomerOrder.API
2024-09-29 18:07:12.709 +03:00 [DBG] Hosting started
2024-09-29 18:07:12.898 +03:00 [DBG] Connection id "0HN70J1IUBOEM" received FIN.
2024-09-29 18:07:12.898 +03:00 [DBG] Connection id "0HN70J1IUBOEL" received FIN.
2024-09-29 18:07:12.904 +03:00 [DBG] Connection id "0HN70J1IUBOEL" accepted.
2024-09-29 18:07:12.904 +03:00 [DBG] Connection id "0HN70J1IUBOEM" accepted.
2024-09-29 18:07:12.908 +03:00 [DBG] Connection id "0HN70J1IUBOEL" started.
2024-09-29 18:07:12.908 +03:00 [DBG] Connection id "0HN70J1IUBOEM" started.
2024-09-29 18:07:12.932 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.<>c.<ProcessAuthenticationWithTelemetry>b__169_2(Task t, Object s)
   at System.Threading.Tasks.ContinuationTaskFromTask.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-29 18:07:12.932 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.<>c.<ProcessAuthenticationWithTelemetry>b__169_2(Task t, Object s)
   at System.Threading.Tasks.ContinuationTaskFromTask.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-29 18:07:12.979 +03:00 [DBG] Connection id "0HN70J1IUBOEL" stopped.
2024-09-29 18:07:12.979 +03:00 [DBG] Connection id "0HN70J1IUBOEM" stopped.
2024-09-29 18:07:12.981 +03:00 [DBG] Connection id "0HN70J1IUBOEL" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 18:07:12.981 +03:00 [DBG] Connection id "0HN70J1IUBOEM" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 18:07:13.001 +03:00 [DBG] Connection id "0HN70J1IUBOEN" accepted.
2024-09-29 18:07:13.005 +03:00 [DBG] Connection id "0HN70J1IUBOEN" started.
2024-09-29 18:07:13.069 +03:00 [DBG] Connection "0HN70J1IUBOEN" established using the following protocol: "Tls13"
2024-09-29 18:07:13.152 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2024-09-29 18:07:13.243 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-29 18:07:13.393 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-29 18:07:13.404 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-29 18:07:13.413 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 262.3356ms
2024-09-29 18:07:13.416 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - -
2024-09-29 18:07:13.417 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - -
2024-09-29 18:07:13.432 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - - - 200 12366 application/javascript;+charset=utf-8 15.7342ms
2024-09-29 18:07:13.479 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 62.4493ms
2024-09-29 18:07:13.509 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2024-09-29 18:07:13.594 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 85.0751ms
2024-09-29 18:07:27.720 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Products/getall - -
2024-09-29 18:07:27.724 +03:00 [DBG] The request path  does not match the path filter
2024-09-29 18:07:27.761 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Products/getall'
2024-09-29 18:07:27.771 +03:00 [DBG] Endpoint 'CustomerOrder.API.Controllers.ProductsController.GetAll (CustomerOrder.API)' with route pattern 'api/Products/getall' is valid for the request path '/api/Products/getall'
2024-09-29 18:07:27.774 +03:00 [DBG] Request matched endpoint 'CustomerOrder.API.Controllers.ProductsController.GetAll (CustomerOrder.API)'
2024-09-29 18:07:27.855 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-29 18:07:27.860 +03:00 [INF] Executing endpoint 'CustomerOrder.API.Controllers.ProductsController.GetAll (CustomerOrder.API)'
2024-09-29 18:07:27.876 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-29 18:07:27.947 +03:00 [INF] Route matched with {action = "GetAll", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller CustomerOrder.API.Controllers.ProductsController (CustomerOrder.API).
2024-09-29 18:07:27.950 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-29 18:07:27.955 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-29 18:07:27.957 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-29 18:07:27.957 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-29 18:07:27.958 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-29 18:07:27.959 +03:00 [DBG] Executing controller factory for controller CustomerOrder.API.Controllers.ProductsController (CustomerOrder.API)
2024-09-29 18:07:28.100 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-29 18:07:28.142 +03:00 [DBG] Executed controller factory for controller CustomerOrder.API.Controllers.ProductsController (CustomerOrder.API)
2024-09-29 18:07:38.447 +03:00 [INF] GetAllProductsAsync error: Object reference not set to an instance of an object.
2024-09-29 18:07:38.505 +03:00 [INF] Executed action CustomerOrder.API.Controllers.ProductsController.GetAll (CustomerOrder.API) in 10542.1079ms
2024-09-29 18:07:38.510 +03:00 [INF] Executed endpoint 'CustomerOrder.API.Controllers.ProductsController.GetAll (CustomerOrder.API)'
2024-09-29 18:07:38.512 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: An error occurred while getall products: Object reference not set to an instance of an object.
   at CustomerOrder.API.Services.ProductsService.GetAllProductsAsync() in C:\Users\cagrie\source\repos\CustomerOrder\CustomerOrder.API\Services\ProductsService.cs:line 51
   at CustomerOrder.API.Controllers.ProductsController.GetAll() in C:\Users\cagrie\source\repos\CustomerOrder\CustomerOrder.API\Controllers\ProductsController.cs:line 23
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-09-29 18:07:38.540 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Products/getall - - - 500 - text/plain 10819.3914ms
2024-09-29 18:17:57.179 +03:00 [INF] Starting web host
2024-09-29 18:17:58.437 +03:00 [DBG] Hosting starting
2024-09-29 18:17:58.580 +03:00 [INF] User profile is available. Using 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-29 18:17:58.615 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-0aa42add-f3b4-405e-a8c2-992d6e29a85c.xml'.
2024-09-29 18:17:58.633 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-71b87755-2ee9-43e6-87de-6c92ed7c99a6.xml'.
2024-09-29 18:17:58.634 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-acea2ac6-9b67-4521-b460-630e25f9dc5a.xml'.
2024-09-29 18:17:58.642 +03:00 [DBG] Found key {0aa42add-f3b4-405e-a8c2-992d6e29a85c}.
2024-09-29 18:17:58.649 +03:00 [DBG] Found key {71b87755-2ee9-43e6-87de-6c92ed7c99a6}.
2024-09-29 18:17:58.651 +03:00 [DBG] Found key {acea2ac6-9b67-4521-b460-630e25f9dc5a}.
2024-09-29 18:17:58.662 +03:00 [DBG] Considering key {acea2ac6-9b67-4521-b460-630e25f9dc5a} with expiration date 2024-10-15 10:31:27Z as default key.
2024-09-29 18:17:58.675 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-29 18:17:58.680 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-29 18:17:58.681 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-29 18:17:58.687 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-29 18:17:58.692 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-29 18:17:58.696 +03:00 [DBG] Using key {acea2ac6-9b67-4521-b460-630e25f9dc5a} as the default key.
2024-09-29 18:17:58.697 +03:00 [DBG] Key ring with default key {acea2ac6-9b67-4521-b460-630e25f9dc5a} was loaded during application startup.
2024-09-29 18:17:58.943 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: D6697AE29B19EBA86816E6295ADBAF33F0642E18)
2024-09-29 18:17:58.966 +03:00 [INF] Now listening on: https://localhost:5001
2024-09-29 18:17:58.971 +03:00 [INF] Now listening on: http://localhost:5000
2024-09-29 18:17:58.972 +03:00 [DBG] Loaded hosting startup assembly CustomerOrder.API
2024-09-29 18:17:58.974 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-29 18:17:58.975 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-29 18:17:58.977 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-29 18:17:58.977 +03:00 [INF] Hosting environment: Development
2024-09-29 18:17:58.978 +03:00 [INF] Content root path: C:\Users\cagrie\source\repos\CustomerOrder\CustomerOrder.API
2024-09-29 18:17:58.979 +03:00 [DBG] Hosting started
2024-09-29 18:17:59.149 +03:00 [DBG] Connection id "0HN70J7JHFTKB" received FIN.
2024-09-29 18:17:59.149 +03:00 [DBG] Connection id "0HN70J7JHFTKA" received FIN.
2024-09-29 18:17:59.154 +03:00 [DBG] Connection id "0HN70J7JHFTKC" accepted.
2024-09-29 18:17:59.154 +03:00 [DBG] Connection id "0HN70J7JHFTKD" accepted.
2024-09-29 18:17:59.157 +03:00 [DBG] Connection id "0HN70J7JHFTKC" started.
2024-09-29 18:17:59.157 +03:00 [DBG] Connection id "0HN70J7JHFTKD" started.
2024-09-29 18:17:59.186 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.<>c.<ProcessAuthenticationWithTelemetry>b__169_2(Task t, Object s)
   at System.Threading.Tasks.ContinuationTaskFromTask.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-29 18:17:59.186 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.<>c.<ProcessAuthenticationWithTelemetry>b__169_2(Task t, Object s)
   at System.Threading.Tasks.ContinuationTaskFromTask.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-29 18:17:59.236 +03:00 [DBG] Connection id "0HN70J7JHFTKC" stopped.
2024-09-29 18:17:59.236 +03:00 [DBG] Connection id "0HN70J7JHFTKD" stopped.
2024-09-29 18:17:59.240 +03:00 [DBG] Connection id "0HN70J7JHFTKC" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 18:17:59.240 +03:00 [DBG] Connection id "0HN70J7JHFTKD" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 18:18:06.563 +03:00 [DBG] Connection id "0HN70J7JHFTKE" accepted.
2024-09-29 18:18:06.565 +03:00 [DBG] Connection id "0HN70J7JHFTKE" started.
2024-09-29 18:18:06.650 +03:00 [DBG] Connection "0HN70J7JHFTKE" established using the following protocol: "Tls13"
2024-09-29 18:18:06.736 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2024-09-29 18:18:06.847 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-29 18:18:07.080 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-29 18:18:07.095 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-29 18:18:07.105 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 368.7289ms
2024-09-29 18:18:07.107 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - -
2024-09-29 18:18:07.107 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - -
2024-09-29 18:18:07.122 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - - - 200 12366 application/javascript;+charset=utf-8 13.9773ms
2024-09-29 18:18:07.179 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 71.0345ms
2024-09-29 18:18:07.215 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2024-09-29 18:18:07.354 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 138.5358ms
2024-09-29 18:20:02.425 +03:00 [INF] Starting web host
2024-09-29 18:20:04.003 +03:00 [DBG] Hosting starting
2024-09-29 18:20:04.087 +03:00 [INF] User profile is available. Using 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-29 18:20:04.115 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-0aa42add-f3b4-405e-a8c2-992d6e29a85c.xml'.
2024-09-29 18:20:04.134 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-71b87755-2ee9-43e6-87de-6c92ed7c99a6.xml'.
2024-09-29 18:20:04.135 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-acea2ac6-9b67-4521-b460-630e25f9dc5a.xml'.
2024-09-29 18:20:04.141 +03:00 [DBG] Found key {0aa42add-f3b4-405e-a8c2-992d6e29a85c}.
2024-09-29 18:20:04.148 +03:00 [DBG] Found key {71b87755-2ee9-43e6-87de-6c92ed7c99a6}.
2024-09-29 18:20:04.149 +03:00 [DBG] Found key {acea2ac6-9b67-4521-b460-630e25f9dc5a}.
2024-09-29 18:20:04.157 +03:00 [DBG] Considering key {acea2ac6-9b67-4521-b460-630e25f9dc5a} with expiration date 2024-10-15 10:31:27Z as default key.
2024-09-29 18:20:04.168 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-29 18:20:04.171 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-29 18:20:04.172 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-29 18:20:04.176 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-29 18:20:04.178 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-29 18:20:04.183 +03:00 [DBG] Using key {acea2ac6-9b67-4521-b460-630e25f9dc5a} as the default key.
2024-09-29 18:20:04.185 +03:00 [DBG] Key ring with default key {acea2ac6-9b67-4521-b460-630e25f9dc5a} was loaded during application startup.
2024-09-29 18:20:04.498 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: D6697AE29B19EBA86816E6295ADBAF33F0642E18)
2024-09-29 18:20:04.526 +03:00 [INF] Now listening on: https://localhost:5001
2024-09-29 18:20:04.527 +03:00 [INF] Now listening on: http://localhost:5000
2024-09-29 18:20:04.527 +03:00 [DBG] Loaded hosting startup assembly CustomerOrder.API
2024-09-29 18:20:04.528 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-29 18:20:04.528 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-29 18:20:04.529 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-29 18:20:04.529 +03:00 [INF] Hosting environment: Development
2024-09-29 18:20:04.530 +03:00 [INF] Content root path: C:\Users\cagrie\source\repos\CustomerOrder\CustomerOrder.API
2024-09-29 18:20:04.531 +03:00 [DBG] Hosting started
2024-09-29 18:20:04.996 +03:00 [DBG] Connection id "0HN70J8P1KA6U" accepted.
2024-09-29 18:20:04.996 +03:00 [DBG] Connection id "0HN70J8P1KA6V" accepted.
2024-09-29 18:20:05.006 +03:00 [DBG] Connection id "0HN70J8P1KA6U" started.
2024-09-29 18:20:05.006 +03:00 [DBG] Connection id "0HN70J8P1KA6V" started.
2024-09-29 18:20:05.007 +03:00 [DBG] Connection id "0HN70J8P1KA6U" received FIN.
2024-09-29 18:20:05.007 +03:00 [DBG] Connection id "0HN70J8P1KA6V" received FIN.
2024-09-29 18:20:05.033 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.<>c.<ProcessAuthenticationWithTelemetry>b__169_2(Task t, Object s)
   at System.Threading.Tasks.ContinuationTaskFromTask.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-29 18:20:05.033 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.<>c.<ProcessAuthenticationWithTelemetry>b__169_2(Task t, Object s)
   at System.Threading.Tasks.ContinuationTaskFromTask.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-29 18:20:05.072 +03:00 [DBG] Connection id "0HN70J8P1KA6V" stopped.
2024-09-29 18:20:05.072 +03:00 [DBG] Connection id "0HN70J8P1KA6U" stopped.
2024-09-29 18:20:05.074 +03:00 [DBG] Connection id "0HN70J8P1KA6V" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 18:20:05.074 +03:00 [DBG] Connection id "0HN70J8P1KA6U" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 18:20:13.107 +03:00 [DBG] Connection id "0HN70J8P1KA70" accepted.
2024-09-29 18:20:13.115 +03:00 [DBG] Connection id "0HN70J8P1KA70" started.
2024-09-29 18:20:13.316 +03:00 [DBG] Connection "0HN70J8P1KA70" established using the following protocol: "Tls13"
2024-09-29 18:20:13.387 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2024-09-29 18:20:13.522 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-29 18:20:13.760 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-29 18:20:13.769 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-29 18:20:13.779 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 394.9384ms
2024-09-29 18:20:13.782 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - -
2024-09-29 18:20:13.782 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - -
2024-09-29 18:20:13.795 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - - - 200 12366 application/javascript;+charset=utf-8 12.8746ms
2024-09-29 18:20:13.844 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 62.0574ms
2024-09-29 18:20:13.883 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2024-09-29 18:20:14.005 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 122.0249ms
2024-09-29 18:20:19.492 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/CustomerOrders/get/1 - -
2024-09-29 18:20:19.500 +03:00 [DBG] The request path  does not match the path filter
2024-09-29 18:20:19.544 +03:00 [DBG] 1 candidate(s) found for the request path '/api/CustomerOrders/get/1'
2024-09-29 18:20:19.552 +03:00 [DBG] Endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Get (CustomerOrder.API)' with route pattern 'api/CustomerOrders/get/{id}' is valid for the request path '/api/CustomerOrders/get/1'
2024-09-29 18:20:19.554 +03:00 [DBG] Request matched endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Get (CustomerOrder.API)'
2024-09-29 18:20:19.637 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-29 18:20:19.640 +03:00 [INF] Executing endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Get (CustomerOrder.API)'
2024-09-29 18:20:19.650 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-29 18:20:19.712 +03:00 [INF] Route matched with {action = "Get", controller = "CustomerOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto]] Get(Int32) on controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API).
2024-09-29 18:20:19.718 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-29 18:20:19.719 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-29 18:20:19.720 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-29 18:20:19.721 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-29 18:20:19.722 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-29 18:20:19.724 +03:00 [DBG] Executing controller factory for controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API)
2024-09-29 18:20:19.865 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-29 18:20:20.131 +03:00 [DBG] Executed controller factory for controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API)
2024-09-29 18:20:20.146 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-09-29 18:20:20.148 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-09-29 18:20:20.150 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-29 18:20:20.151 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-29 18:20:20.151 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-09-29 18:20:20.153 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-09-29 18:20:22.400 +03:00 [DBG] The property 'CustomerOrderId.Product' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-29 18:20:22.556 +03:00 [INF] Entity Framework Core 5.0.10 initialized 'DataContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2024-09-29 18:20:22.645 +03:00 [DBG] Compiling query expression: 
'DbSet<CustomerOrder>()
    .Include(o => o.Customer)
    .Include(o => o.Products)
    .FirstOrDefault(o => o.Id == __id_0)'
2024-09-29 18:20:22.723 +03:00 [DBG] Including navigation: 'CustomerOrder.Customer'.
2024-09-29 18:20:22.727 +03:00 [DBG] Including navigation: 'CustomerOrder.Products'.
2024-09-29 18:20:22.970 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<CustomerOrder>(
    asyncEnumerable: new SingleQueryingEnumerable<CustomerOrder>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
            SELECT t.Id, t.CreatedBy, t.CreatedDate, t.CustomerId, t.IsDeleted, t.UpdatedBy, t.UpdatedDate, t.Id0, t.Address, t.CreatedBy0, t.CreatedDate0, t.Email, t.IsDeleted0, t.Name, t.UpdatedBy0, t.UpdatedDate0, p.Id, p.Barcode, p.CreatedBy, p.CreatedDate, p.CustomerOrderId, p.Description, p.IsDeleted, p.Price, p.Quantity, p.UpdatedBy, p.UpdatedDate
            FROM Projection Mapping:
            (
                SELECT TOP(1) c.Id, c.CreatedBy, c.CreatedDate, c.CustomerId, c.IsDeleted, c.UpdatedBy, c.UpdatedDate, c0.Id AS Id0, c0.Address, c0.CreatedBy AS CreatedBy0, c0.CreatedDate AS CreatedDate0, c0.Email, c0.IsDeleted AS IsDeleted0, c0.Name, c0.UpdatedBy AS UpdatedBy0, c0.UpdatedDate AS UpdatedDate0
                FROM CustomerOrders AS c
                INNER JOIN Customers AS c0 ON c.CustomerId == c0.Id
                WHERE c.Id == @__id_0
            ) AS t
            LEFT JOIN Products AS p ON t.Id == p.CustomerOrderId
            ORDER BY t.Id ASC, t.Id0 ASC, p.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, CustomerOrder>, 
        CustomerOrder.Data.Context.DataContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-29 18:20:23.032 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 18:20:23.064 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (26ms).
2024-09-29 18:20:23.076 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 18:20:23.552 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 18:20:23.572 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedBy", t."CreatedDate", t."CustomerId", t."IsDeleted", t."UpdatedBy", t."UpdatedDate", t."Id0", t."Address", t."CreatedBy0", t."CreatedDate0", t."Email", t."IsDeleted0", t."Name", t."UpdatedBy0", t."UpdatedDate0", p."Id", p."Barcode", p."CreatedBy", p."CreatedDate", p."CustomerOrderId", p."Description", p."IsDeleted", p."Price", p."Quantity", p."UpdatedBy", p."UpdatedDate"
FROM (
    SELECT c."Id", c."CreatedBy", c."CreatedDate", c."CustomerId", c."IsDeleted", c."UpdatedBy", c."UpdatedDate", c0."Id" AS "Id0", c0."Address", c0."CreatedBy" AS "CreatedBy0", c0."CreatedDate" AS "CreatedDate0", c0."Email", c0."IsDeleted" AS "IsDeleted0", c0."Name", c0."UpdatedBy" AS "UpdatedBy0", c0."UpdatedDate" AS "UpdatedDate0"
    FROM "CustomerOrders" AS c
    INNER JOIN "Customers" AS c0 ON c."CustomerId" = c0."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "Products" AS p ON t."Id" = p."CustomerOrderId"
ORDER BY t."Id", t."Id0", p."Id"
2024-09-29 18:20:23.603 +03:00 [INF] Executed DbCommand (33ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedBy", t."CreatedDate", t."CustomerId", t."IsDeleted", t."UpdatedBy", t."UpdatedDate", t."Id0", t."Address", t."CreatedBy0", t."CreatedDate0", t."Email", t."IsDeleted0", t."Name", t."UpdatedBy0", t."UpdatedDate0", p."Id", p."Barcode", p."CreatedBy", p."CreatedDate", p."CustomerOrderId", p."Description", p."IsDeleted", p."Price", p."Quantity", p."UpdatedBy", p."UpdatedDate"
FROM (
    SELECT c."Id", c."CreatedBy", c."CreatedDate", c."CustomerId", c."IsDeleted", c."UpdatedBy", c."UpdatedDate", c0."Id" AS "Id0", c0."Address", c0."CreatedBy" AS "CreatedBy0", c0."CreatedDate" AS "CreatedDate0", c0."Email", c0."IsDeleted" AS "IsDeleted0", c0."Name", c0."UpdatedBy" AS "UpdatedBy0", c0."UpdatedDate" AS "UpdatedDate0"
    FROM "CustomerOrders" AS c
    INNER JOIN "Customers" AS c0 ON c."CustomerId" = c0."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "Products" AS p ON t."Id" = p."CustomerOrderId"
ORDER BY t."Id", t."Id0", p."Id"
2024-09-29 18:20:23.641 +03:00 [DBG] Context 'DataContext' started tracking 'CustomerOrder' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 18:20:23.697 +03:00 [DBG] Context 'DataContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 18:20:23.740 +03:00 [DBG] Context 'DataContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 18:20:23.769 +03:00 [DBG] Context 'DataContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 18:20:23.777 +03:00 [DBG] A data reader was disposed.
2024-09-29 18:20:23.780 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 18:20:23.784 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 18:20:23.816 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-29 18:20:23.823 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-09-29 18:20:23.828 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-09-29 18:20:23.829 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-29 18:20:23.830 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-29 18:20:23.832 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-29 18:20:23.834 +03:00 [INF] Executing OkObjectResult, writing value of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 18:20:23.869 +03:00 [INF] Executed action CustomerOrder.API.Controllers.CustomerOrdersController.Get (CustomerOrder.API) in 4137.8572ms
2024-09-29 18:20:23.871 +03:00 [INF] Executed endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Get (CustomerOrder.API)'
2024-09-29 18:20:23.878 +03:00 [DBG] 'DataContext' disposed.
2024-09-29 18:20:23.885 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/CustomerOrders/get/1 - - - 200 - application/json;+charset=utf-8 4393.0360ms
2024-09-29 18:20:57.153 +03:00 [INF] Starting web host
2024-09-29 18:20:58.241 +03:00 [DBG] Hosting starting
2024-09-29 18:20:58.318 +03:00 [INF] User profile is available. Using 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-29 18:20:58.351 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-0aa42add-f3b4-405e-a8c2-992d6e29a85c.xml'.
2024-09-29 18:20:58.370 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-71b87755-2ee9-43e6-87de-6c92ed7c99a6.xml'.
2024-09-29 18:20:58.373 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-acea2ac6-9b67-4521-b460-630e25f9dc5a.xml'.
2024-09-29 18:20:58.388 +03:00 [DBG] Found key {0aa42add-f3b4-405e-a8c2-992d6e29a85c}.
2024-09-29 18:20:58.401 +03:00 [DBG] Found key {71b87755-2ee9-43e6-87de-6c92ed7c99a6}.
2024-09-29 18:20:58.403 +03:00 [DBG] Found key {acea2ac6-9b67-4521-b460-630e25f9dc5a}.
2024-09-29 18:20:58.422 +03:00 [DBG] Considering key {acea2ac6-9b67-4521-b460-630e25f9dc5a} with expiration date 2024-10-15 10:31:27Z as default key.
2024-09-29 18:20:58.439 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-29 18:20:58.444 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-29 18:20:58.447 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-29 18:20:58.455 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-29 18:20:58.459 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-29 18:20:58.468 +03:00 [DBG] Using key {acea2ac6-9b67-4521-b460-630e25f9dc5a} as the default key.
2024-09-29 18:20:58.469 +03:00 [DBG] Key ring with default key {acea2ac6-9b67-4521-b460-630e25f9dc5a} was loaded during application startup.
2024-09-29 18:20:58.872 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: D6697AE29B19EBA86816E6295ADBAF33F0642E18)
2024-09-29 18:20:58.903 +03:00 [INF] Now listening on: https://localhost:5001
2024-09-29 18:20:58.907 +03:00 [INF] Now listening on: http://localhost:5000
2024-09-29 18:20:58.909 +03:00 [DBG] Loaded hosting startup assembly CustomerOrder.API
2024-09-29 18:20:58.909 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-29 18:20:58.910 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-29 18:20:58.911 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-29 18:20:58.911 +03:00 [INF] Hosting environment: Development
2024-09-29 18:20:58.912 +03:00 [INF] Content root path: C:\Users\cagrie\source\repos\CustomerOrder\CustomerOrder.API
2024-09-29 18:20:58.913 +03:00 [DBG] Hosting started
2024-09-29 18:20:59.242 +03:00 [DBG] Connection id "0HN70J99701NI" received FIN.
2024-09-29 18:20:59.256 +03:00 [DBG] Connection id "0HN70J99701NI" accepted.
2024-09-29 18:20:59.259 +03:00 [DBG] Connection id "0HN70J99701NI" started.
2024-09-29 18:20:59.278 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.<>c.<ProcessAuthenticationWithTelemetry>b__169_2(Task t, Object s)
   at System.Threading.Tasks.ContinuationTaskFromTask.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-29 18:20:59.320 +03:00 [DBG] Connection id "0HN70J99701NI" stopped.
2024-09-29 18:20:59.324 +03:00 [DBG] Connection id "0HN70J99701NI" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 18:21:07.497 +03:00 [DBG] Connection id "0HN70J99701NJ" accepted.
2024-09-29 18:21:07.501 +03:00 [DBG] Connection id "0HN70J99701NJ" started.
2024-09-29 18:21:07.669 +03:00 [DBG] Connection "0HN70J99701NJ" established using the following protocol: "Tls13"
2024-09-29 18:21:07.751 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2024-09-29 18:21:07.889 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-29 18:21:08.092 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-29 18:21:08.106 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-29 18:21:08.115 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - -
2024-09-29 18:21:08.115 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - -
2024-09-29 18:21:08.115 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 371.5553ms
2024-09-29 18:21:08.128 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - - - 200 12366 application/javascript;+charset=utf-8 13.2224ms
2024-09-29 18:21:08.179 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 63.8404ms
2024-09-29 18:21:08.212 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2024-09-29 18:21:08.334 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 122.6089ms
2024-09-29 18:21:21.312 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/CustomerOrders/get/1 - -
2024-09-29 18:21:21.322 +03:00 [DBG] The request path  does not match the path filter
2024-09-29 18:21:21.355 +03:00 [DBG] 1 candidate(s) found for the request path '/api/CustomerOrders/get/1'
2024-09-29 18:21:21.361 +03:00 [DBG] Endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Get (CustomerOrder.API)' with route pattern 'api/CustomerOrders/get/{id}' is valid for the request path '/api/CustomerOrders/get/1'
2024-09-29 18:21:21.364 +03:00 [DBG] Request matched endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Get (CustomerOrder.API)'
2024-09-29 18:21:21.449 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-29 18:21:21.456 +03:00 [INF] Executing endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Get (CustomerOrder.API)'
2024-09-29 18:21:21.472 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-29 18:21:21.519 +03:00 [INF] Route matched with {action = "Get", controller = "CustomerOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto]] Get(Int32) on controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API).
2024-09-29 18:21:21.525 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-29 18:21:21.526 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-29 18:21:21.527 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-29 18:21:21.529 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-29 18:21:21.530 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-29 18:21:21.532 +03:00 [DBG] Executing controller factory for controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API)
2024-09-29 18:21:21.688 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-29 18:21:21.932 +03:00 [DBG] Executed controller factory for controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API)
2024-09-29 18:21:21.950 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-09-29 18:21:21.954 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-09-29 18:21:21.959 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-29 18:21:21.960 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-29 18:21:21.961 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-09-29 18:21:21.963 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-09-29 18:21:24.357 +03:00 [DBG] The property 'CustomerOrderId.Product' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-29 18:21:24.546 +03:00 [INF] Entity Framework Core 5.0.10 initialized 'DataContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2024-09-29 18:21:24.625 +03:00 [DBG] Compiling query expression: 
'DbSet<CustomerOrder>()
    .Include(o => o.Customer)
    .Include(o => o.Products)
    .FirstOrDefault(o => o.Id == __id_0)'
2024-09-29 18:21:24.703 +03:00 [DBG] Including navigation: 'CustomerOrder.Customer'.
2024-09-29 18:21:24.706 +03:00 [DBG] Including navigation: 'CustomerOrder.Products'.
2024-09-29 18:21:24.974 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<CustomerOrder>(
    asyncEnumerable: new SingleQueryingEnumerable<CustomerOrder>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
            SELECT t.Id, t.CreatedBy, t.CreatedDate, t.CustomerId, t.IsDeleted, t.UpdatedBy, t.UpdatedDate, t.Id0, t.Address, t.CreatedBy0, t.CreatedDate0, t.Email, t.IsDeleted0, t.Name, t.UpdatedBy0, t.UpdatedDate0, p.Id, p.Barcode, p.CreatedBy, p.CreatedDate, p.CustomerOrderId, p.Description, p.IsDeleted, p.Price, p.Quantity, p.UpdatedBy, p.UpdatedDate
            FROM Projection Mapping:
            (
                SELECT TOP(1) c.Id, c.CreatedBy, c.CreatedDate, c.CustomerId, c.IsDeleted, c.UpdatedBy, c.UpdatedDate, c0.Id AS Id0, c0.Address, c0.CreatedBy AS CreatedBy0, c0.CreatedDate AS CreatedDate0, c0.Email, c0.IsDeleted AS IsDeleted0, c0.Name, c0.UpdatedBy AS UpdatedBy0, c0.UpdatedDate AS UpdatedDate0
                FROM CustomerOrders AS c
                INNER JOIN Customers AS c0 ON c.CustomerId == c0.Id
                WHERE c.Id == @__id_0
            ) AS t
            LEFT JOIN Products AS p ON t.Id == p.CustomerOrderId
            ORDER BY t.Id ASC, t.Id0 ASC, p.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, CustomerOrder>, 
        CustomerOrder.Data.Context.DataContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-29 18:21:25.030 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 18:21:25.057 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (23ms).
2024-09-29 18:21:25.071 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 18:21:25.580 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 18:21:25.596 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedBy", t."CreatedDate", t."CustomerId", t."IsDeleted", t."UpdatedBy", t."UpdatedDate", t."Id0", t."Address", t."CreatedBy0", t."CreatedDate0", t."Email", t."IsDeleted0", t."Name", t."UpdatedBy0", t."UpdatedDate0", p."Id", p."Barcode", p."CreatedBy", p."CreatedDate", p."CustomerOrderId", p."Description", p."IsDeleted", p."Price", p."Quantity", p."UpdatedBy", p."UpdatedDate"
FROM (
    SELECT c."Id", c."CreatedBy", c."CreatedDate", c."CustomerId", c."IsDeleted", c."UpdatedBy", c."UpdatedDate", c0."Id" AS "Id0", c0."Address", c0."CreatedBy" AS "CreatedBy0", c0."CreatedDate" AS "CreatedDate0", c0."Email", c0."IsDeleted" AS "IsDeleted0", c0."Name", c0."UpdatedBy" AS "UpdatedBy0", c0."UpdatedDate" AS "UpdatedDate0"
    FROM "CustomerOrders" AS c
    INNER JOIN "Customers" AS c0 ON c."CustomerId" = c0."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "Products" AS p ON t."Id" = p."CustomerOrderId"
ORDER BY t."Id", t."Id0", p."Id"
2024-09-29 18:21:25.622 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedBy", t."CreatedDate", t."CustomerId", t."IsDeleted", t."UpdatedBy", t."UpdatedDate", t."Id0", t."Address", t."CreatedBy0", t."CreatedDate0", t."Email", t."IsDeleted0", t."Name", t."UpdatedBy0", t."UpdatedDate0", p."Id", p."Barcode", p."CreatedBy", p."CreatedDate", p."CustomerOrderId", p."Description", p."IsDeleted", p."Price", p."Quantity", p."UpdatedBy", p."UpdatedDate"
FROM (
    SELECT c."Id", c."CreatedBy", c."CreatedDate", c."CustomerId", c."IsDeleted", c."UpdatedBy", c."UpdatedDate", c0."Id" AS "Id0", c0."Address", c0."CreatedBy" AS "CreatedBy0", c0."CreatedDate" AS "CreatedDate0", c0."Email", c0."IsDeleted" AS "IsDeleted0", c0."Name", c0."UpdatedBy" AS "UpdatedBy0", c0."UpdatedDate" AS "UpdatedDate0"
    FROM "CustomerOrders" AS c
    INNER JOIN "Customers" AS c0 ON c."CustomerId" = c0."Id"
    WHERE c."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "Products" AS p ON t."Id" = p."CustomerOrderId"
ORDER BY t."Id", t."Id0", p."Id"
2024-09-29 18:21:25.656 +03:00 [DBG] Context 'DataContext' started tracking 'CustomerOrder' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 18:21:25.704 +03:00 [DBG] Context 'DataContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 18:21:25.765 +03:00 [DBG] Context 'DataContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 18:21:25.805 +03:00 [DBG] Context 'DataContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 18:21:25.812 +03:00 [DBG] A data reader was disposed.
2024-09-29 18:21:25.818 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 18:21:25.828 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 18:21:25.864 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-29 18:21:25.870 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-09-29 18:21:25.873 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-09-29 18:21:25.875 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-29 18:21:25.877 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-29 18:21:25.879 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-29 18:21:25.880 +03:00 [INF] Executing OkObjectResult, writing value of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 18:21:25.901 +03:00 [INF] Executed action CustomerOrder.API.Controllers.CustomerOrdersController.Get (CustomerOrder.API) in 4365.5015ms
2024-09-29 18:21:25.904 +03:00 [INF] Executed endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Get (CustomerOrder.API)'
2024-09-29 18:21:25.912 +03:00 [DBG] 'DataContext' disposed.
2024-09-29 18:21:25.917 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/CustomerOrders/get/1 - - - 200 - application/json;+charset=utf-8 4604.4039ms
2024-09-29 18:23:30.354 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/CustomerOrders/add application/json 147
2024-09-29 18:23:30.357 +03:00 [DBG] POST requests are not supported
2024-09-29 18:23:30.361 +03:00 [DBG] 1 candidate(s) found for the request path '/api/CustomerOrders/add'
2024-09-29 18:23:30.362 +03:00 [DBG] Endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API)' with route pattern 'api/CustomerOrders/add' is valid for the request path '/api/CustomerOrders/add'
2024-09-29 18:23:30.363 +03:00 [DBG] Request matched endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API)'
2024-09-29 18:23:30.366 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-29 18:23:30.367 +03:00 [INF] Executing endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API)'
2024-09-29 18:23:30.371 +03:00 [INF] Route matched with {action = "Add", controller = "CustomerOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto]] Add(CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto) on controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API).
2024-09-29 18:23:30.371 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-29 18:23:30.372 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-29 18:23:30.373 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-29 18:23:30.374 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-29 18:23:30.375 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-29 18:23:30.376 +03:00 [DBG] Executing controller factory for controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API)
2024-09-29 18:23:30.377 +03:00 [DBG] Executed controller factory for controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API)
2024-09-29 18:23:30.379 +03:00 [DBG] Attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto' ...
2024-09-29 18:23:30.381 +03:00 [DBG] Attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto' using the name '' in request data ...
2024-09-29 18:23:30.383 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-29 18:23:30.391 +03:00 [DBG] Connection id "0HN70J99701NJ", Request id "0HN70J99701NJ:0000000B": started reading request body.
2024-09-29 18:23:30.392 +03:00 [DBG] Connection id "0HN70J99701NJ", Request id "0HN70J99701NJ:0000000B": done reading request body.
2024-09-29 18:23:30.418 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'
2024-09-29 18:23:30.420 +03:00 [DBG] Done attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 18:23:30.422 +03:00 [DBG] Done attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 18:23:30.424 +03:00 [DBG] Attempting to validate the bound parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto' ...
2024-09-29 18:23:30.429 +03:00 [DBG] Done attempting to validate the bound parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 18:24:15.639 +03:00 [INF] Entity Framework Core 5.0.10 initialized 'DataContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2024-09-29 18:24:15.661 +03:00 [DBG] 'DataContext' generated a temporary value for the property 'Id.CustomerOrder'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 18:24:15.677 +03:00 [DBG] Context 'DataContext' started tracking 'CustomerOrder' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 18:24:15.681 +03:00 [DBG] 'DataContext' generated a temporary value for the property 'Id.Customer'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 18:24:15.692 +03:00 [DBG] The foreign key property 'CustomerOrder.CustomerId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-29 18:24:15.701 +03:00 [DBG] Context 'DataContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 18:24:15.708 +03:00 [DBG] 'DataContext' generated a temporary value for the property 'Id.Product'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 18:24:15.710 +03:00 [DBG] Context 'DataContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 18:24:16.481 +03:00 [DBG] SaveChanges starting for 'DataContext'.
2024-09-29 18:24:16.487 +03:00 [DBG] DetectChanges starting for 'DataContext'.
2024-09-29 18:24:16.525 +03:00 [DBG] DetectChanges completed for 'DataContext'.
2024-09-29 18:24:16.557 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 18:24:16.560 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 18:24:16.564 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-29 18:24:16.569 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-29 18:24:16.615 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 18:24:16.617 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-29 18:24:16.619 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Customers" ("Address", "CreatedBy", "CreatedDate", "Email", "IsDeleted", "Name", "UpdatedBy", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "Id";
2024-09-29 18:24:16.652 +03:00 [ERR] Failed executing DbCommand (33ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Customers" ("Address", "CreatedBy", "CreatedDate", "Email", "IsDeleted", "Name", "UpdatedBy", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "Id";
2024-09-29 18:24:16.669 +03:00 [DBG] Disposing transaction.
2024-09-29 18:24:16.671 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 18:24:16.672 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 18:24:16.683 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'CustomerOrder.Data.Context.DataContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "PK_Customers"
   at Npgsql.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|194_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "PK_Customers"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Customers
    ConstraintName: PK_Customers
    File: nbtinsert.c
    Line: 673
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "PK_Customers"
   at Npgsql.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|194_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "PK_Customers"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Customers
    ConstraintName: PK_Customers
    File: nbtinsert.c
    Line: 673
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-09-29 18:25:19.176 +03:00 [INF] error: An error occurred while updating the entries. See the inner exception for details.
2024-09-29 18:25:19.238 +03:00 [INF] Executed action CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API) in 108862.0417ms
2024-09-29 18:25:19.240 +03:00 [INF] Executed endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API)'
2024-09-29 18:25:19.243 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: An error occurred while adding the order: An error occurred while updating the entries. See the inner exception for details.
   at CustomerOrder.API.Services.CustomerOrdersService.AddCustomerOrderAsync(CustomerOrderDto orderDto) in C:\Users\cagrie\source\repos\CustomerOrder\CustomerOrder.API\Services\CustomerOrdersService.cs:line 56
   at CustomerOrder.API.Controllers.CustomerOrdersController.Add(CustomerOrderDto orderDto) in C:\Users\cagrie\source\repos\CustomerOrder\CustomerOrder.API\Controllers\CustomerOrdersController.cs:line 26
   at lambda_method331(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-09-29 18:25:19.277 +03:00 [DBG] 'DataContext' disposed.
2024-09-29 18:25:19.278 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/CustomerOrders/add application/json 147 - 500 - text/plain 108923.9353ms
2024-09-29 18:25:21.374 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/CustomerOrders/add application/json 147
2024-09-29 18:25:21.375 +03:00 [DBG] POST requests are not supported
2024-09-29 18:25:21.377 +03:00 [DBG] 1 candidate(s) found for the request path '/api/CustomerOrders/add'
2024-09-29 18:25:21.378 +03:00 [DBG] Endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API)' with route pattern 'api/CustomerOrders/add' is valid for the request path '/api/CustomerOrders/add'
2024-09-29 18:25:21.379 +03:00 [DBG] Request matched endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API)'
2024-09-29 18:25:21.381 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-29 18:25:21.382 +03:00 [INF] Executing endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API)'
2024-09-29 18:25:21.383 +03:00 [INF] Route matched with {action = "Add", controller = "CustomerOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto]] Add(CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto) on controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API).
2024-09-29 18:25:21.384 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-29 18:25:21.386 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-29 18:25:21.387 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-29 18:25:21.389 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-29 18:25:21.393 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-29 18:25:21.394 +03:00 [DBG] Executing controller factory for controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API)
2024-09-29 18:25:21.398 +03:00 [DBG] Executed controller factory for controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API)
2024-09-29 18:25:21.399 +03:00 [DBG] Attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto' ...
2024-09-29 18:25:21.400 +03:00 [DBG] Attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto' using the name '' in request data ...
2024-09-29 18:25:21.401 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-29 18:25:21.402 +03:00 [DBG] Connection id "0HN70J99701NJ", Request id "0HN70J99701NJ:0000000D": started reading request body.
2024-09-29 18:25:21.402 +03:00 [DBG] Connection id "0HN70J99701NJ", Request id "0HN70J99701NJ:0000000D": done reading request body.
2024-09-29 18:25:21.403 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'
2024-09-29 18:25:21.403 +03:00 [DBG] Done attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 18:25:21.404 +03:00 [DBG] Done attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 18:25:21.404 +03:00 [DBG] Attempting to validate the bound parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto' ...
2024-09-29 18:25:21.405 +03:00 [DBG] Done attempting to validate the bound parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 18:26:38.785 +03:00 [INF] Entity Framework Core 5.0.10 initialized 'DataContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2024-09-29 18:26:38.789 +03:00 [DBG] 'DataContext' generated a temporary value for the property 'Id.CustomerOrder'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 18:26:38.791 +03:00 [DBG] Context 'DataContext' started tracking 'CustomerOrder' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 18:26:38.791 +03:00 [DBG] 'DataContext' generated a temporary value for the property 'Id.Customer'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 18:26:38.793 +03:00 [DBG] The foreign key property 'CustomerOrder.CustomerId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-29 18:26:38.794 +03:00 [DBG] Context 'DataContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 18:26:38.795 +03:00 [DBG] 'DataContext' generated a temporary value for the property 'Id.Product'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 18:26:38.796 +03:00 [DBG] Context 'DataContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 18:26:40.519 +03:00 [DBG] SaveChanges starting for 'DataContext'.
2024-09-29 18:26:40.524 +03:00 [DBG] DetectChanges starting for 'DataContext'.
2024-09-29 18:26:40.526 +03:00 [DBG] DetectChanges completed for 'DataContext'.
2024-09-29 18:26:40.527 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 18:26:40.528 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 18:26:40.528 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-29 18:26:40.529 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-29 18:26:40.530 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 18:26:40.531 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-29 18:26:40.532 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Customers" ("Address", "CreatedBy", "CreatedDate", "Email", "IsDeleted", "Name", "UpdatedBy", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "Id";
2024-09-29 18:26:40.551 +03:00 [ERR] Failed executing DbCommand (18ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Customers" ("Address", "CreatedBy", "CreatedDate", "Email", "IsDeleted", "Name", "UpdatedBy", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "Id";
2024-09-29 18:26:40.557 +03:00 [DBG] Disposing transaction.
2024-09-29 18:26:40.557 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 18:26:40.558 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 18:26:40.562 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'CustomerOrder.Data.Context.DataContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "PK_Customers"
   at Npgsql.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|194_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "PK_Customers"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Customers
    ConstraintName: PK_Customers
    File: nbtinsert.c
    Line: 673
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "PK_Customers"
   at Npgsql.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|194_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "PK_Customers"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Customers
    ConstraintName: PK_Customers
    File: nbtinsert.c
    Line: 673
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-09-29 18:31:42.738 +03:00 [INF] Starting web host
2024-09-29 18:31:44.244 +03:00 [DBG] Hosting starting
2024-09-29 18:31:44.321 +03:00 [INF] User profile is available. Using 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-29 18:31:44.352 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-0aa42add-f3b4-405e-a8c2-992d6e29a85c.xml'.
2024-09-29 18:31:44.373 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-71b87755-2ee9-43e6-87de-6c92ed7c99a6.xml'.
2024-09-29 18:31:44.374 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-acea2ac6-9b67-4521-b460-630e25f9dc5a.xml'.
2024-09-29 18:31:44.383 +03:00 [DBG] Found key {0aa42add-f3b4-405e-a8c2-992d6e29a85c}.
2024-09-29 18:31:44.396 +03:00 [DBG] Found key {71b87755-2ee9-43e6-87de-6c92ed7c99a6}.
2024-09-29 18:31:44.397 +03:00 [DBG] Found key {acea2ac6-9b67-4521-b460-630e25f9dc5a}.
2024-09-29 18:31:44.412 +03:00 [DBG] Considering key {acea2ac6-9b67-4521-b460-630e25f9dc5a} with expiration date 2024-10-15 10:31:27Z as default key.
2024-09-29 18:31:44.430 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-29 18:31:44.435 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-29 18:31:44.438 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-29 18:31:44.446 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-29 18:31:44.449 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-29 18:31:44.452 +03:00 [DBG] Using key {acea2ac6-9b67-4521-b460-630e25f9dc5a} as the default key.
2024-09-29 18:31:44.454 +03:00 [DBG] Key ring with default key {acea2ac6-9b67-4521-b460-630e25f9dc5a} was loaded during application startup.
2024-09-29 18:31:44.754 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: D6697AE29B19EBA86816E6295ADBAF33F0642E18)
2024-09-29 18:31:44.780 +03:00 [INF] Now listening on: https://localhost:5001
2024-09-29 18:31:44.785 +03:00 [INF] Now listening on: http://localhost:5000
2024-09-29 18:31:44.785 +03:00 [DBG] Loaded hosting startup assembly CustomerOrder.API
2024-09-29 18:31:44.786 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-29 18:31:44.787 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-29 18:31:44.788 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-29 18:31:44.789 +03:00 [INF] Hosting environment: Development
2024-09-29 18:31:44.790 +03:00 [INF] Content root path: C:\Users\cagrie\source\repos\CustomerOrder\CustomerOrder.API
2024-09-29 18:31:44.790 +03:00 [DBG] Hosting started
2024-09-29 18:31:44.929 +03:00 [DBG] Connection id "0HN70JF9KMLEI" accepted.
2024-09-29 18:31:44.929 +03:00 [DBG] Connection id "0HN70JF9KMLEH" accepted.
2024-09-29 18:31:44.933 +03:00 [DBG] Connection id "0HN70JF9KMLEI" started.
2024-09-29 18:31:44.933 +03:00 [DBG] Connection id "0HN70JF9KMLEH" started.
2024-09-29 18:31:44.938 +03:00 [DBG] Connection id "0HN70JF9KMLEI" received FIN.
2024-09-29 18:31:44.938 +03:00 [DBG] Connection id "0HN70JF9KMLEH" received FIN.
2024-09-29 18:31:44.962 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.<>c.<ProcessAuthenticationWithTelemetry>b__169_2(Task t, Object s)
   at System.Threading.Tasks.ContinuationTaskFromTask.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-29 18:31:44.962 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.<>c.<ProcessAuthenticationWithTelemetry>b__169_2(Task t, Object s)
   at System.Threading.Tasks.ContinuationTaskFromTask.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-29 18:31:45.008 +03:00 [DBG] Connection id "0HN70JF9KMLEH" stopped.
2024-09-29 18:31:45.008 +03:00 [DBG] Connection id "0HN70JF9KMLEI" stopped.
2024-09-29 18:31:45.010 +03:00 [DBG] Connection id "0HN70JF9KMLEI" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 18:31:45.010 +03:00 [DBG] Connection id "0HN70JF9KMLEH" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 18:31:45.146 +03:00 [DBG] Connection id "0HN70JF9KMLEJ" accepted.
2024-09-29 18:31:45.148 +03:00 [DBG] Connection id "0HN70JF9KMLEJ" started.
2024-09-29 18:31:45.223 +03:00 [DBG] Connection "0HN70JF9KMLEJ" established using the following protocol: "Tls13"
2024-09-29 18:31:45.321 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2024-09-29 18:31:45.417 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-29 18:31:45.583 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-29 18:31:45.597 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-29 18:31:45.606 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 288.3582ms
2024-09-29 18:31:45.608 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - -
2024-09-29 18:31:45.608 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - -
2024-09-29 18:31:45.621 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - - - 200 12366 application/javascript;+charset=utf-8 13.0188ms
2024-09-29 18:31:45.666 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 57.9630ms
2024-09-29 18:31:45.700 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2024-09-29 18:31:45.788 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 87.6812ms
2024-09-29 18:32:15.830 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/CustomerOrders/add application/json 150
2024-09-29 18:32:15.834 +03:00 [DBG] POST requests are not supported
2024-09-29 18:32:15.879 +03:00 [DBG] 1 candidate(s) found for the request path '/api/CustomerOrders/add'
2024-09-29 18:32:15.888 +03:00 [DBG] Endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API)' with route pattern 'api/CustomerOrders/add' is valid for the request path '/api/CustomerOrders/add'
2024-09-29 18:32:15.892 +03:00 [DBG] Request matched endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API)'
2024-09-29 18:32:15.981 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-29 18:32:15.986 +03:00 [INF] Executing endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API)'
2024-09-29 18:32:15.996 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-29 18:32:16.050 +03:00 [INF] Route matched with {action = "Add", controller = "CustomerOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto]] Add(CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto) on controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API).
2024-09-29 18:32:16.055 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-29 18:32:16.057 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-29 18:32:16.059 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-29 18:32:16.062 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-29 18:32:16.063 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-29 18:32:16.066 +03:00 [DBG] Executing controller factory for controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API)
2024-09-29 18:32:16.217 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-29 18:32:16.469 +03:00 [DBG] Executed controller factory for controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API)
2024-09-29 18:32:16.489 +03:00 [DBG] Attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto' ...
2024-09-29 18:32:16.494 +03:00 [DBG] Attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto' using the name '' in request data ...
2024-09-29 18:32:16.497 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-29 18:32:16.519 +03:00 [DBG] Connection id "0HN70JF9KMLEJ", Request id "0HN70JF9KMLEJ:00000009": started reading request body.
2024-09-29 18:32:16.522 +03:00 [DBG] Connection id "0HN70JF9KMLEJ", Request id "0HN70JF9KMLEJ:00000009": done reading request body.
2024-09-29 18:32:16.557 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'
2024-09-29 18:32:16.561 +03:00 [DBG] Done attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 18:32:16.562 +03:00 [DBG] Done attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 18:32:16.562 +03:00 [DBG] Attempting to validate the bound parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto' ...
2024-09-29 18:32:16.566 +03:00 [DBG] Done attempting to validate the bound parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 18:32:24.653 +03:00 [DBG] The property 'CustomerOrderId.Product' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-29 18:32:24.768 +03:00 [INF] Entity Framework Core 5.0.10 initialized 'DataContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2024-09-29 18:32:24.833 +03:00 [DBG] 'DataContext' generated a temporary value for the property 'Id.CustomerOrder'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 18:32:24.898 +03:00 [DBG] Context 'DataContext' started tracking 'CustomerOrder' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 18:32:24.902 +03:00 [DBG] 'DataContext' generated a temporary value for the property 'Id.Customer'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 18:32:24.932 +03:00 [DBG] The foreign key property 'CustomerOrder.CustomerId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-29 18:32:24.941 +03:00 [DBG] Context 'DataContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 18:32:24.949 +03:00 [DBG] 'DataContext' generated a temporary value for the property 'Id.Product'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 18:32:24.992 +03:00 [DBG] Context 'DataContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 18:32:25.590 +03:00 [DBG] SaveChanges starting for 'DataContext'.
2024-09-29 18:32:25.596 +03:00 [DBG] DetectChanges starting for 'DataContext'.
2024-09-29 18:32:25.626 +03:00 [DBG] DetectChanges completed for 'DataContext'.
2024-09-29 18:32:25.697 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 18:32:26.191 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 18:32:26.196 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-29 18:32:26.207 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-29 18:32:26.284 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 18:32:26.296 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-29 18:32:26.326 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Customers" ("Address", "CreatedBy", "CreatedDate", "Email", "IsDeleted", "Name", "UpdatedBy", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "Id";
2024-09-29 18:32:26.368 +03:00 [ERR] Failed executing DbCommand (55ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Customers" ("Address", "CreatedBy", "CreatedDate", "Email", "IsDeleted", "Name", "UpdatedBy", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "Id";
2024-09-29 18:32:26.387 +03:00 [DBG] Disposing transaction.
2024-09-29 18:32:26.391 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 18:32:26.395 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 18:32:26.406 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'CustomerOrder.Data.Context.DataContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "PK_Customers"
   at Npgsql.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|194_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "PK_Customers"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Customers
    ConstraintName: PK_Customers
    File: nbtinsert.c
    Line: 673
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "PK_Customers"
   at Npgsql.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|194_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "PK_Customers"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Customers
    ConstraintName: PK_Customers
    File: nbtinsert.c
    Line: 673
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-09-29 18:35:28.342 +03:00 [INF] Starting web host
2024-09-29 18:35:30.050 +03:00 [DBG] Hosting starting
2024-09-29 18:35:30.107 +03:00 [INF] User profile is available. Using 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-29 18:35:30.139 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-0aa42add-f3b4-405e-a8c2-992d6e29a85c.xml'.
2024-09-29 18:35:30.157 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-71b87755-2ee9-43e6-87de-6c92ed7c99a6.xml'.
2024-09-29 18:35:30.158 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-acea2ac6-9b67-4521-b460-630e25f9dc5a.xml'.
2024-09-29 18:35:30.166 +03:00 [DBG] Found key {0aa42add-f3b4-405e-a8c2-992d6e29a85c}.
2024-09-29 18:35:30.176 +03:00 [DBG] Found key {71b87755-2ee9-43e6-87de-6c92ed7c99a6}.
2024-09-29 18:35:30.177 +03:00 [DBG] Found key {acea2ac6-9b67-4521-b460-630e25f9dc5a}.
2024-09-29 18:35:30.192 +03:00 [DBG] Considering key {acea2ac6-9b67-4521-b460-630e25f9dc5a} with expiration date 2024-10-15 10:31:27Z as default key.
2024-09-29 18:35:30.203 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-29 18:35:30.207 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-29 18:35:30.209 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-29 18:35:30.216 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-29 18:35:30.221 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-29 18:35:30.224 +03:00 [DBG] Using key {acea2ac6-9b67-4521-b460-630e25f9dc5a} as the default key.
2024-09-29 18:35:30.225 +03:00 [DBG] Key ring with default key {acea2ac6-9b67-4521-b460-630e25f9dc5a} was loaded during application startup.
2024-09-29 18:35:30.504 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: D6697AE29B19EBA86816E6295ADBAF33F0642E18)
2024-09-29 18:35:30.531 +03:00 [INF] Now listening on: https://localhost:5001
2024-09-29 18:35:30.534 +03:00 [INF] Now listening on: http://localhost:5000
2024-09-29 18:35:30.536 +03:00 [DBG] Loaded hosting startup assembly CustomerOrder.API
2024-09-29 18:35:30.536 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-29 18:35:30.537 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-29 18:35:30.538 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-29 18:35:30.538 +03:00 [INF] Hosting environment: Development
2024-09-29 18:35:30.539 +03:00 [INF] Content root path: C:\Users\cagrie\source\repos\CustomerOrder\CustomerOrder.API
2024-09-29 18:35:30.540 +03:00 [DBG] Hosting started
2024-09-29 18:35:30.811 +03:00 [DBG] Connection id "0HN70JHCUTHBO" received FIN.
2024-09-29 18:35:30.811 +03:00 [DBG] Connection id "0HN70JHCUTHBP" received FIN.
2024-09-29 18:35:30.821 +03:00 [DBG] Connection id "0HN70JHCUTHBO" accepted.
2024-09-29 18:35:30.821 +03:00 [DBG] Connection id "0HN70JHCUTHBP" accepted.
2024-09-29 18:35:30.829 +03:00 [DBG] Connection id "0HN70JHCUTHBP" started.
2024-09-29 18:35:30.829 +03:00 [DBG] Connection id "0HN70JHCUTHBO" started.
2024-09-29 18:35:30.849 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.<>c.<ProcessAuthenticationWithTelemetry>b__169_2(Task t, Object s)
   at System.Threading.Tasks.ContinuationTaskFromTask.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-29 18:35:30.849 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.<>c.<ProcessAuthenticationWithTelemetry>b__169_2(Task t, Object s)
   at System.Threading.Tasks.ContinuationTaskFromTask.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-29 18:35:30.886 +03:00 [DBG] Connection id "0HN70JHCUTHBP" stopped.
2024-09-29 18:35:30.886 +03:00 [DBG] Connection id "0HN70JHCUTHBO" stopped.
2024-09-29 18:35:30.888 +03:00 [DBG] Connection id "0HN70JHCUTHBP" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 18:35:30.888 +03:00 [DBG] Connection id "0HN70JHCUTHBO" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 18:35:42.356 +03:00 [DBG] Connection id "0HN70JHCUTHBQ" accepted.
2024-09-29 18:35:42.357 +03:00 [DBG] Connection id "0HN70JHCUTHBQ" started.
2024-09-29 18:35:42.436 +03:00 [DBG] Connection "0HN70JHCUTHBQ" established using the following protocol: "Tls13"
2024-09-29 18:35:42.519 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2024-09-29 18:35:42.631 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-29 18:35:42.850 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-29 18:35:42.873 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-29 18:35:42.881 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 363.8916ms
2024-09-29 18:35:42.884 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - -
2024-09-29 18:35:42.892 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - -
2024-09-29 18:35:42.895 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - - - 200 12366 application/javascript;+charset=utf-8 10.9597ms
2024-09-29 18:35:42.938 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 46.1982ms
2024-09-29 18:35:42.975 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2024-09-29 18:35:43.074 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 99.1394ms
2024-09-29 18:36:10.372 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/CustomerOrders/add application/json 159
2024-09-29 18:36:10.376 +03:00 [DBG] POST requests are not supported
2024-09-29 18:36:10.438 +03:00 [DBG] 1 candidate(s) found for the request path '/api/CustomerOrders/add'
2024-09-29 18:36:10.447 +03:00 [DBG] Endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API)' with route pattern 'api/CustomerOrders/add' is valid for the request path '/api/CustomerOrders/add'
2024-09-29 18:36:10.449 +03:00 [DBG] Request matched endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API)'
2024-09-29 18:36:10.567 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-29 18:36:10.574 +03:00 [INF] Executing endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API)'
2024-09-29 18:36:10.589 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-29 18:36:10.666 +03:00 [INF] Route matched with {action = "Add", controller = "CustomerOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto]] Add(CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto) on controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API).
2024-09-29 18:36:10.668 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-29 18:36:10.669 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-29 18:36:10.670 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-29 18:36:10.672 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-29 18:36:10.674 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-29 18:36:10.676 +03:00 [DBG] Executing controller factory for controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API)
2024-09-29 18:36:10.847 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-29 18:36:11.148 +03:00 [DBG] Executed controller factory for controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API)
2024-09-29 18:36:11.166 +03:00 [DBG] Attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto' ...
2024-09-29 18:36:11.172 +03:00 [DBG] Attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto' using the name '' in request data ...
2024-09-29 18:36:11.175 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-29 18:36:11.205 +03:00 [DBG] Connection id "0HN70JHCUTHBQ", Request id "0HN70JHCUTHBQ:00000009": started reading request body.
2024-09-29 18:36:11.207 +03:00 [DBG] Connection id "0HN70JHCUTHBQ", Request id "0HN70JHCUTHBQ:00000009": done reading request body.
2024-09-29 18:36:11.243 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'
2024-09-29 18:36:11.246 +03:00 [DBG] Done attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 18:36:11.247 +03:00 [DBG] Done attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 18:36:11.248 +03:00 [DBG] Attempting to validate the bound parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto' ...
2024-09-29 18:36:11.257 +03:00 [DBG] Done attempting to validate the bound parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 18:36:15.459 +03:00 [DBG] The property 'CustomerOrderId.Product' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-29 18:36:15.621 +03:00 [INF] Entity Framework Core 5.0.10 initialized 'DataContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2024-09-29 18:36:15.670 +03:00 [DBG] 'DataContext' generated a temporary value for the property 'Id.CustomerOrder'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 18:36:15.769 +03:00 [DBG] Context 'DataContext' started tracking 'CustomerOrder' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 18:36:15.772 +03:00 [DBG] 'DataContext' generated a temporary value for the property 'Id.Customer'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 18:36:15.808 +03:00 [DBG] The foreign key property 'CustomerOrder.CustomerId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-29 18:36:15.815 +03:00 [DBG] Context 'DataContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 18:36:15.824 +03:00 [DBG] 'DataContext' generated a temporary value for the property 'Id.Product'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 18:36:15.865 +03:00 [DBG] Context 'DataContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 18:36:16.365 +03:00 [DBG] SaveChanges starting for 'DataContext'.
2024-09-29 18:36:16.375 +03:00 [DBG] DetectChanges starting for 'DataContext'.
2024-09-29 18:36:16.402 +03:00 [DBG] DetectChanges completed for 'DataContext'.
2024-09-29 18:36:16.436 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 18:36:17.029 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 18:36:17.035 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-29 18:36:17.046 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-29 18:36:17.131 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 18:36:17.140 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-09-29 18:36:17.152 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Customers" ("Address", "CreatedBy", "CreatedDate", "Email", "IsDeleted", "Name", "UpdatedBy", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "Id";
2024-09-29 18:36:17.197 +03:00 [ERR] Failed executing DbCommand (41ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Customers" ("Address", "CreatedBy", "CreatedDate", "Email", "IsDeleted", "Name", "UpdatedBy", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "Id";
2024-09-29 18:36:17.222 +03:00 [DBG] Disposing transaction.
2024-09-29 18:36:17.228 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 18:36:17.234 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 18:36:17.250 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'CustomerOrder.Data.Context.DataContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "PK_Customers"
   at Npgsql.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|194_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "PK_Customers"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Customers
    ConstraintName: PK_Customers
    File: nbtinsert.c
    Line: 673
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "PK_Customers"
   at Npgsql.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|194_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "PK_Customers"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Customers
    ConstraintName: PK_Customers
    File: nbtinsert.c
    Line: 673
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-09-29 18:39:58.824 +03:00 [INF] Starting web host
2024-09-29 18:40:00.208 +03:00 [DBG] Hosting starting
2024-09-29 18:40:00.269 +03:00 [INF] User profile is available. Using 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-29 18:40:00.291 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-0aa42add-f3b4-405e-a8c2-992d6e29a85c.xml'.
2024-09-29 18:40:00.305 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-71b87755-2ee9-43e6-87de-6c92ed7c99a6.xml'.
2024-09-29 18:40:00.306 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-acea2ac6-9b67-4521-b460-630e25f9dc5a.xml'.
2024-09-29 18:40:00.314 +03:00 [DBG] Found key {0aa42add-f3b4-405e-a8c2-992d6e29a85c}.
2024-09-29 18:40:00.321 +03:00 [DBG] Found key {71b87755-2ee9-43e6-87de-6c92ed7c99a6}.
2024-09-29 18:40:00.321 +03:00 [DBG] Found key {acea2ac6-9b67-4521-b460-630e25f9dc5a}.
2024-09-29 18:40:00.331 +03:00 [DBG] Considering key {acea2ac6-9b67-4521-b460-630e25f9dc5a} with expiration date 2024-10-15 10:31:27Z as default key.
2024-09-29 18:40:00.342 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-29 18:40:00.347 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-29 18:40:00.349 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-29 18:40:00.354 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-29 18:40:00.358 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-29 18:40:00.363 +03:00 [DBG] Using key {acea2ac6-9b67-4521-b460-630e25f9dc5a} as the default key.
2024-09-29 18:40:00.365 +03:00 [DBG] Key ring with default key {acea2ac6-9b67-4521-b460-630e25f9dc5a} was loaded during application startup.
2024-09-29 18:40:00.666 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: D6697AE29B19EBA86816E6295ADBAF33F0642E18)
2024-09-29 18:40:00.701 +03:00 [INF] Now listening on: https://localhost:5001
2024-09-29 18:40:00.702 +03:00 [INF] Now listening on: http://localhost:5000
2024-09-29 18:40:00.703 +03:00 [DBG] Loaded hosting startup assembly CustomerOrder.API
2024-09-29 18:40:00.704 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-29 18:40:00.705 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-29 18:40:00.706 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-29 18:40:00.709 +03:00 [INF] Hosting environment: Development
2024-09-29 18:40:00.709 +03:00 [INF] Content root path: C:\Users\cagrie\source\repos\CustomerOrder\CustomerOrder.API
2024-09-29 18:40:00.710 +03:00 [DBG] Hosting started
2024-09-29 18:40:00.991 +03:00 [DBG] Connection id "0HN70JJTFHSQ7" received FIN.
2024-09-29 18:40:01.005 +03:00 [DBG] Connection id "0HN70JJTFHSQ7" accepted.
2024-09-29 18:40:01.007 +03:00 [DBG] Connection id "0HN70JJTFHSQ7" started.
2024-09-29 18:40:01.022 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.<>c.<ProcessAuthenticationWithTelemetry>b__169_2(Task t, Object s)
   at System.Threading.Tasks.ContinuationTaskFromTask.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-29 18:40:01.056 +03:00 [DBG] Connection id "0HN70JJTFHSQ7" stopped.
2024-09-29 18:40:01.060 +03:00 [DBG] Connection id "0HN70JJTFHSQ7" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 18:40:12.943 +03:00 [DBG] Connection id "0HN70JJTFHSQ8" accepted.
2024-09-29 18:40:12.947 +03:00 [DBG] Connection id "0HN70JJTFHSQ8" started.
2024-09-29 18:40:13.096 +03:00 [DBG] Connection "0HN70JJTFHSQ8" established using the following protocol: "Tls13"
2024-09-29 18:40:13.160 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2024-09-29 18:40:13.268 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-29 18:40:13.495 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-29 18:40:13.505 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-29 18:40:13.514 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 356.9063ms
2024-09-29 18:40:13.516 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - -
2024-09-29 18:40:13.516 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - -
2024-09-29 18:40:13.529 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - - - 200 12366 application/javascript;+charset=utf-8 12.7879ms
2024-09-29 18:40:13.574 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 58.1595ms
2024-09-29 18:40:13.604 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2024-09-29 18:40:13.713 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 109.3783ms
2024-09-29 18:40:49.541 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/CustomerOrders/add application/json 156
2024-09-29 18:40:49.545 +03:00 [DBG] POST requests are not supported
2024-09-29 18:40:49.581 +03:00 [DBG] 1 candidate(s) found for the request path '/api/CustomerOrders/add'
2024-09-29 18:40:49.591 +03:00 [DBG] Endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API)' with route pattern 'api/CustomerOrders/add' is valid for the request path '/api/CustomerOrders/add'
2024-09-29 18:40:49.593 +03:00 [DBG] Request matched endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API)'
2024-09-29 18:40:49.678 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-29 18:40:49.681 +03:00 [INF] Executing endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API)'
2024-09-29 18:40:49.690 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-29 18:40:49.748 +03:00 [INF] Route matched with {action = "Add", controller = "CustomerOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto]] Add(CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto) on controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API).
2024-09-29 18:40:49.754 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-29 18:40:49.755 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-29 18:40:49.756 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-29 18:40:49.757 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-29 18:40:49.758 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-29 18:40:49.759 +03:00 [DBG] Executing controller factory for controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API)
2024-09-29 18:40:49.888 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-29 18:40:50.121 +03:00 [DBG] Executed controller factory for controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API)
2024-09-29 18:40:50.134 +03:00 [DBG] Attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto' ...
2024-09-29 18:40:50.140 +03:00 [DBG] Attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto' using the name '' in request data ...
2024-09-29 18:40:50.142 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-29 18:40:50.163 +03:00 [DBG] Connection id "0HN70JJTFHSQ8", Request id "0HN70JJTFHSQ8:00000009": started reading request body.
2024-09-29 18:40:50.164 +03:00 [DBG] Connection id "0HN70JJTFHSQ8", Request id "0HN70JJTFHSQ8:00000009": done reading request body.
2024-09-29 18:40:50.196 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'
2024-09-29 18:40:50.199 +03:00 [DBG] Done attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 18:40:50.201 +03:00 [DBG] Done attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 18:40:50.202 +03:00 [DBG] Attempting to validate the bound parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto' ...
2024-09-29 18:40:50.207 +03:00 [DBG] Done attempting to validate the bound parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 18:40:52.412 +03:00 [DBG] The property 'CustomerOrderId.Product' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-29 18:40:52.535 +03:00 [INF] Entity Framework Core 5.0.10 initialized 'DataContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2024-09-29 18:40:52.565 +03:00 [DBG] Compiling query expression: 
'DbSet<Customer>()
    .FirstOrDefault(c => c.Email == __orderDto_Customer_Email_0)'
2024-09-29 18:40:52.734 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Customer>(
    asyncEnumerable: new SingleQueryingEnumerable<Customer>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Customer.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Customer.Address (string) Required, 1], [Property: Customer.CreatedBy (int) Required, 2], [Property: Customer.CreatedDate (DateTime) Required, 3], [Property: Customer.Email (string) Required, 4], [Property: Customer.IsDeleted (bool) Required, 5], [Property: Customer.Name (string) Required, 6], [Property: Customer.UpdatedBy (Nullable<int>), 7], [Property: Customer.UpdatedDate (Nullable<DateTime>), 8], }
            SELECT TOP(1) c.Id, c.Address, c.CreatedBy, c.CreatedDate, c.Email, c.IsDeleted, c.Name, c.UpdatedBy, c.UpdatedDate
            FROM Customers AS c
            WHERE c.Email == @__orderDto_Customer_Email_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Customer>, 
        CustomerOrder.Data.Context.DataContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-29 18:40:52.788 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 18:40:52.811 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (19ms).
2024-09-29 18:40:52.822 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 18:40:53.436 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 18:40:53.455 +03:00 [DBG] Executing DbCommand [Parameters=[@__orderDto_Customer_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Address", c."CreatedBy", c."CreatedDate", c."Email", c."IsDeleted", c."Name", c."UpdatedBy", c."UpdatedDate"
FROM "Customers" AS c
WHERE c."Email" = @__orderDto_Customer_Email_0
LIMIT 1
2024-09-29 18:40:53.478 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@__orderDto_Customer_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Address", c."CreatedBy", c."CreatedDate", c."Email", c."IsDeleted", c."Name", c."UpdatedBy", c."UpdatedDate"
FROM "Customers" AS c
WHERE c."Email" = @__orderDto_Customer_Email_0
LIMIT 1
2024-09-29 18:40:53.485 +03:00 [DBG] A data reader was disposed.
2024-09-29 18:40:53.490 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 18:40:53.498 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 18:40:53.554 +03:00 [DBG] 'DataContext' generated a temporary value for the property 'Id.Customer'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 18:40:53.647 +03:00 [DBG] Context 'DataContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 18:40:53.655 +03:00 [DBG] SaveChanges starting for 'DataContext'.
2024-09-29 18:40:53.661 +03:00 [DBG] DetectChanges starting for 'DataContext'.
2024-09-29 18:40:53.677 +03:00 [DBG] DetectChanges completed for 'DataContext'.
2024-09-29 18:40:53.699 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 18:40:53.700 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 18:40:53.705 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-29 18:40:53.712 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-29 18:40:53.783 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 18:40:53.786 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-29 18:40:53.789 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Customers" ("Address", "CreatedBy", "CreatedDate", "Email", "IsDeleted", "Name", "UpdatedBy", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "Id";
2024-09-29 18:40:53.797 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Customers" ("Address", "CreatedBy", "CreatedDate", "Email", "IsDeleted", "Name", "UpdatedBy", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "Id";
2024-09-29 18:40:53.827 +03:00 [DBG] The foreign key property 'Customer.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-29 18:40:53.834 +03:00 [DBG] A data reader was disposed.
2024-09-29 18:40:53.840 +03:00 [DBG] Committing transaction.
2024-09-29 18:40:53.849 +03:00 [DBG] Committed transaction.
2024-09-29 18:40:53.853 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 18:40:53.854 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 18:40:53.858 +03:00 [DBG] Disposing transaction.
2024-09-29 18:40:53.880 +03:00 [DBG] An entity of type 'Customer' tracked by 'DataContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 18:40:53.886 +03:00 [DBG] SaveChanges completed for 'DataContext' with 1 entities written to the database.
2024-09-29 18:40:53.900 +03:00 [DBG] 'DataContext' generated a temporary value for the property 'Id.CustomerOrder'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 18:40:53.927 +03:00 [DBG] Context 'DataContext' started tracking 'CustomerOrder' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 18:40:53.931 +03:00 [DBG] 'DataContext' generated a temporary value for the property 'Id.Customer'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 18:40:53.935 +03:00 [DBG] The foreign key property 'CustomerOrder.CustomerId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-29 18:40:53.939 +03:00 [DBG] Context 'DataContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 18:40:53.944 +03:00 [DBG] 'DataContext' generated a temporary value for the property 'Id.Product'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 18:40:53.989 +03:00 [DBG] Context 'DataContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 18:40:53.992 +03:00 [DBG] SaveChanges starting for 'DataContext'.
2024-09-29 18:40:53.993 +03:00 [DBG] DetectChanges starting for 'DataContext'.
2024-09-29 18:40:54.009 +03:00 [DBG] DetectChanges completed for 'DataContext'.
2024-09-29 18:40:54.013 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 18:40:54.014 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 18:40:54.015 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-29 18:40:54.016 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-29 18:40:54.018 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 18:40:54.019 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-29 18:40:54.019 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Customers" ("Address", "CreatedBy", "CreatedDate", "Email", "IsDeleted", "Name", "UpdatedBy", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "Id";
2024-09-29 18:40:54.026 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Customers" ("Address", "CreatedBy", "CreatedDate", "Email", "IsDeleted", "Name", "UpdatedBy", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "Id";
2024-09-29 18:40:54.028 +03:00 [DBG] The foreign key property 'Customer.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-29 18:40:54.030 +03:00 [DBG] The foreign key property 'CustomerOrder.CustomerId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-29 18:40:54.030 +03:00 [DBG] A data reader was disposed.
2024-09-29 18:40:54.031 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 18:40:54.031 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-29 18:40:54.032 +03:00 [DBG] Executing DbCommand [Parameters=[@p8='?' (DbType = Int32), @p9='?' (DbType = DateTime), @p10='?' (DbType = Int32), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "CustomerOrders" ("CreatedBy", "CreatedDate", "CustomerId", "IsDeleted", "UpdatedBy", "UpdatedDate")
VALUES (@p8, @p9, @p10, @p11, @p12, @p13)
RETURNING "Id";
2024-09-29 18:40:54.041 +03:00 [ERR] Failed executing DbCommand (8ms) [Parameters=[@p8='?' (DbType = Int32), @p9='?' (DbType = DateTime), @p10='?' (DbType = Int32), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "CustomerOrders" ("CreatedBy", "CreatedDate", "CustomerId", "IsDeleted", "UpdatedBy", "UpdatedDate")
VALUES (@p8, @p9, @p10, @p11, @p12, @p13)
RETURNING "Id";
2024-09-29 18:40:54.051 +03:00 [DBG] Disposing transaction.
2024-09-29 18:40:54.052 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 18:40:54.053 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 18:40:54.060 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'CustomerOrder.Data.Context.DataContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "PK_CustomerOrders"
   at Npgsql.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|194_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "PK_CustomerOrders"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: CustomerOrders
    ConstraintName: PK_CustomerOrders
    File: nbtinsert.c
    Line: 673
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "PK_CustomerOrders"
   at Npgsql.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|194_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "PK_CustomerOrders"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: CustomerOrders
    ConstraintName: PK_CustomerOrders
    File: nbtinsert.c
    Line: 673
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-09-29 18:41:08.585 +03:00 [INF] error: An error occurred while updating the entries. See the inner exception for details.
2024-09-29 18:41:08.652 +03:00 [INF] Executed action CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API) in 18888.4708ms
2024-09-29 18:41:08.656 +03:00 [INF] Executed endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API)'
2024-09-29 18:41:08.662 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: An error occurred while adding the order: An error occurred while updating the entries. See the inner exception for details.
   at CustomerOrder.API.Services.CustomerOrdersService.AddCustomerOrderAsync(CustomerOrderDto orderDto) in C:\Users\cagrie\source\repos\CustomerOrder\CustomerOrder.API\Services\CustomerOrdersService.cs:line 113
   at CustomerOrder.API.Controllers.CustomerOrdersController.Add(CustomerOrderDto orderDto) in C:\Users\cagrie\source\repos\CustomerOrder\CustomerOrder.API\Controllers\CustomerOrdersController.cs:line 26
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-09-29 18:41:08.700 +03:00 [DBG] 'DataContext' disposed.
2024-09-29 18:41:08.704 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/CustomerOrders/add application/json 156 - 500 - text/plain 19163.7759ms
2024-09-29 18:41:10.815 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/CustomerOrders/add application/json 156
2024-09-29 18:41:10.817 +03:00 [DBG] POST requests are not supported
2024-09-29 18:41:10.822 +03:00 [DBG] 1 candidate(s) found for the request path '/api/CustomerOrders/add'
2024-09-29 18:41:10.823 +03:00 [DBG] Endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API)' with route pattern 'api/CustomerOrders/add' is valid for the request path '/api/CustomerOrders/add'
2024-09-29 18:41:10.823 +03:00 [DBG] Request matched endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API)'
2024-09-29 18:41:10.824 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-29 18:41:10.825 +03:00 [INF] Executing endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API)'
2024-09-29 18:41:10.826 +03:00 [INF] Route matched with {action = "Add", controller = "CustomerOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto]] Add(CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto) on controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API).
2024-09-29 18:41:10.827 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-29 18:41:10.828 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-29 18:41:10.829 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-29 18:41:10.830 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-29 18:41:10.831 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-29 18:41:10.831 +03:00 [DBG] Executing controller factory for controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API)
2024-09-29 18:41:10.832 +03:00 [DBG] Executed controller factory for controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API)
2024-09-29 18:41:10.833 +03:00 [DBG] Attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto' ...
2024-09-29 18:41:10.834 +03:00 [DBG] Attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto' using the name '' in request data ...
2024-09-29 18:41:10.835 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-29 18:41:10.837 +03:00 [DBG] Connection id "0HN70JJTFHSQ8", Request id "0HN70JJTFHSQ8:0000000B": started reading request body.
2024-09-29 18:41:10.838 +03:00 [DBG] Connection id "0HN70JJTFHSQ8", Request id "0HN70JJTFHSQ8:0000000B": done reading request body.
2024-09-29 18:41:10.839 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'
2024-09-29 18:41:10.840 +03:00 [DBG] Done attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 18:41:10.842 +03:00 [DBG] Done attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 18:41:10.842 +03:00 [DBG] Attempting to validate the bound parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto' ...
2024-09-29 18:41:10.843 +03:00 [DBG] Done attempting to validate the bound parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 18:41:13.877 +03:00 [INF] Entity Framework Core 5.0.10 initialized 'DataContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2024-09-29 18:41:13.886 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 18:41:13.889 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-29 18:41:13.890 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 18:41:13.892 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 18:41:13.895 +03:00 [DBG] Executing DbCommand [Parameters=[@__orderDto_Customer_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Address", c."CreatedBy", c."CreatedDate", c."Email", c."IsDeleted", c."Name", c."UpdatedBy", c."UpdatedDate"
FROM "Customers" AS c
WHERE c."Email" = @__orderDto_Customer_Email_0
LIMIT 1
2024-09-29 18:41:13.899 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__orderDto_Customer_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Address", c."CreatedBy", c."CreatedDate", c."Email", c."IsDeleted", c."Name", c."UpdatedBy", c."UpdatedDate"
FROM "Customers" AS c
WHERE c."Email" = @__orderDto_Customer_Email_0
LIMIT 1
2024-09-29 18:41:13.923 +03:00 [DBG] Context 'DataContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 18:41:13.926 +03:00 [DBG] A data reader was disposed.
2024-09-29 18:41:13.926 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 18:41:13.927 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 18:41:26.432 +03:00 [DBG] DetectChanges starting for 'DataContext'.
2024-09-29 18:41:26.435 +03:00 [DBG] DetectChanges completed for 'DataContext'.
2024-09-29 18:42:27.742 +03:00 [DBG] 'DataContext' generated a temporary value for the property 'Id.CustomerOrder'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 18:42:27.744 +03:00 [DBG] Context 'DataContext' started tracking 'CustomerOrder' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 18:42:27.745 +03:00 [DBG] 'DataContext' generated a temporary value for the property 'Id.Customer'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 18:42:27.746 +03:00 [DBG] The foreign key property 'CustomerOrder.CustomerId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-29 18:42:27.747 +03:00 [DBG] Context 'DataContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 18:42:27.748 +03:00 [DBG] 'DataContext' generated a temporary value for the property 'Id.Product'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 18:42:27.750 +03:00 [DBG] Context 'DataContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 18:42:29.278 +03:00 [DBG] SaveChanges starting for 'DataContext'.
2024-09-29 18:42:29.280 +03:00 [DBG] DetectChanges starting for 'DataContext'.
2024-09-29 18:42:29.282 +03:00 [DBG] DetectChanges completed for 'DataContext'.
2024-09-29 18:42:29.283 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 18:42:29.283 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 18:42:29.284 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-29 18:42:29.284 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-29 18:42:29.285 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 18:42:29.285 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-29 18:42:29.286 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Customers" ("Address", "CreatedBy", "CreatedDate", "Email", "IsDeleted", "Name", "UpdatedBy", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "Id";
2024-09-29 18:42:29.289 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Customers" ("Address", "CreatedBy", "CreatedDate", "Email", "IsDeleted", "Name", "UpdatedBy", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "Id";
2024-09-29 18:42:29.303 +03:00 [DBG] The foreign key property 'Customer.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-29 18:42:29.303 +03:00 [DBG] The foreign key property 'CustomerOrder.CustomerId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-29 18:42:29.304 +03:00 [DBG] A data reader was disposed.
2024-09-29 18:42:29.305 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 18:42:29.305 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-29 18:42:29.306 +03:00 [DBG] Executing DbCommand [Parameters=[@p8='?' (DbType = Int32), @p9='?' (DbType = DateTime), @p10='?' (DbType = Int32), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "CustomerOrders" ("CreatedBy", "CreatedDate", "CustomerId", "IsDeleted", "UpdatedBy", "UpdatedDate")
VALUES (@p8, @p9, @p10, @p11, @p12, @p13)
RETURNING "Id";
2024-09-29 18:42:29.308 +03:00 [ERR] Failed executing DbCommand (3ms) [Parameters=[@p8='?' (DbType = Int32), @p9='?' (DbType = DateTime), @p10='?' (DbType = Int32), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "CustomerOrders" ("CreatedBy", "CreatedDate", "CustomerId", "IsDeleted", "UpdatedBy", "UpdatedDate")
VALUES (@p8, @p9, @p10, @p11, @p12, @p13)
RETURNING "Id";
2024-09-29 18:42:29.315 +03:00 [DBG] Disposing transaction.
2024-09-29 18:42:29.316 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 18:42:29.316 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 18:42:29.319 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'CustomerOrder.Data.Context.DataContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "PK_CustomerOrders"
   at Npgsql.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|194_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "PK_CustomerOrders"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: CustomerOrders
    ConstraintName: PK_CustomerOrders
    File: nbtinsert.c
    Line: 673
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "PK_CustomerOrders"
   at Npgsql.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|194_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "PK_CustomerOrders"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: CustomerOrders
    ConstraintName: PK_CustomerOrders
    File: nbtinsert.c
    Line: 673
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-09-29 18:54:06.392 +03:00 [INF] Starting web host
2024-09-29 18:54:07.156 +03:00 [DBG] Hosting starting
2024-09-29 18:54:07.204 +03:00 [INF] User profile is available. Using 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-29 18:54:07.227 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-0aa42add-f3b4-405e-a8c2-992d6e29a85c.xml'.
2024-09-29 18:54:07.246 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-71b87755-2ee9-43e6-87de-6c92ed7c99a6.xml'.
2024-09-29 18:54:07.250 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-acea2ac6-9b67-4521-b460-630e25f9dc5a.xml'.
2024-09-29 18:54:07.256 +03:00 [DBG] Found key {0aa42add-f3b4-405e-a8c2-992d6e29a85c}.
2024-09-29 18:54:07.264 +03:00 [DBG] Found key {71b87755-2ee9-43e6-87de-6c92ed7c99a6}.
2024-09-29 18:54:07.265 +03:00 [DBG] Found key {acea2ac6-9b67-4521-b460-630e25f9dc5a}.
2024-09-29 18:54:07.274 +03:00 [DBG] Considering key {acea2ac6-9b67-4521-b460-630e25f9dc5a} with expiration date 2024-10-15 10:31:27Z as default key.
2024-09-29 18:54:07.294 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-29 18:54:07.299 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-29 18:54:07.302 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-29 18:54:07.309 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-29 18:54:07.314 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-29 18:54:07.319 +03:00 [DBG] Using key {acea2ac6-9b67-4521-b460-630e25f9dc5a} as the default key.
2024-09-29 18:54:07.321 +03:00 [DBG] Key ring with default key {acea2ac6-9b67-4521-b460-630e25f9dc5a} was loaded during application startup.
2024-09-29 18:54:08.019 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: D6697AE29B19EBA86816E6295ADBAF33F0642E18)
2024-09-29 18:54:08.072 +03:00 [INF] Now listening on: https://localhost:5001
2024-09-29 18:54:08.099 +03:00 [INF] Now listening on: http://localhost:5000
2024-09-29 18:54:08.101 +03:00 [DBG] Loaded hosting startup assembly CustomerOrder.API
2024-09-29 18:54:08.104 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-29 18:54:08.106 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-29 18:54:08.171 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-29 18:54:08.173 +03:00 [INF] Hosting environment: Development
2024-09-29 18:54:08.178 +03:00 [INF] Content root path: C:\Users\cagrie\source\repos\CustomerOrder\CustomerOrder.API
2024-09-29 18:54:08.188 +03:00 [DBG] Hosting started
2024-09-29 18:54:08.580 +03:00 [DBG] Connection id "0HN70JRQ2POJ8" received FIN.
2024-09-29 18:54:08.581 +03:00 [DBG] Connection id "0HN70JRQ2POJ7" received FIN.
2024-09-29 18:54:08.599 +03:00 [DBG] Connection id "0HN70JRQ2POJ7" accepted.
2024-09-29 18:54:08.599 +03:00 [DBG] Connection id "0HN70JRQ2POJ8" accepted.
2024-09-29 18:54:08.602 +03:00 [DBG] Connection id "0HN70JRQ2POJ8" started.
2024-09-29 18:54:08.602 +03:00 [DBG] Connection id "0HN70JRQ2POJ7" started.
2024-09-29 18:54:08.618 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.<>c.<ProcessAuthenticationWithTelemetry>b__169_2(Task t, Object s)
   at System.Threading.Tasks.ContinuationTaskFromTask.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-29 18:54:08.618 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.<>c.<ProcessAuthenticationWithTelemetry>b__169_2(Task t, Object s)
   at System.Threading.Tasks.ContinuationTaskFromTask.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-29 18:54:08.656 +03:00 [DBG] Connection id "0HN70JRQ2POJ8" stopped.
2024-09-29 18:54:08.656 +03:00 [DBG] Connection id "0HN70JRQ2POJ7" stopped.
2024-09-29 18:54:08.660 +03:00 [DBG] Connection id "0HN70JRQ2POJ8" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 18:54:08.660 +03:00 [DBG] Connection id "0HN70JRQ2POJ7" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 18:54:15.987 +03:00 [DBG] Connection id "0HN70JRQ2POJ9" accepted.
2024-09-29 18:54:15.989 +03:00 [DBG] Connection id "0HN70JRQ2POJ9" started.
2024-09-29 18:54:16.127 +03:00 [DBG] Connection "0HN70JRQ2POJ9" established using the following protocol: "Tls13"
2024-09-29 18:54:16.216 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2024-09-29 18:54:16.428 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-29 18:54:16.677 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-29 18:54:16.693 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-29 18:54:16.702 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 491.8803ms
2024-09-29 18:54:16.705 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - -
2024-09-29 18:54:16.705 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - -
2024-09-29 18:54:16.717 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - - - 200 12366 application/javascript;+charset=utf-8 11.5831ms
2024-09-29 18:54:16.761 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 56.2684ms
2024-09-29 18:54:16.798 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2024-09-29 18:54:16.915 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 116.7691ms
2024-09-29 18:56:27.639 +03:00 [INF] Starting web host
2024-09-29 18:56:28.952 +03:00 [DBG] Hosting starting
2024-09-29 18:56:29.014 +03:00 [INF] User profile is available. Using 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-29 18:56:29.041 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-0aa42add-f3b4-405e-a8c2-992d6e29a85c.xml'.
2024-09-29 18:56:29.058 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-71b87755-2ee9-43e6-87de-6c92ed7c99a6.xml'.
2024-09-29 18:56:29.061 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-acea2ac6-9b67-4521-b460-630e25f9dc5a.xml'.
2024-09-29 18:56:29.068 +03:00 [DBG] Found key {0aa42add-f3b4-405e-a8c2-992d6e29a85c}.
2024-09-29 18:56:29.079 +03:00 [DBG] Found key {71b87755-2ee9-43e6-87de-6c92ed7c99a6}.
2024-09-29 18:56:29.083 +03:00 [DBG] Found key {acea2ac6-9b67-4521-b460-630e25f9dc5a}.
2024-09-29 18:56:29.103 +03:00 [DBG] Considering key {acea2ac6-9b67-4521-b460-630e25f9dc5a} with expiration date 2024-10-15 10:31:27Z as default key.
2024-09-29 18:56:29.121 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-29 18:56:29.126 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-29 18:56:29.129 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-29 18:56:29.134 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-29 18:56:29.138 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-29 18:56:29.142 +03:00 [DBG] Using key {acea2ac6-9b67-4521-b460-630e25f9dc5a} as the default key.
2024-09-29 18:56:29.143 +03:00 [DBG] Key ring with default key {acea2ac6-9b67-4521-b460-630e25f9dc5a} was loaded during application startup.
2024-09-29 18:56:29.442 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: D6697AE29B19EBA86816E6295ADBAF33F0642E18)
2024-09-29 18:56:29.470 +03:00 [INF] Now listening on: https://localhost:5001
2024-09-29 18:56:29.470 +03:00 [INF] Now listening on: http://localhost:5000
2024-09-29 18:56:29.471 +03:00 [DBG] Loaded hosting startup assembly CustomerOrder.API
2024-09-29 18:56:29.472 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-29 18:56:29.472 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-29 18:56:29.473 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-29 18:56:29.474 +03:00 [INF] Hosting environment: Development
2024-09-29 18:56:29.475 +03:00 [INF] Content root path: C:\Users\cagrie\source\repos\CustomerOrder\CustomerOrder.API
2024-09-29 18:56:29.476 +03:00 [DBG] Hosting started
2024-09-29 18:56:29.739 +03:00 [DBG] Connection id "0HN70JT44VRSM" received FIN.
2024-09-29 18:56:29.752 +03:00 [DBG] Connection id "0HN70JT44VRSM" accepted.
2024-09-29 18:56:29.757 +03:00 [DBG] Connection id "0HN70JT44VRSM" started.
2024-09-29 18:56:29.774 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.<>c.<ProcessAuthenticationWithTelemetry>b__169_2(Task t, Object s)
   at System.Threading.Tasks.ContinuationTaskFromTask.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-29 18:56:29.819 +03:00 [DBG] Connection id "0HN70JT44VRSM" stopped.
2024-09-29 18:56:29.823 +03:00 [DBG] Connection id "0HN70JT44VRSM" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 18:56:36.678 +03:00 [DBG] Connection id "0HN70JT44VRSN" accepted.
2024-09-29 18:56:36.680 +03:00 [DBG] Connection id "0HN70JT44VRSN" started.
2024-09-29 18:56:36.765 +03:00 [DBG] Connection "0HN70JT44VRSN" established using the following protocol: "Tls13"
2024-09-29 18:56:36.836 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2024-09-29 18:56:36.978 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-29 18:56:37.175 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-29 18:56:37.194 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-29 18:56:37.202 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 368.1400ms
2024-09-29 18:56:37.204 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - -
2024-09-29 18:56:37.204 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - -
2024-09-29 18:56:37.217 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - - - 200 12366 application/javascript;+charset=utf-8 13.3672ms
2024-09-29 18:56:37.258 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 53.9848ms
2024-09-29 18:56:37.292 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2024-09-29 18:56:37.398 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 106.2231ms
2024-09-29 18:57:07.320 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/CustomerOrders/add application/json 146
2024-09-29 18:57:07.323 +03:00 [DBG] POST requests are not supported
2024-09-29 18:57:07.383 +03:00 [DBG] 1 candidate(s) found for the request path '/api/CustomerOrders/add'
2024-09-29 18:57:07.398 +03:00 [DBG] Endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API)' with route pattern 'api/CustomerOrders/add' is valid for the request path '/api/CustomerOrders/add'
2024-09-29 18:57:07.401 +03:00 [DBG] Request matched endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API)'
2024-09-29 18:57:07.499 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-29 18:57:07.506 +03:00 [INF] Executing endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API)'
2024-09-29 18:57:07.514 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-29 18:57:07.575 +03:00 [INF] Route matched with {action = "Add", controller = "CustomerOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto]] Add(CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto) on controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API).
2024-09-29 18:57:07.579 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-29 18:57:07.581 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-29 18:57:07.585 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-29 18:57:07.587 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-29 18:57:07.589 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-29 18:57:07.593 +03:00 [DBG] Executing controller factory for controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API)
2024-09-29 18:57:07.733 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-29 18:57:08.008 +03:00 [DBG] Executed controller factory for controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API)
2024-09-29 18:57:08.023 +03:00 [DBG] Attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto' ...
2024-09-29 18:57:08.027 +03:00 [DBG] Attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto' using the name '' in request data ...
2024-09-29 18:57:08.028 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-29 18:57:08.044 +03:00 [DBG] Connection id "0HN70JT44VRSN", Request id "0HN70JT44VRSN:00000009": started reading request body.
2024-09-29 18:57:08.048 +03:00 [DBG] Connection id "0HN70JT44VRSN", Request id "0HN70JT44VRSN:00000009": done reading request body.
2024-09-29 18:57:08.074 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'
2024-09-29 18:57:08.077 +03:00 [DBG] Done attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 18:57:08.078 +03:00 [DBG] Done attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 18:57:08.079 +03:00 [DBG] Attempting to validate the bound parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto' ...
2024-09-29 18:57:08.087 +03:00 [DBG] Done attempting to validate the bound parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 18:57:11.568 +03:00 [DBG] The property 'CustomerOrderId.Product' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-29 18:57:11.744 +03:00 [INF] Entity Framework Core 5.0.10 initialized 'DataContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2024-09-29 18:57:11.790 +03:00 [DBG] Compiling query expression: 
'DbSet<Customer>()
    .FirstOrDefault(c => c.Email == __orderDto_Customer_Email_0)'
2024-09-29 18:57:11.995 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Customer>(
    asyncEnumerable: new SingleQueryingEnumerable<Customer>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Customer.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Customer.Address (string) Required, 1], [Property: Customer.CreatedBy (int) Required, 2], [Property: Customer.CreatedDate (DateTime) Required, 3], [Property: Customer.Email (string) Required, 4], [Property: Customer.IsDeleted (bool) Required, 5], [Property: Customer.Name (string) Required, 6], [Property: Customer.UpdatedBy (Nullable<int>), 7], [Property: Customer.UpdatedDate (Nullable<DateTime>), 8], }
            SELECT TOP(1) c.Id, c.Address, c.CreatedBy, c.CreatedDate, c.Email, c.IsDeleted, c.Name, c.UpdatedBy, c.UpdatedDate
            FROM Customers AS c
            WHERE c.Email == @__orderDto_Customer_Email_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Customer>, 
        CustomerOrder.Data.Context.DataContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-29 18:57:12.038 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 18:57:12.076 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (32ms).
2024-09-29 18:57:12.092 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 18:57:12.635 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 18:57:12.655 +03:00 [DBG] Executing DbCommand [Parameters=[@__orderDto_Customer_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Address", c."CreatedBy", c."CreatedDate", c."Email", c."IsDeleted", c."Name", c."UpdatedBy", c."UpdatedDate"
FROM "Customers" AS c
WHERE c."Email" = @__orderDto_Customer_Email_0
LIMIT 1
2024-09-29 18:57:12.681 +03:00 [INF] Executed DbCommand (29ms) [Parameters=[@__orderDto_Customer_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Address", c."CreatedBy", c."CreatedDate", c."Email", c."IsDeleted", c."Name", c."UpdatedBy", c."UpdatedDate"
FROM "Customers" AS c
WHERE c."Email" = @__orderDto_Customer_Email_0
LIMIT 1
2024-09-29 18:57:12.690 +03:00 [DBG] A data reader was disposed.
2024-09-29 18:57:12.697 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 18:57:12.703 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 18:57:17.956 +03:00 [DBG] 'DataContext' generated a temporary value for the property 'Id.Customer'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 18:57:18.039 +03:00 [DBG] Context 'DataContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 18:57:18.572 +03:00 [DBG] SaveChanges starting for 'DataContext'.
2024-09-29 18:57:18.578 +03:00 [DBG] DetectChanges starting for 'DataContext'.
2024-09-29 18:57:18.591 +03:00 [DBG] DetectChanges completed for 'DataContext'.
2024-09-29 18:57:18.606 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 18:57:18.609 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 18:57:18.611 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-29 18:57:18.619 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-29 18:57:18.679 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 18:57:18.682 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-29 18:57:18.684 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Customers" ("Address", "CreatedBy", "CreatedDate", "Email", "IsDeleted", "Name", "UpdatedBy", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "Id";
2024-09-29 18:57:18.693 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Customers" ("Address", "CreatedBy", "CreatedDate", "Email", "IsDeleted", "Name", "UpdatedBy", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "Id";
2024-09-29 18:57:18.734 +03:00 [DBG] The foreign key property 'Customer.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-29 18:57:18.744 +03:00 [DBG] A data reader was disposed.
2024-09-29 18:57:18.750 +03:00 [DBG] Committing transaction.
2024-09-29 18:57:18.761 +03:00 [DBG] Committed transaction.
2024-09-29 18:57:18.765 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 18:57:18.769 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 18:57:18.772 +03:00 [DBG] Disposing transaction.
2024-09-29 18:57:18.791 +03:00 [DBG] An entity of type 'Customer' tracked by 'DataContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 18:57:18.795 +03:00 [DBG] SaveChanges completed for 'DataContext' with 1 entities written to the database.
2024-09-29 18:57:24.280 +03:00 [DBG] 'DataContext' generated a temporary value for the property 'Id.CustomerOrder'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 18:57:24.308 +03:00 [DBG] Context 'DataContext' started tracking 'CustomerOrder' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 18:57:24.311 +03:00 [DBG] 'DataContext' generated a temporary value for the property 'Id.Customer'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 18:57:24.318 +03:00 [DBG] The foreign key property 'CustomerOrder.CustomerId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-29 18:57:24.321 +03:00 [DBG] Context 'DataContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 18:57:24.332 +03:00 [DBG] 'DataContext' generated a temporary value for the property 'Id.Product'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 18:57:24.371 +03:00 [DBG] Context 'DataContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 18:57:24.950 +03:00 [DBG] SaveChanges starting for 'DataContext'.
2024-09-29 18:57:24.952 +03:00 [DBG] DetectChanges starting for 'DataContext'.
2024-09-29 18:57:24.973 +03:00 [DBG] DetectChanges completed for 'DataContext'.
2024-09-29 18:57:24.976 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 18:57:24.978 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 18:57:24.979 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-29 18:57:24.980 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-29 18:57:24.982 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 18:57:24.983 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-29 18:57:24.984 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Customers" ("Address", "CreatedBy", "CreatedDate", "Email", "IsDeleted", "Name", "UpdatedBy", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "Id";
2024-09-29 18:57:24.988 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Customers" ("Address", "CreatedBy", "CreatedDate", "Email", "IsDeleted", "Name", "UpdatedBy", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "Id";
2024-09-29 18:57:25.006 +03:00 [DBG] The foreign key property 'Customer.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-29 18:57:25.010 +03:00 [DBG] The foreign key property 'CustomerOrder.CustomerId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-29 18:57:25.013 +03:00 [DBG] A data reader was disposed.
2024-09-29 18:57:25.014 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 18:57:25.015 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-29 18:57:25.017 +03:00 [DBG] Executing DbCommand [Parameters=[@p8='?' (DbType = Int32), @p9='?' (DbType = DateTime), @p10='?' (DbType = Int32), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "CustomerOrders" ("CreatedBy", "CreatedDate", "CustomerId", "IsDeleted", "UpdatedBy", "UpdatedDate")
VALUES (@p8, @p9, @p10, @p11, @p12, @p13)
RETURNING "Id";
2024-09-29 18:57:25.027 +03:00 [ERR] Failed executing DbCommand (9ms) [Parameters=[@p8='?' (DbType = Int32), @p9='?' (DbType = DateTime), @p10='?' (DbType = Int32), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "CustomerOrders" ("CreatedBy", "CreatedDate", "CustomerId", "IsDeleted", "UpdatedBy", "UpdatedDate")
VALUES (@p8, @p9, @p10, @p11, @p12, @p13)
RETURNING "Id";
2024-09-29 18:57:25.037 +03:00 [DBG] Disposing transaction.
2024-09-29 18:57:25.038 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 18:57:25.039 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 18:57:25.047 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'CustomerOrder.Data.Context.DataContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "PK_CustomerOrders"
   at Npgsql.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|194_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "PK_CustomerOrders"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: CustomerOrders
    ConstraintName: PK_CustomerOrders
    File: nbtinsert.c
    Line: 673
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "PK_CustomerOrders"
   at Npgsql.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|194_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "PK_CustomerOrders"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: CustomerOrders
    ConstraintName: PK_CustomerOrders
    File: nbtinsert.c
    Line: 673
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-09-29 18:57:40.376 +03:00 [INF] error: An error occurred while updating the entries. See the inner exception for details.
2024-09-29 18:57:40.442 +03:00 [INF] Executed action CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API) in 32845.0862ms
2024-09-29 18:57:40.448 +03:00 [INF] Executed endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API)'
2024-09-29 18:57:40.452 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: An error occurred while adding the order: An error occurred while updating the entries. See the inner exception for details.
   at CustomerOrder.API.Services.CustomerOrdersService.AddCustomerOrderAsync(CustomerOrderDto orderDto) in C:\Users\cagrie\source\repos\CustomerOrder\CustomerOrder.API\Services\CustomerOrdersService.cs:line 167
   at CustomerOrder.API.Controllers.CustomerOrdersController.Add(CustomerOrderDto orderDto) in C:\Users\cagrie\source\repos\CustomerOrder\CustomerOrder.API\Controllers\CustomerOrdersController.cs:line 26
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-09-29 18:57:40.489 +03:00 [DBG] 'DataContext' disposed.
2024-09-29 18:57:40.493 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/CustomerOrders/add application/json 146 - 500 - text/plain 33173.6266ms
2024-09-29 18:57:42.818 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/CustomerOrders/add application/json 146
2024-09-29 18:57:42.818 +03:00 [DBG] POST requests are not supported
2024-09-29 18:57:42.822 +03:00 [DBG] 1 candidate(s) found for the request path '/api/CustomerOrders/add'
2024-09-29 18:57:42.823 +03:00 [DBG] Endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API)' with route pattern 'api/CustomerOrders/add' is valid for the request path '/api/CustomerOrders/add'
2024-09-29 18:57:42.824 +03:00 [DBG] Request matched endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API)'
2024-09-29 18:57:42.825 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-29 18:57:42.826 +03:00 [INF] Executing endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API)'
2024-09-29 18:57:42.826 +03:00 [INF] Route matched with {action = "Add", controller = "CustomerOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto]] Add(CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto) on controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API).
2024-09-29 18:57:42.827 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-29 18:57:42.828 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-29 18:57:42.828 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-29 18:57:42.829 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-29 18:57:42.830 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-29 18:57:42.830 +03:00 [DBG] Executing controller factory for controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API)
2024-09-29 18:57:42.831 +03:00 [DBG] Executed controller factory for controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API)
2024-09-29 18:57:42.832 +03:00 [DBG] Attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto' ...
2024-09-29 18:57:42.833 +03:00 [DBG] Attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto' using the name '' in request data ...
2024-09-29 18:57:42.833 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-29 18:57:42.834 +03:00 [DBG] Connection id "0HN70JT44VRSN", Request id "0HN70JT44VRSN:0000000B": started reading request body.
2024-09-29 18:57:42.834 +03:00 [DBG] Connection id "0HN70JT44VRSN", Request id "0HN70JT44VRSN:0000000B": done reading request body.
2024-09-29 18:57:42.835 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'
2024-09-29 18:57:42.836 +03:00 [DBG] Done attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 18:57:42.837 +03:00 [DBG] Done attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 18:57:42.838 +03:00 [DBG] Attempting to validate the bound parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto' ...
2024-09-29 18:57:42.839 +03:00 [DBG] Done attempting to validate the bound parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 18:57:53.185 +03:00 [INF] Entity Framework Core 5.0.10 initialized 'DataContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2024-09-29 18:57:53.192 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 18:57:53.195 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-29 18:57:53.196 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 18:57:53.196 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 18:57:53.197 +03:00 [DBG] Executing DbCommand [Parameters=[@__orderDto_Customer_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Address", c."CreatedBy", c."CreatedDate", c."Email", c."IsDeleted", c."Name", c."UpdatedBy", c."UpdatedDate"
FROM "Customers" AS c
WHERE c."Email" = @__orderDto_Customer_Email_0
LIMIT 1
2024-09-29 18:57:53.200 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__orderDto_Customer_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Address", c."CreatedBy", c."CreatedDate", c."Email", c."IsDeleted", c."Name", c."UpdatedBy", c."UpdatedDate"
FROM "Customers" AS c
WHERE c."Email" = @__orderDto_Customer_Email_0
LIMIT 1
2024-09-29 18:57:53.226 +03:00 [DBG] Context 'DataContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 18:57:53.230 +03:00 [DBG] A data reader was disposed.
2024-09-29 18:57:53.230 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 18:57:53.231 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 18:58:31.609 +03:00 [DBG] 'DataContext' generated a temporary value for the property 'Id.CustomerOrder'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 18:58:31.612 +03:00 [DBG] Context 'DataContext' started tracking 'CustomerOrder' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 18:58:31.613 +03:00 [DBG] 'DataContext' generated a temporary value for the property 'Id.Customer'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 18:58:31.614 +03:00 [DBG] The foreign key property 'CustomerOrder.CustomerId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-29 18:58:31.615 +03:00 [DBG] Context 'DataContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 18:58:31.616 +03:00 [DBG] 'DataContext' generated a temporary value for the property 'Id.Product'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 18:58:31.616 +03:00 [DBG] Context 'DataContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 18:58:32.174 +03:00 [DBG] SaveChanges starting for 'DataContext'.
2024-09-29 18:58:32.176 +03:00 [DBG] DetectChanges starting for 'DataContext'.
2024-09-29 18:58:32.179 +03:00 [DBG] DetectChanges completed for 'DataContext'.
2024-09-29 18:58:32.180 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 18:58:32.182 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 18:58:32.183 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-29 18:58:32.184 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-29 18:58:32.185 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 18:58:32.186 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-29 18:58:32.187 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Customers" ("Address", "CreatedBy", "CreatedDate", "Email", "IsDeleted", "Name", "UpdatedBy", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "Id";
2024-09-29 18:58:32.190 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Customers" ("Address", "CreatedBy", "CreatedDate", "Email", "IsDeleted", "Name", "UpdatedBy", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "Id";
2024-09-29 18:58:32.205 +03:00 [DBG] The foreign key property 'Customer.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-29 18:58:32.206 +03:00 [DBG] The foreign key property 'CustomerOrder.CustomerId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-29 18:58:32.207 +03:00 [DBG] A data reader was disposed.
2024-09-29 18:58:32.208 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 18:58:32.208 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-29 18:58:32.209 +03:00 [DBG] Executing DbCommand [Parameters=[@p8='?' (DbType = Int32), @p9='?' (DbType = DateTime), @p10='?' (DbType = Int32), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "CustomerOrders" ("CreatedBy", "CreatedDate", "CustomerId", "IsDeleted", "UpdatedBy", "UpdatedDate")
VALUES (@p8, @p9, @p10, @p11, @p12, @p13)
RETURNING "Id";
2024-09-29 18:58:32.215 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p8='?' (DbType = Int32), @p9='?' (DbType = DateTime), @p10='?' (DbType = Int32), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "CustomerOrders" ("CreatedBy", "CreatedDate", "CustomerId", "IsDeleted", "UpdatedBy", "UpdatedDate")
VALUES (@p8, @p9, @p10, @p11, @p12, @p13)
RETURNING "Id";
2024-09-29 18:58:32.217 +03:00 [DBG] The foreign key property 'CustomerOrder.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-29 18:58:32.218 +03:00 [DBG] The foreign key property 'Product.CustomerOrderId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-29 18:58:32.221 +03:00 [DBG] A data reader was disposed.
2024-09-29 18:58:32.222 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 18:58:32.222 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-29 18:58:32.223 +03:00 [DBG] Executing DbCommand [Parameters=[@p14='?', @p15='?' (DbType = Int32), @p16='?' (DbType = DateTime), @p17='?' (DbType = Int32), @p18='?', @p19='?' (DbType = Boolean), @p20='?' (DbType = Decimal), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Products" ("Barcode", "CreatedBy", "CreatedDate", "CustomerOrderId", "Description", "IsDeleted", "Price", "Quantity", "UpdatedBy", "UpdatedDate")
VALUES (@p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23)
RETURNING "Id";
2024-09-29 18:58:32.230 +03:00 [ERR] Failed executing DbCommand (7ms) [Parameters=[@p14='?', @p15='?' (DbType = Int32), @p16='?' (DbType = DateTime), @p17='?' (DbType = Int32), @p18='?', @p19='?' (DbType = Boolean), @p20='?' (DbType = Decimal), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Products" ("Barcode", "CreatedBy", "CreatedDate", "CustomerOrderId", "Description", "IsDeleted", "Price", "Quantity", "UpdatedBy", "UpdatedDate")
VALUES (@p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23)
RETURNING "Id";
2024-09-29 18:58:32.232 +03:00 [DBG] Disposing transaction.
2024-09-29 18:58:32.233 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 18:58:32.234 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 18:58:32.238 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'CustomerOrder.Data.Context.DataContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "PK_Products"
   at Npgsql.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|194_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "PK_Products"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Products
    ConstraintName: PK_Products
    File: nbtinsert.c
    Line: 673
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "PK_Products"
   at Npgsql.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|194_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "PK_Products"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Products
    ConstraintName: PK_Products
    File: nbtinsert.c
    Line: 673
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-09-29 19:01:02.906 +03:00 [INF] Starting web host
2024-09-29 19:01:04.299 +03:00 [DBG] Hosting starting
2024-09-29 19:01:04.364 +03:00 [INF] User profile is available. Using 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-29 19:01:04.409 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-0aa42add-f3b4-405e-a8c2-992d6e29a85c.xml'.
2024-09-29 19:01:04.429 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-71b87755-2ee9-43e6-87de-6c92ed7c99a6.xml'.
2024-09-29 19:01:04.433 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-acea2ac6-9b67-4521-b460-630e25f9dc5a.xml'.
2024-09-29 19:01:04.448 +03:00 [DBG] Found key {0aa42add-f3b4-405e-a8c2-992d6e29a85c}.
2024-09-29 19:01:04.461 +03:00 [DBG] Found key {71b87755-2ee9-43e6-87de-6c92ed7c99a6}.
2024-09-29 19:01:04.462 +03:00 [DBG] Found key {acea2ac6-9b67-4521-b460-630e25f9dc5a}.
2024-09-29 19:01:04.476 +03:00 [DBG] Considering key {acea2ac6-9b67-4521-b460-630e25f9dc5a} with expiration date 2024-10-15 10:31:27Z as default key.
2024-09-29 19:01:04.496 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-29 19:01:04.502 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-29 19:01:04.505 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-29 19:01:04.513 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-29 19:01:04.517 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-29 19:01:04.522 +03:00 [DBG] Using key {acea2ac6-9b67-4521-b460-630e25f9dc5a} as the default key.
2024-09-29 19:01:04.524 +03:00 [DBG] Key ring with default key {acea2ac6-9b67-4521-b460-630e25f9dc5a} was loaded during application startup.
2024-09-29 19:01:04.771 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: D6697AE29B19EBA86816E6295ADBAF33F0642E18)
2024-09-29 19:01:04.795 +03:00 [INF] Now listening on: https://localhost:5001
2024-09-29 19:01:04.799 +03:00 [INF] Now listening on: http://localhost:5000
2024-09-29 19:01:04.800 +03:00 [DBG] Loaded hosting startup assembly CustomerOrder.API
2024-09-29 19:01:04.801 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-29 19:01:04.801 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-29 19:01:04.803 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-29 19:01:04.804 +03:00 [INF] Hosting environment: Development
2024-09-29 19:01:04.805 +03:00 [INF] Content root path: C:\Users\cagrie\source\repos\CustomerOrder\CustomerOrder.API
2024-09-29 19:01:04.805 +03:00 [DBG] Hosting started
2024-09-29 19:01:04.954 +03:00 [DBG] Connection id "0HN70JVM5KV8E" received FIN.
2024-09-29 19:01:04.954 +03:00 [DBG] Connection id "0HN70JVM5KV8F" received FIN.
2024-09-29 19:01:04.966 +03:00 [DBG] Connection id "0HN70JVM5KV8E" accepted.
2024-09-29 19:01:04.966 +03:00 [DBG] Connection id "0HN70JVM5KV8F" accepted.
2024-09-29 19:01:04.970 +03:00 [DBG] Connection id "0HN70JVM5KV8E" started.
2024-09-29 19:01:04.970 +03:00 [DBG] Connection id "0HN70JVM5KV8F" started.
2024-09-29 19:01:04.988 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.<>c.<ProcessAuthenticationWithTelemetry>b__169_2(Task t, Object s)
   at System.Threading.Tasks.ContinuationTaskFromTask.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-29 19:01:04.988 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.<>c.<ProcessAuthenticationWithTelemetry>b__169_2(Task t, Object s)
   at System.Threading.Tasks.ContinuationTaskFromTask.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-29 19:01:05.033 +03:00 [DBG] Connection id "0HN70JVM5KV8F" stopped.
2024-09-29 19:01:05.033 +03:00 [DBG] Connection id "0HN70JVM5KV8E" stopped.
2024-09-29 19:01:05.043 +03:00 [DBG] Connection id "0HN70JVM5KV8F" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 19:01:05.043 +03:00 [DBG] Connection id "0HN70JVM5KV8E" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 19:01:05.139 +03:00 [DBG] Connection id "0HN70JVM5KV8G" accepted.
2024-09-29 19:01:05.142 +03:00 [DBG] Connection id "0HN70JVM5KV8G" started.
2024-09-29 19:01:05.218 +03:00 [DBG] Connection "0HN70JVM5KV8G" established using the following protocol: "Tls13"
2024-09-29 19:01:05.336 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2024-09-29 19:01:05.460 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-29 19:01:05.613 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-29 19:01:05.623 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-29 19:01:05.629 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 299.7314ms
2024-09-29 19:01:05.641 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - -
2024-09-29 19:01:05.641 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - -
2024-09-29 19:01:05.647 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - - - 200 12366 application/javascript;+charset=utf-8 6.4097ms
2024-09-29 19:01:05.681 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 44.2890ms
2024-09-29 19:01:05.713 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2024-09-29 19:01:05.797 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 84.5758ms
2024-09-29 19:01:35.657 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/CustomerOrders/add application/json 147
2024-09-29 19:01:35.661 +03:00 [DBG] POST requests are not supported
2024-09-29 19:01:35.712 +03:00 [DBG] 1 candidate(s) found for the request path '/api/CustomerOrders/add'
2024-09-29 19:01:35.720 +03:00 [DBG] Endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API)' with route pattern 'api/CustomerOrders/add' is valid for the request path '/api/CustomerOrders/add'
2024-09-29 19:01:35.723 +03:00 [DBG] Request matched endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API)'
2024-09-29 19:01:35.814 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-29 19:01:35.817 +03:00 [INF] Executing endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API)'
2024-09-29 19:01:35.828 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-29 19:01:35.870 +03:00 [INF] Route matched with {action = "Add", controller = "CustomerOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto]] Add(CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto) on controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API).
2024-09-29 19:01:35.875 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-29 19:01:35.877 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-29 19:01:35.878 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-29 19:01:35.880 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-29 19:01:35.881 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-29 19:01:35.882 +03:00 [DBG] Executing controller factory for controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API)
2024-09-29 19:01:36.030 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-29 19:01:36.290 +03:00 [DBG] Executed controller factory for controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API)
2024-09-29 19:01:36.303 +03:00 [DBG] Attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto' ...
2024-09-29 19:01:36.306 +03:00 [DBG] Attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto' using the name '' in request data ...
2024-09-29 19:01:36.310 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-29 19:01:36.327 +03:00 [DBG] Connection id "0HN70JVM5KV8G", Request id "0HN70JVM5KV8G:00000009": started reading request body.
2024-09-29 19:01:36.331 +03:00 [DBG] Connection id "0HN70JVM5KV8G", Request id "0HN70JVM5KV8G:00000009": done reading request body.
2024-09-29 19:01:36.354 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'
2024-09-29 19:01:36.355 +03:00 [DBG] Done attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 19:01:36.356 +03:00 [DBG] Done attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 19:01:36.358 +03:00 [DBG] Attempting to validate the bound parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto' ...
2024-09-29 19:01:36.364 +03:00 [DBG] Done attempting to validate the bound parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 19:01:39.357 +03:00 [DBG] The property 'CustomerOrderId.Product' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-29 19:01:39.525 +03:00 [INF] Entity Framework Core 5.0.10 initialized 'DataContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2024-09-29 19:01:39.572 +03:00 [DBG] Compiling query expression: 
'DbSet<Customer>()
    .FirstOrDefault(c => c.Email == __orderDto_Customer_Email_0)'
2024-09-29 19:01:39.835 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Customer>(
    asyncEnumerable: new SingleQueryingEnumerable<Customer>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Customer.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Customer.Address (string) Required, 1], [Property: Customer.CreatedBy (int) Required, 2], [Property: Customer.CreatedDate (DateTime) Required, 3], [Property: Customer.Email (string) Required, 4], [Property: Customer.IsDeleted (bool) Required, 5], [Property: Customer.Name (string) Required, 6], [Property: Customer.UpdatedBy (Nullable<int>), 7], [Property: Customer.UpdatedDate (Nullable<DateTime>), 8], }
            SELECT TOP(1) c.Id, c.Address, c.CreatedBy, c.CreatedDate, c.Email, c.IsDeleted, c.Name, c.UpdatedBy, c.UpdatedDate
            FROM Customers AS c
            WHERE c.Email == @__orderDto_Customer_Email_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Customer>, 
        CustomerOrder.Data.Context.DataContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-29 19:01:39.902 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 19:01:39.934 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (27ms).
2024-09-29 19:01:39.946 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:01:40.514 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:01:40.534 +03:00 [DBG] Executing DbCommand [Parameters=[@__orderDto_Customer_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Address", c."CreatedBy", c."CreatedDate", c."Email", c."IsDeleted", c."Name", c."UpdatedBy", c."UpdatedDate"
FROM "Customers" AS c
WHERE c."Email" = @__orderDto_Customer_Email_0
LIMIT 1
2024-09-29 19:01:40.564 +03:00 [INF] Executed DbCommand (32ms) [Parameters=[@__orderDto_Customer_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Address", c."CreatedBy", c."CreatedDate", c."Email", c."IsDeleted", c."Name", c."UpdatedBy", c."UpdatedDate"
FROM "Customers" AS c
WHERE c."Email" = @__orderDto_Customer_Email_0
LIMIT 1
2024-09-29 19:01:40.576 +03:00 [DBG] A data reader was disposed.
2024-09-29 19:01:40.581 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:01:40.591 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:01:44.838 +03:00 [DBG] 'DataContext' generated a temporary value for the property 'Id.Customer'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 19:01:44.925 +03:00 [DBG] Context 'DataContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 19:01:45.324 +03:00 [DBG] SaveChanges starting for 'DataContext'.
2024-09-29 19:01:45.328 +03:00 [DBG] DetectChanges starting for 'DataContext'.
2024-09-29 19:01:45.341 +03:00 [DBG] DetectChanges completed for 'DataContext'.
2024-09-29 19:01:45.362 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:01:45.364 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:01:45.367 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-29 19:01:45.375 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-29 19:01:45.440 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 19:01:45.443 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-29 19:01:45.446 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Customers" ("Address", "CreatedBy", "CreatedDate", "Email", "IsDeleted", "Name", "UpdatedBy", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "Id";
2024-09-29 19:01:45.455 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Customers" ("Address", "CreatedBy", "CreatedDate", "Email", "IsDeleted", "Name", "UpdatedBy", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "Id";
2024-09-29 19:01:45.495 +03:00 [DBG] The foreign key property 'Customer.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-29 19:01:45.503 +03:00 [DBG] A data reader was disposed.
2024-09-29 19:01:45.509 +03:00 [DBG] Committing transaction.
2024-09-29 19:01:45.518 +03:00 [DBG] Committed transaction.
2024-09-29 19:01:45.523 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:01:45.527 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:01:45.531 +03:00 [DBG] Disposing transaction.
2024-09-29 19:01:45.544 +03:00 [DBG] An entity of type 'Customer' tracked by 'DataContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 19:01:45.547 +03:00 [DBG] SaveChanges completed for 'DataContext' with 1 entities written to the database.
2024-09-29 19:01:57.513 +03:00 [DBG] 'DataContext' generated a temporary value for the property 'Id.CustomerOrder'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 19:01:57.535 +03:00 [DBG] Context 'DataContext' started tracking 'CustomerOrder' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 19:01:57.539 +03:00 [DBG] 'DataContext' generated a temporary value for the property 'Id.Customer'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 19:01:57.545 +03:00 [DBG] The foreign key property 'CustomerOrder.CustomerId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-29 19:01:57.549 +03:00 [DBG] Context 'DataContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 19:01:57.560 +03:00 [DBG] 'DataContext' generated a temporary value for the property 'Id.Product'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 19:01:57.622 +03:00 [DBG] Context 'DataContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 19:01:58.344 +03:00 [DBG] SaveChanges starting for 'DataContext'.
2024-09-29 19:01:58.346 +03:00 [DBG] DetectChanges starting for 'DataContext'.
2024-09-29 19:01:58.358 +03:00 [DBG] DetectChanges completed for 'DataContext'.
2024-09-29 19:01:58.361 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:01:58.363 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:01:58.364 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-29 19:01:58.364 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-29 19:01:58.366 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 19:01:58.367 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-29 19:01:58.369 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Customers" ("Address", "CreatedBy", "CreatedDate", "Email", "IsDeleted", "Name", "UpdatedBy", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "Id";
2024-09-29 19:01:58.372 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Customers" ("Address", "CreatedBy", "CreatedDate", "Email", "IsDeleted", "Name", "UpdatedBy", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "Id";
2024-09-29 19:01:58.387 +03:00 [DBG] The foreign key property 'Customer.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-29 19:01:58.389 +03:00 [DBG] The foreign key property 'CustomerOrder.CustomerId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-29 19:01:58.390 +03:00 [DBG] A data reader was disposed.
2024-09-29 19:01:58.390 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 19:01:58.391 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-29 19:01:58.391 +03:00 [DBG] Executing DbCommand [Parameters=[@p8='?' (DbType = Int32), @p9='?' (DbType = DateTime), @p10='?' (DbType = Int32), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "CustomerOrders" ("CreatedBy", "CreatedDate", "CustomerId", "IsDeleted", "UpdatedBy", "UpdatedDate")
VALUES (@p8, @p9, @p10, @p11, @p12, @p13)
RETURNING "Id";
2024-09-29 19:01:58.395 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p8='?' (DbType = Int32), @p9='?' (DbType = DateTime), @p10='?' (DbType = Int32), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "CustomerOrders" ("CreatedBy", "CreatedDate", "CustomerId", "IsDeleted", "UpdatedBy", "UpdatedDate")
VALUES (@p8, @p9, @p10, @p11, @p12, @p13)
RETURNING "Id";
2024-09-29 19:01:58.397 +03:00 [DBG] The foreign key property 'CustomerOrder.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-29 19:01:58.399 +03:00 [DBG] The foreign key property 'Product.CustomerOrderId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-29 19:01:58.400 +03:00 [DBG] A data reader was disposed.
2024-09-29 19:01:58.401 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 19:01:58.402 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-29 19:01:58.403 +03:00 [DBG] Executing DbCommand [Parameters=[@p14='?', @p15='?' (DbType = Int32), @p16='?' (DbType = DateTime), @p17='?' (DbType = Int32), @p18='?', @p19='?' (DbType = Boolean), @p20='?' (DbType = Decimal), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Products" ("Barcode", "CreatedBy", "CreatedDate", "CustomerOrderId", "Description", "IsDeleted", "Price", "Quantity", "UpdatedBy", "UpdatedDate")
VALUES (@p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23)
RETURNING "Id";
2024-09-29 19:01:58.418 +03:00 [ERR] Failed executing DbCommand (13ms) [Parameters=[@p14='?', @p15='?' (DbType = Int32), @p16='?' (DbType = DateTime), @p17='?' (DbType = Int32), @p18='?', @p19='?' (DbType = Boolean), @p20='?' (DbType = Decimal), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Products" ("Barcode", "CreatedBy", "CreatedDate", "CustomerOrderId", "Description", "IsDeleted", "Price", "Quantity", "UpdatedBy", "UpdatedDate")
VALUES (@p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23)
RETURNING "Id";
2024-09-29 19:01:58.429 +03:00 [DBG] Disposing transaction.
2024-09-29 19:01:58.429 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:01:58.430 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:01:58.440 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'CustomerOrder.Data.Context.DataContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "PK_Products"
   at Npgsql.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|194_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "PK_Products"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Products
    ConstraintName: PK_Products
    File: nbtinsert.c
    Line: 673
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "PK_Products"
   at Npgsql.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|194_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "PK_Products"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Products
    ConstraintName: PK_Products
    File: nbtinsert.c
    Line: 673
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-09-29 19:07:18.336 +03:00 [INF] Starting web host
2024-09-29 19:07:19.727 +03:00 [DBG] Hosting starting
2024-09-29 19:07:19.805 +03:00 [INF] User profile is available. Using 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-29 19:07:19.837 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-0aa42add-f3b4-405e-a8c2-992d6e29a85c.xml'.
2024-09-29 19:07:19.862 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-71b87755-2ee9-43e6-87de-6c92ed7c99a6.xml'.
2024-09-29 19:07:19.863 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-acea2ac6-9b67-4521-b460-630e25f9dc5a.xml'.
2024-09-29 19:07:19.873 +03:00 [DBG] Found key {0aa42add-f3b4-405e-a8c2-992d6e29a85c}.
2024-09-29 19:07:19.885 +03:00 [DBG] Found key {71b87755-2ee9-43e6-87de-6c92ed7c99a6}.
2024-09-29 19:07:19.886 +03:00 [DBG] Found key {acea2ac6-9b67-4521-b460-630e25f9dc5a}.
2024-09-29 19:07:19.899 +03:00 [DBG] Considering key {acea2ac6-9b67-4521-b460-630e25f9dc5a} with expiration date 2024-10-15 10:31:27Z as default key.
2024-09-29 19:07:19.919 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-29 19:07:19.923 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-29 19:07:19.925 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-29 19:07:19.932 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-29 19:07:19.936 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-29 19:07:19.940 +03:00 [DBG] Using key {acea2ac6-9b67-4521-b460-630e25f9dc5a} as the default key.
2024-09-29 19:07:19.941 +03:00 [DBG] Key ring with default key {acea2ac6-9b67-4521-b460-630e25f9dc5a} was loaded during application startup.
2024-09-29 19:07:20.198 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: D6697AE29B19EBA86816E6295ADBAF33F0642E18)
2024-09-29 19:07:20.229 +03:00 [INF] Now listening on: https://localhost:5001
2024-09-29 19:07:20.235 +03:00 [INF] Now listening on: http://localhost:5000
2024-09-29 19:07:20.237 +03:00 [DBG] Loaded hosting startup assembly CustomerOrder.API
2024-09-29 19:07:20.238 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-29 19:07:20.240 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-29 19:07:20.242 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-29 19:07:20.243 +03:00 [INF] Hosting environment: Development
2024-09-29 19:07:20.245 +03:00 [INF] Content root path: C:\Users\cagrie\source\repos\CustomerOrder\CustomerOrder.API
2024-09-29 19:07:20.246 +03:00 [DBG] Hosting started
2024-09-29 19:07:20.359 +03:00 [DBG] Connection id "0HN70K361N9UO" accepted.
2024-09-29 19:07:20.359 +03:00 [DBG] Connection id "0HN70K361N9UP" accepted.
2024-09-29 19:07:20.371 +03:00 [DBG] Connection id "0HN70K361N9UP" received FIN.
2024-09-29 19:07:20.371 +03:00 [DBG] Connection id "0HN70K361N9UO" received FIN.
2024-09-29 19:07:20.371 +03:00 [DBG] Connection id "0HN70K361N9UP" started.
2024-09-29 19:07:20.371 +03:00 [DBG] Connection id "0HN70K361N9UO" started.
2024-09-29 19:07:20.407 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.<>c.<ProcessAuthenticationWithTelemetry>b__169_2(Task t, Object s)
   at System.Threading.Tasks.ContinuationTaskFromTask.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-29 19:07:20.407 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.<>c.<ProcessAuthenticationWithTelemetry>b__169_2(Task t, Object s)
   at System.Threading.Tasks.ContinuationTaskFromTask.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-29 19:07:20.460 +03:00 [DBG] Connection id "0HN70K361N9UO" stopped.
2024-09-29 19:07:20.460 +03:00 [DBG] Connection id "0HN70K361N9UP" stopped.
2024-09-29 19:07:20.463 +03:00 [DBG] Connection id "0HN70K361N9UP" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 19:07:20.463 +03:00 [DBG] Connection id "0HN70K361N9UO" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 19:07:20.522 +03:00 [DBG] Connection id "0HN70K361N9UQ" accepted.
2024-09-29 19:07:20.523 +03:00 [DBG] Connection id "0HN70K361N9UQ" started.
2024-09-29 19:07:20.622 +03:00 [DBG] Connection "0HN70K361N9UQ" established using the following protocol: "Tls13"
2024-09-29 19:07:20.720 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2024-09-29 19:07:20.815 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-29 19:07:20.962 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-29 19:07:20.977 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-29 19:07:20.986 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 270.6580ms
2024-09-29 19:07:20.989 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - -
2024-09-29 19:07:21.007 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - - - 200 12366 application/javascript;+charset=utf-8 18.5779ms
2024-09-29 19:07:21.013 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - -
2024-09-29 19:07:21.053 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 40.5248ms
2024-09-29 19:07:21.144 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2024-09-29 19:07:21.248 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 104.4941ms
2024-09-29 19:07:47.593 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/CustomerOrders/add application/json 146
2024-09-29 19:07:47.598 +03:00 [DBG] POST requests are not supported
2024-09-29 19:07:47.647 +03:00 [DBG] 1 candidate(s) found for the request path '/api/CustomerOrders/add'
2024-09-29 19:07:47.654 +03:00 [DBG] Endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API)' with route pattern 'api/CustomerOrders/add' is valid for the request path '/api/CustomerOrders/add'
2024-09-29 19:07:47.657 +03:00 [DBG] Request matched endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API)'
2024-09-29 19:07:47.726 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-29 19:07:47.729 +03:00 [INF] Executing endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API)'
2024-09-29 19:07:47.738 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-29 19:07:47.788 +03:00 [INF] Route matched with {action = "Add", controller = "CustomerOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto]] Add(CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto) on controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API).
2024-09-29 19:07:47.795 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-29 19:07:47.795 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-29 19:07:47.796 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-29 19:07:47.797 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-29 19:07:47.798 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-29 19:07:47.800 +03:00 [DBG] Executing controller factory for controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API)
2024-09-29 19:07:47.942 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-29 19:07:48.152 +03:00 [DBG] Executed controller factory for controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API)
2024-09-29 19:07:48.166 +03:00 [DBG] Attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto' ...
2024-09-29 19:07:48.170 +03:00 [DBG] Attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto' using the name '' in request data ...
2024-09-29 19:07:48.171 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-29 19:07:48.185 +03:00 [DBG] Connection id "0HN70K361N9UQ", Request id "0HN70K361N9UQ:00000009": started reading request body.
2024-09-29 19:07:48.186 +03:00 [DBG] Connection id "0HN70K361N9UQ", Request id "0HN70K361N9UQ:00000009": done reading request body.
2024-09-29 19:07:48.206 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'
2024-09-29 19:07:48.207 +03:00 [DBG] Done attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 19:07:48.208 +03:00 [DBG] Done attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 19:07:48.210 +03:00 [DBG] Attempting to validate the bound parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto' ...
2024-09-29 19:07:48.214 +03:00 [DBG] Done attempting to validate the bound parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 19:07:52.260 +03:00 [DBG] The property 'CustomerOrderId.Product' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-29 19:07:52.399 +03:00 [INF] Entity Framework Core 5.0.10 initialized 'DataContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2024-09-29 19:07:52.452 +03:00 [DBG] Compiling query expression: 
'DbSet<Customer>()
    .FirstOrDefault(c => c.Email == __orderDto_Customer_Email_0)'
2024-09-29 19:07:52.640 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Customer>(
    asyncEnumerable: new SingleQueryingEnumerable<Customer>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Customer.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Customer.Address (string) Required, 1], [Property: Customer.CreatedBy (int) Required, 2], [Property: Customer.CreatedDate (DateTime) Required, 3], [Property: Customer.Email (string) Required, 4], [Property: Customer.IsDeleted (bool) Required, 5], [Property: Customer.Name (string) Required, 6], [Property: Customer.UpdatedBy (Nullable<int>), 7], [Property: Customer.UpdatedDate (Nullable<DateTime>), 8], }
            SELECT TOP(1) c.Id, c.Address, c.CreatedBy, c.CreatedDate, c.Email, c.IsDeleted, c.Name, c.UpdatedBy, c.UpdatedDate
            FROM Customers AS c
            WHERE c.Email == @__orderDto_Customer_Email_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Customer>, 
        CustomerOrder.Data.Context.DataContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-29 19:07:52.695 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 19:07:52.724 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (22ms).
2024-09-29 19:07:52.738 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:07:53.256 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:07:53.269 +03:00 [DBG] Executing DbCommand [Parameters=[@__orderDto_Customer_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Address", c."CreatedBy", c."CreatedDate", c."Email", c."IsDeleted", c."Name", c."UpdatedBy", c."UpdatedDate"
FROM "Customers" AS c
WHERE c."Email" = @__orderDto_Customer_Email_0
LIMIT 1
2024-09-29 19:07:53.291 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@__orderDto_Customer_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Address", c."CreatedBy", c."CreatedDate", c."Email", c."IsDeleted", c."Name", c."UpdatedBy", c."UpdatedDate"
FROM "Customers" AS c
WHERE c."Email" = @__orderDto_Customer_Email_0
LIMIT 1
2024-09-29 19:07:53.298 +03:00 [DBG] A data reader was disposed.
2024-09-29 19:07:53.302 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:07:53.307 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:08:07.619 +03:00 [DBG] 'DataContext' generated a temporary value for the property 'Id.Customer'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 19:08:07.690 +03:00 [DBG] Context 'DataContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 19:08:08.378 +03:00 [DBG] SaveChanges starting for 'DataContext'.
2024-09-29 19:08:08.382 +03:00 [DBG] DetectChanges starting for 'DataContext'.
2024-09-29 19:08:08.403 +03:00 [DBG] DetectChanges completed for 'DataContext'.
2024-09-29 19:08:08.434 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:08:08.435 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:08:08.437 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-29 19:08:08.441 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-29 19:08:08.497 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 19:08:08.501 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-29 19:08:08.503 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Customers" ("Address", "CreatedBy", "CreatedDate", "Email", "IsDeleted", "Name", "UpdatedBy", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "Id";
2024-09-29 19:08:08.509 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Customers" ("Address", "CreatedBy", "CreatedDate", "Email", "IsDeleted", "Name", "UpdatedBy", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "Id";
2024-09-29 19:08:08.556 +03:00 [DBG] The foreign key property 'Customer.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-29 19:08:08.565 +03:00 [DBG] A data reader was disposed.
2024-09-29 19:08:08.569 +03:00 [DBG] Committing transaction.
2024-09-29 19:08:08.579 +03:00 [DBG] Committed transaction.
2024-09-29 19:08:08.584 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:08:08.586 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:08:08.591 +03:00 [DBG] Disposing transaction.
2024-09-29 19:08:08.608 +03:00 [DBG] An entity of type 'Customer' tracked by 'DataContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 19:08:08.614 +03:00 [DBG] SaveChanges completed for 'DataContext' with 1 entities written to the database.
2024-09-29 19:08:18.367 +03:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .FirstOrDefault(p => p.Barcode == __item_Barcode_0)'
2024-09-29 19:08:18.373 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Product>(
    asyncEnumerable: new SingleQueryingEnumerable<Product>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Product.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Product.Barcode (string), 1], [Property: Product.CreatedBy (int) Required, 2], [Property: Product.CreatedDate (DateTime) Required, 3], [Property: Product.CustomerOrderId (no field, Nullable<int>) Shadow FK Index, 4], [Property: Product.Description (string), 5], [Property: Product.IsDeleted (bool) Required, 6], [Property: Product.Price (decimal) Required, 7], [Property: Product.Quantity (int) Required, 8], [Property: Product.UpdatedBy (Nullable<int>), 9], [Property: Product.UpdatedDate (Nullable<DateTime>), 10], }
            SELECT TOP(1) p.Id, p.Barcode, p.CreatedBy, p.CreatedDate, p.CustomerOrderId, p.Description, p.IsDeleted, p.Price, p.Quantity, p.UpdatedBy, p.UpdatedDate
            FROM Products AS p
            WHERE p.Barcode == @__item_Barcode_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Product>, 
        CustomerOrder.Data.Context.DataContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-29 19:08:18.378 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 19:08:18.379 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-29 19:08:18.380 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:08:18.380 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:08:18.381 +03:00 [DBG] Executing DbCommand [Parameters=[@__item_Barcode_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Barcode", p."CreatedBy", p."CreatedDate", p."CustomerOrderId", p."Description", p."IsDeleted", p."Price", p."Quantity", p."UpdatedBy", p."UpdatedDate"
FROM "Products" AS p
WHERE p."Barcode" = @__item_Barcode_0
LIMIT 1
2024-09-29 19:08:18.384 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__item_Barcode_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Barcode", p."CreatedBy", p."CreatedDate", p."CustomerOrderId", p."Description", p."IsDeleted", p."Price", p."Quantity", p."UpdatedBy", p."UpdatedDate"
FROM "Products" AS p
WHERE p."Barcode" = @__item_Barcode_0
LIMIT 1
2024-09-29 19:08:18.398 +03:00 [DBG] A data reader was disposed.
2024-09-29 19:08:18.399 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:08:18.399 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:08:28.922 +03:00 [DBG] 'DataContext' generated a temporary value for the property 'Id.CustomerOrder'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 19:08:28.938 +03:00 [DBG] Context 'DataContext' started tracking 'CustomerOrder' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 19:08:28.939 +03:00 [DBG] 'DataContext' generated a temporary value for the property 'Id.Customer'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 19:08:28.948 +03:00 [DBG] The foreign key property 'CustomerOrder.CustomerId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-29 19:08:28.957 +03:00 [DBG] Context 'DataContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 19:08:28.965 +03:00 [DBG] 'DataContext' generated a temporary value for the property 'Id.Product'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 19:08:29.017 +03:00 [DBG] Context 'DataContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 19:08:29.019 +03:00 [DBG] 'DataContext' generated a temporary value for the property 'Id.Product'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 19:08:29.020 +03:00 [DBG] Context 'DataContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 19:08:51.708 +03:00 [DBG] SaveChanges starting for 'DataContext'.
2024-09-29 19:08:51.713 +03:00 [DBG] DetectChanges starting for 'DataContext'.
2024-09-29 19:08:51.725 +03:00 [DBG] DetectChanges completed for 'DataContext'.
2024-09-29 19:08:51.727 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:08:51.729 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:08:51.731 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-29 19:08:51.731 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-29 19:08:51.734 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 19:08:51.735 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-29 19:08:51.736 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Customers" ("Address", "CreatedBy", "CreatedDate", "Email", "IsDeleted", "Name", "UpdatedBy", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "Id";
2024-09-29 19:08:51.738 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Customers" ("Address", "CreatedBy", "CreatedDate", "Email", "IsDeleted", "Name", "UpdatedBy", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "Id";
2024-09-29 19:08:51.758 +03:00 [DBG] The foreign key property 'Customer.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-29 19:08:51.759 +03:00 [DBG] The foreign key property 'CustomerOrder.CustomerId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-29 19:08:51.760 +03:00 [DBG] A data reader was disposed.
2024-09-29 19:08:51.760 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 19:08:51.761 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-29 19:08:51.762 +03:00 [DBG] Executing DbCommand [Parameters=[@p8='?' (DbType = Int32), @p9='?' (DbType = DateTime), @p10='?' (DbType = Int32), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "CustomerOrders" ("CreatedBy", "CreatedDate", "CustomerId", "IsDeleted", "UpdatedBy", "UpdatedDate")
VALUES (@p8, @p9, @p10, @p11, @p12, @p13)
RETURNING "Id";
2024-09-29 19:08:51.766 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p8='?' (DbType = Int32), @p9='?' (DbType = DateTime), @p10='?' (DbType = Int32), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "CustomerOrders" ("CreatedBy", "CreatedDate", "CustomerId", "IsDeleted", "UpdatedBy", "UpdatedDate")
VALUES (@p8, @p9, @p10, @p11, @p12, @p13)
RETURNING "Id";
2024-09-29 19:08:51.768 +03:00 [DBG] The foreign key property 'CustomerOrder.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-29 19:08:51.770 +03:00 [DBG] The foreign key property 'Product.CustomerOrderId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-29 19:08:51.771 +03:00 [DBG] The foreign key property 'Product.CustomerOrderId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-29 19:08:51.771 +03:00 [DBG] A data reader was disposed.
2024-09-29 19:08:51.776 +03:00 [DBG] Executing 2 update commands as a batch.
2024-09-29 19:08:51.778 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 19:08:51.779 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-29 19:08:51.781 +03:00 [DBG] Executing DbCommand [Parameters=[@p14='?', @p15='?' (DbType = Int32), @p16='?' (DbType = DateTime), @p17='?' (DbType = Int32), @p18='?', @p19='?' (DbType = Boolean), @p20='?' (DbType = Decimal), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (DbType = DateTime), @p24='?', @p25='?' (DbType = Int32), @p26='?' (DbType = DateTime), @p27='?' (DbType = Int32), @p28='?', @p29='?' (DbType = Boolean), @p30='?' (DbType = Decimal), @p31='?' (DbType = Int32), @p32='?' (DbType = Int32), @p33='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Products" ("Barcode", "CreatedBy", "CreatedDate", "CustomerOrderId", "Description", "IsDeleted", "Price", "Quantity", "UpdatedBy", "UpdatedDate")
VALUES (@p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23)
RETURNING "Id";
INSERT INTO "Products" ("Barcode", "CreatedBy", "CreatedDate", "CustomerOrderId", "Description", "IsDeleted", "Price", "Quantity", "UpdatedBy", "UpdatedDate")
VALUES (@p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33)
RETURNING "Id";
2024-09-29 19:08:51.791 +03:00 [ERR] Failed executing DbCommand (10ms) [Parameters=[@p14='?', @p15='?' (DbType = Int32), @p16='?' (DbType = DateTime), @p17='?' (DbType = Int32), @p18='?', @p19='?' (DbType = Boolean), @p20='?' (DbType = Decimal), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (DbType = DateTime), @p24='?', @p25='?' (DbType = Int32), @p26='?' (DbType = DateTime), @p27='?' (DbType = Int32), @p28='?', @p29='?' (DbType = Boolean), @p30='?' (DbType = Decimal), @p31='?' (DbType = Int32), @p32='?' (DbType = Int32), @p33='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Products" ("Barcode", "CreatedBy", "CreatedDate", "CustomerOrderId", "Description", "IsDeleted", "Price", "Quantity", "UpdatedBy", "UpdatedDate")
VALUES (@p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23)
RETURNING "Id";
INSERT INTO "Products" ("Barcode", "CreatedBy", "CreatedDate", "CustomerOrderId", "Description", "IsDeleted", "Price", "Quantity", "UpdatedBy", "UpdatedDate")
VALUES (@p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33)
RETURNING "Id";
2024-09-29 19:08:51.806 +03:00 [DBG] Disposing transaction.
2024-09-29 19:08:51.806 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:08:51.807 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:08:51.817 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'CustomerOrder.Data.Context.DataContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "PK_Products"
   at Npgsql.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|194_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "PK_Products"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Products
    ConstraintName: PK_Products
    File: nbtinsert.c
    Line: 673
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "PK_Products"
   at Npgsql.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|194_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "PK_Products"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Products
    ConstraintName: PK_Products
    File: nbtinsert.c
    Line: 673
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-09-29 19:09:13.514 +03:00 [INF] error: An error occurred while updating the entries. See the inner exception for details.
2024-09-29 19:09:13.611 +03:00 [INF] Executed action CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API) in 85808.2708ms
2024-09-29 19:09:13.614 +03:00 [INF] Executed endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API)'
2024-09-29 19:09:13.617 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: An error occurred while adding the order: An error occurred while updating the entries. See the inner exception for details.
   at CustomerOrder.API.Services.CustomerOrdersService.AddCustomerOrderAsync(CustomerOrderDto orderDto) in C:\Users\cagrie\source\repos\CustomerOrder\CustomerOrder.API\Services\CustomerOrdersService.cs:line 136
   at CustomerOrder.API.Controllers.CustomerOrdersController.Add(CustomerOrderDto orderDto) in C:\Users\cagrie\source\repos\CustomerOrder\CustomerOrder.API\Controllers\CustomerOrdersController.cs:line 26
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-09-29 19:09:13.648 +03:00 [DBG] 'DataContext' disposed.
2024-09-29 19:09:13.652 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/CustomerOrders/add application/json 146 - 500 - text/plain 86058.9539ms
2024-09-29 19:09:20.751 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/CustomerOrders/add application/json 146
2024-09-29 19:09:20.753 +03:00 [DBG] POST requests are not supported
2024-09-29 19:09:20.758 +03:00 [DBG] 1 candidate(s) found for the request path '/api/CustomerOrders/add'
2024-09-29 19:09:20.759 +03:00 [DBG] Endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API)' with route pattern 'api/CustomerOrders/add' is valid for the request path '/api/CustomerOrders/add'
2024-09-29 19:09:20.760 +03:00 [DBG] Request matched endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API)'
2024-09-29 19:09:20.761 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-29 19:09:20.761 +03:00 [INF] Executing endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API)'
2024-09-29 19:09:20.762 +03:00 [INF] Route matched with {action = "Add", controller = "CustomerOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto]] Add(CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto) on controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API).
2024-09-29 19:09:20.763 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-29 19:09:20.765 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-29 19:09:20.766 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-29 19:09:20.767 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-29 19:09:20.767 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-29 19:09:20.768 +03:00 [DBG] Executing controller factory for controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API)
2024-09-29 19:09:20.770 +03:00 [DBG] Executed controller factory for controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API)
2024-09-29 19:09:20.771 +03:00 [DBG] Attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto' ...
2024-09-29 19:09:20.772 +03:00 [DBG] Attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto' using the name '' in request data ...
2024-09-29 19:09:20.773 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-29 19:09:20.774 +03:00 [DBG] Connection id "0HN70K361N9UQ", Request id "0HN70K361N9UQ:0000000B": started reading request body.
2024-09-29 19:09:20.775 +03:00 [DBG] Connection id "0HN70K361N9UQ", Request id "0HN70K361N9UQ:0000000B": done reading request body.
2024-09-29 19:09:20.775 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'
2024-09-29 19:09:20.776 +03:00 [DBG] Done attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 19:09:20.776 +03:00 [DBG] Done attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 19:09:20.777 +03:00 [DBG] Attempting to validate the bound parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto' ...
2024-09-29 19:09:20.777 +03:00 [DBG] Done attempting to validate the bound parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 19:09:25.274 +03:00 [INF] Entity Framework Core 5.0.10 initialized 'DataContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2024-09-29 19:09:25.281 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 19:09:25.282 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-29 19:09:25.284 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:09:25.285 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:09:25.286 +03:00 [DBG] Executing DbCommand [Parameters=[@__orderDto_Customer_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Address", c."CreatedBy", c."CreatedDate", c."Email", c."IsDeleted", c."Name", c."UpdatedBy", c."UpdatedDate"
FROM "Customers" AS c
WHERE c."Email" = @__orderDto_Customer_Email_0
LIMIT 1
2024-09-29 19:09:25.288 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__orderDto_Customer_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Address", c."CreatedBy", c."CreatedDate", c."Email", c."IsDeleted", c."Name", c."UpdatedBy", c."UpdatedDate"
FROM "Customers" AS c
WHERE c."Email" = @__orderDto_Customer_Email_0
LIMIT 1
2024-09-29 19:09:25.309 +03:00 [DBG] Context 'DataContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 19:09:25.311 +03:00 [DBG] A data reader was disposed.
2024-09-29 19:09:25.311 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:09:25.312 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:10:37.394 +03:00 [INF] Starting web host
2024-09-29 19:10:38.729 +03:00 [DBG] Hosting starting
2024-09-29 19:10:38.790 +03:00 [INF] User profile is available. Using 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-29 19:10:38.814 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-0aa42add-f3b4-405e-a8c2-992d6e29a85c.xml'.
2024-09-29 19:10:38.830 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-71b87755-2ee9-43e6-87de-6c92ed7c99a6.xml'.
2024-09-29 19:10:38.831 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-acea2ac6-9b67-4521-b460-630e25f9dc5a.xml'.
2024-09-29 19:10:38.842 +03:00 [DBG] Found key {0aa42add-f3b4-405e-a8c2-992d6e29a85c}.
2024-09-29 19:10:38.849 +03:00 [DBG] Found key {71b87755-2ee9-43e6-87de-6c92ed7c99a6}.
2024-09-29 19:10:38.849 +03:00 [DBG] Found key {acea2ac6-9b67-4521-b460-630e25f9dc5a}.
2024-09-29 19:10:38.858 +03:00 [DBG] Considering key {acea2ac6-9b67-4521-b460-630e25f9dc5a} with expiration date 2024-10-15 10:31:27Z as default key.
2024-09-29 19:10:38.869 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-29 19:10:38.873 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-29 19:10:38.876 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-29 19:10:38.883 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-29 19:10:38.886 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-29 19:10:38.894 +03:00 [DBG] Using key {acea2ac6-9b67-4521-b460-630e25f9dc5a} as the default key.
2024-09-29 19:10:38.897 +03:00 [DBG] Key ring with default key {acea2ac6-9b67-4521-b460-630e25f9dc5a} was loaded during application startup.
2024-09-29 19:10:39.206 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: D6697AE29B19EBA86816E6295ADBAF33F0642E18)
2024-09-29 19:10:39.238 +03:00 [INF] Now listening on: https://localhost:5001
2024-09-29 19:10:39.239 +03:00 [INF] Now listening on: http://localhost:5000
2024-09-29 19:10:39.240 +03:00 [DBG] Loaded hosting startup assembly CustomerOrder.API
2024-09-29 19:10:39.240 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-29 19:10:39.240 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-29 19:10:39.242 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-29 19:10:39.242 +03:00 [INF] Hosting environment: Development
2024-09-29 19:10:39.243 +03:00 [INF] Content root path: C:\Users\cagrie\source\repos\CustomerOrder\CustomerOrder.API
2024-09-29 19:10:39.243 +03:00 [DBG] Hosting started
2024-09-29 19:10:39.456 +03:00 [DBG] Connection id "0HN70K51CGCJ1" received FIN.
2024-09-29 19:10:39.456 +03:00 [DBG] Connection id "0HN70K51CGCJ2" received FIN.
2024-09-29 19:10:39.459 +03:00 [DBG] Connection id "0HN70K51CGCJ1" accepted.
2024-09-29 19:10:39.459 +03:00 [DBG] Connection id "0HN70K51CGCJ2" accepted.
2024-09-29 19:10:39.462 +03:00 [DBG] Connection id "0HN70K51CGCJ2" started.
2024-09-29 19:10:39.462 +03:00 [DBG] Connection id "0HN70K51CGCJ1" started.
2024-09-29 19:10:39.482 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.<>c.<ProcessAuthenticationWithTelemetry>b__169_2(Task t, Object s)
   at System.Threading.Tasks.ContinuationTaskFromTask.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-29 19:10:39.482 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.<>c.<ProcessAuthenticationWithTelemetry>b__169_2(Task t, Object s)
   at System.Threading.Tasks.ContinuationTaskFromTask.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-29 19:10:39.519 +03:00 [DBG] Connection id "0HN70K51CGCJ2" stopped.
2024-09-29 19:10:39.519 +03:00 [DBG] Connection id "0HN70K51CGCJ1" stopped.
2024-09-29 19:10:39.521 +03:00 [DBG] Connection id "0HN70K51CGCJ1" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 19:10:39.521 +03:00 [DBG] Connection id "0HN70K51CGCJ2" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 19:10:48.511 +03:00 [DBG] Connection id "0HN70K51CGCJ3" accepted.
2024-09-29 19:10:48.514 +03:00 [DBG] Connection id "0HN70K51CGCJ3" started.
2024-09-29 19:10:48.603 +03:00 [DBG] Connection "0HN70K51CGCJ3" established using the following protocol: "Tls13"
2024-09-29 19:10:48.679 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2024-09-29 19:10:48.794 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-29 19:10:49.001 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-29 19:10:49.018 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-29 19:10:49.028 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 352.6405ms
2024-09-29 19:10:49.032 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - -
2024-09-29 19:10:49.032 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - -
2024-09-29 19:10:49.043 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - - - 200 12366 application/javascript;+charset=utf-8 10.7905ms
2024-09-29 19:10:49.089 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 57.1554ms
2024-09-29 19:10:49.122 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2024-09-29 19:10:49.230 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 108.3464ms
2024-09-29 19:10:54.455 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/CustomerOrders/add application/json 147
2024-09-29 19:10:54.458 +03:00 [DBG] POST requests are not supported
2024-09-29 19:10:54.493 +03:00 [DBG] 1 candidate(s) found for the request path '/api/CustomerOrders/add'
2024-09-29 19:10:54.503 +03:00 [DBG] Endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API)' with route pattern 'api/CustomerOrders/add' is valid for the request path '/api/CustomerOrders/add'
2024-09-29 19:10:54.508 +03:00 [DBG] Request matched endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API)'
2024-09-29 19:10:54.589 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-29 19:10:54.594 +03:00 [INF] Executing endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API)'
2024-09-29 19:10:54.603 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-29 19:10:54.663 +03:00 [INF] Route matched with {action = "Add", controller = "CustomerOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto]] Add(CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto) on controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API).
2024-09-29 19:10:54.667 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-29 19:10:54.669 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-29 19:10:54.672 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-29 19:10:54.673 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-29 19:10:54.673 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-29 19:10:54.674 +03:00 [DBG] Executing controller factory for controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API)
2024-09-29 19:10:54.817 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-29 19:10:55.075 +03:00 [DBG] Executed controller factory for controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API)
2024-09-29 19:10:55.095 +03:00 [DBG] Attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto' ...
2024-09-29 19:10:55.100 +03:00 [DBG] Attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto' using the name '' in request data ...
2024-09-29 19:10:55.102 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-29 19:10:55.124 +03:00 [DBG] Connection id "0HN70K51CGCJ3", Request id "0HN70K51CGCJ3:00000009": started reading request body.
2024-09-29 19:10:55.127 +03:00 [DBG] Connection id "0HN70K51CGCJ3", Request id "0HN70K51CGCJ3:00000009": done reading request body.
2024-09-29 19:10:55.165 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'
2024-09-29 19:10:55.169 +03:00 [DBG] Done attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 19:10:55.171 +03:00 [DBG] Done attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 19:10:55.172 +03:00 [DBG] Attempting to validate the bound parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto' ...
2024-09-29 19:10:55.176 +03:00 [DBG] Done attempting to validate the bound parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 19:10:57.139 +03:00 [DBG] The property 'CustomerOrderId.Product' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-29 19:10:57.306 +03:00 [INF] Entity Framework Core 5.0.10 initialized 'DataContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2024-09-29 19:10:57.345 +03:00 [DBG] Compiling query expression: 
'DbSet<Customer>()
    .FirstOrDefault(c => c.Email == __orderDto_Customer_Email_0)'
2024-09-29 19:10:57.558 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Customer>(
    asyncEnumerable: new SingleQueryingEnumerable<Customer>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Customer.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Customer.Address (string) Required, 1], [Property: Customer.CreatedBy (int) Required, 2], [Property: Customer.CreatedDate (DateTime) Required, 3], [Property: Customer.Email (string) Required, 4], [Property: Customer.IsDeleted (bool) Required, 5], [Property: Customer.Name (string) Required, 6], [Property: Customer.UpdatedBy (Nullable<int>), 7], [Property: Customer.UpdatedDate (Nullable<DateTime>), 8], }
            SELECT TOP(1) c.Id, c.Address, c.CreatedBy, c.CreatedDate, c.Email, c.IsDeleted, c.Name, c.UpdatedBy, c.UpdatedDate
            FROM Customers AS c
            WHERE c.Email == @__orderDto_Customer_Email_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Customer>, 
        CustomerOrder.Data.Context.DataContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-29 19:10:57.596 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 19:10:57.628 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (25ms).
2024-09-29 19:10:57.639 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:10:58.164 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:10:58.180 +03:00 [DBG] Executing DbCommand [Parameters=[@__orderDto_Customer_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Address", c."CreatedBy", c."CreatedDate", c."Email", c."IsDeleted", c."Name", c."UpdatedBy", c."UpdatedDate"
FROM "Customers" AS c
WHERE c."Email" = @__orderDto_Customer_Email_0
LIMIT 1
2024-09-29 19:10:58.204 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__orderDto_Customer_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Address", c."CreatedBy", c."CreatedDate", c."Email", c."IsDeleted", c."Name", c."UpdatedBy", c."UpdatedDate"
FROM "Customers" AS c
WHERE c."Email" = @__orderDto_Customer_Email_0
LIMIT 1
2024-09-29 19:10:58.257 +03:00 [DBG] Context 'DataContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 19:10:58.319 +03:00 [DBG] A data reader was disposed.
2024-09-29 19:10:58.324 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:10:58.328 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:11:04.562 +03:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .FirstOrDefault(p => p.Barcode == __item_Barcode_0)'
2024-09-29 19:11:04.571 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Product>(
    asyncEnumerable: new SingleQueryingEnumerable<Product>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Product.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Product.Barcode (string), 1], [Property: Product.CreatedBy (int) Required, 2], [Property: Product.CreatedDate (DateTime) Required, 3], [Property: Product.CustomerOrderId (no field, Nullable<int>) Shadow FK Index, 4], [Property: Product.Description (string), 5], [Property: Product.IsDeleted (bool) Required, 6], [Property: Product.Price (decimal) Required, 7], [Property: Product.Quantity (int) Required, 8], [Property: Product.UpdatedBy (Nullable<int>), 9], [Property: Product.UpdatedDate (Nullable<DateTime>), 10], }
            SELECT TOP(1) p.Id, p.Barcode, p.CreatedBy, p.CreatedDate, p.CustomerOrderId, p.Description, p.IsDeleted, p.Price, p.Quantity, p.UpdatedBy, p.UpdatedDate
            FROM Products AS p
            WHERE p.Barcode == @__item_Barcode_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Product>, 
        CustomerOrder.Data.Context.DataContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-29 19:11:04.577 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 19:11:04.578 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-29 19:11:04.581 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:11:04.582 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:11:04.583 +03:00 [DBG] Executing DbCommand [Parameters=[@__item_Barcode_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Barcode", p."CreatedBy", p."CreatedDate", p."CustomerOrderId", p."Description", p."IsDeleted", p."Price", p."Quantity", p."UpdatedBy", p."UpdatedDate"
FROM "Products" AS p
WHERE p."Barcode" = @__item_Barcode_0
LIMIT 1
2024-09-29 19:11:04.587 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__item_Barcode_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Barcode", p."CreatedBy", p."CreatedDate", p."CustomerOrderId", p."Description", p."IsDeleted", p."Price", p."Quantity", p."UpdatedBy", p."UpdatedDate"
FROM "Products" AS p
WHERE p."Barcode" = @__item_Barcode_0
LIMIT 1
2024-09-29 19:11:04.589 +03:00 [DBG] A data reader was disposed.
2024-09-29 19:11:04.589 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:11:04.590 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:11:20.667 +03:00 [DBG] 'DataContext' generated a temporary value for the property 'Id.CustomerOrder'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 19:11:20.699 +03:00 [DBG] Context 'DataContext' started tracking 'CustomerOrder' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 19:11:20.702 +03:00 [DBG] 'DataContext' generated a temporary value for the property 'Id.Customer'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 19:11:20.714 +03:00 [DBG] The foreign key property 'CustomerOrder.CustomerId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-29 19:11:20.727 +03:00 [DBG] Context 'DataContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 19:11:20.737 +03:00 [DBG] 'DataContext' generated a temporary value for the property 'Id.Product'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 19:11:20.769 +03:00 [DBG] Context 'DataContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 19:11:21.360 +03:00 [DBG] SaveChanges starting for 'DataContext'.
2024-09-29 19:11:21.364 +03:00 [DBG] DetectChanges starting for 'DataContext'.
2024-09-29 19:11:21.387 +03:00 [DBG] DetectChanges completed for 'DataContext'.
2024-09-29 19:11:21.409 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:11:21.413 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:11:21.415 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-29 19:11:21.420 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-29 19:11:21.462 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 19:11:21.466 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-09-29 19:11:21.470 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Customers" ("Address", "CreatedBy", "CreatedDate", "Email", "IsDeleted", "Name", "UpdatedBy", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "Id";
2024-09-29 19:11:21.480 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Customers" ("Address", "CreatedBy", "CreatedDate", "Email", "IsDeleted", "Name", "UpdatedBy", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "Id";
2024-09-29 19:11:21.515 +03:00 [DBG] The foreign key property 'Customer.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-29 19:11:21.519 +03:00 [DBG] The foreign key property 'CustomerOrder.CustomerId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-29 19:11:21.521 +03:00 [DBG] A data reader was disposed.
2024-09-29 19:11:21.524 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 19:11:21.525 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-29 19:11:21.527 +03:00 [DBG] Executing DbCommand [Parameters=[@p8='?' (DbType = Int32), @p9='?' (DbType = DateTime), @p10='?' (DbType = Int32), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "CustomerOrders" ("CreatedBy", "CreatedDate", "CustomerId", "IsDeleted", "UpdatedBy", "UpdatedDate")
VALUES (@p8, @p9, @p10, @p11, @p12, @p13)
RETURNING "Id";
2024-09-29 19:11:21.532 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p8='?' (DbType = Int32), @p9='?' (DbType = DateTime), @p10='?' (DbType = Int32), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "CustomerOrders" ("CreatedBy", "CreatedDate", "CustomerId", "IsDeleted", "UpdatedBy", "UpdatedDate")
VALUES (@p8, @p9, @p10, @p11, @p12, @p13)
RETURNING "Id";
2024-09-29 19:11:21.536 +03:00 [DBG] The foreign key property 'CustomerOrder.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-29 19:11:21.540 +03:00 [DBG] The foreign key property 'Product.CustomerOrderId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-29 19:11:21.542 +03:00 [DBG] A data reader was disposed.
2024-09-29 19:11:21.544 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 19:11:21.545 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-29 19:11:21.546 +03:00 [DBG] Executing DbCommand [Parameters=[@p14='?', @p15='?' (DbType = Int32), @p16='?' (DbType = DateTime), @p17='?' (DbType = Int32), @p18='?', @p19='?' (DbType = Boolean), @p20='?' (DbType = Decimal), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Products" ("Barcode", "CreatedBy", "CreatedDate", "CustomerOrderId", "Description", "IsDeleted", "Price", "Quantity", "UpdatedBy", "UpdatedDate")
VALUES (@p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23)
RETURNING "Id";
2024-09-29 19:11:21.561 +03:00 [ERR] Failed executing DbCommand (13ms) [Parameters=[@p14='?', @p15='?' (DbType = Int32), @p16='?' (DbType = DateTime), @p17='?' (DbType = Int32), @p18='?', @p19='?' (DbType = Boolean), @p20='?' (DbType = Decimal), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Products" ("Barcode", "CreatedBy", "CreatedDate", "CustomerOrderId", "Description", "IsDeleted", "Price", "Quantity", "UpdatedBy", "UpdatedDate")
VALUES (@p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23)
RETURNING "Id";
2024-09-29 19:11:21.573 +03:00 [DBG] Disposing transaction.
2024-09-29 19:11:21.575 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:11:21.577 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:11:21.587 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'CustomerOrder.Data.Context.DataContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "PK_Products"
   at Npgsql.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|194_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "PK_Products"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Products
    ConstraintName: PK_Products
    File: nbtinsert.c
    Line: 673
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "PK_Products"
   at Npgsql.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|194_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "PK_Products"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Products
    ConstraintName: PK_Products
    File: nbtinsert.c
    Line: 673
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-09-29 19:13:37.386 +03:00 [DBG] Connection id "0HN70K51CGCJ3" received FIN.
2024-09-29 19:13:37.388 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/CustomerOrders/add application/json 147
2024-09-29 19:13:37.389 +03:00 [DBG] Connection id "0HN70K51CGCJ3" is closing.
2024-09-29 19:13:37.387 +03:00 [DBG] Connection id "0HN70K51CGCJ4" accepted.
2024-09-29 19:13:37.388 +03:00 [INF] error: An error occurred while updating the entries. See the inner exception for details.
2024-09-29 19:13:37.393 +03:00 [DBG] POST requests are not supported
2024-09-29 19:13:37.419 +03:00 [DBG] Connection id "0HN70K51CGCJ5" accepted.
2024-09-29 19:13:37.391 +03:00 [DBG] Connection id "0HN70K51CGCJ3" is closed. The last processed stream ID was 11.
2024-09-29 19:13:37.448 +03:00 [DBG] 1 candidate(s) found for the request path '/api/CustomerOrders/add'
2024-09-29 19:13:37.447 +03:00 [DBG] Connection id "0HN70K51CGCJ5" started.
2024-09-29 19:13:37.450 +03:00 [DBG] Endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API)' with route pattern 'api/CustomerOrders/add' is valid for the request path '/api/CustomerOrders/add'
2024-09-29 19:13:37.449 +03:00 [DBG] Connection id "0HN70K51CGCJ3" sending FIN because: "The client closed the connection."
2024-09-29 19:13:37.454 +03:00 [DBG] Request matched endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API)'
2024-09-29 19:13:37.395 +03:00 [DBG] Connection id "0HN70K51CGCJ4" started.
2024-09-29 19:13:37.456 +03:00 [DBG] Connection id "0HN70K51CGCJ4" received FIN.
2024-09-29 19:13:37.458 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-29 19:13:37.457 +03:00 [DBG] Connection "0HN70K51CGCJ5" established using the following protocol: "Tls13"
2024-09-29 19:13:37.461 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|182_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.<>c.<ProcessAuthenticationWithTelemetry>b__169_2(Task t, Object s)
   at System.Threading.Tasks.ContinuationTaskFromTask.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-29 19:13:37.461 +03:00 [INF] Executing endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API)'
2024-09-29 19:13:37.463 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/CustomerOrders/add application/json 147
2024-09-29 19:13:37.463 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/CustomerOrders/add application/json 147
2024-09-29 19:13:37.469 +03:00 [INF] Executed action CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API) in 162782.0194ms
2024-09-29 19:13:37.470 +03:00 [INF] Route matched with {action = "Add", controller = "CustomerOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto]] Add(CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto) on controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API).
2024-09-29 19:13:37.470 +03:00 [DBG] Connection id "0HN70K51CGCJ4" stopped.
2024-09-29 19:13:37.470 +03:00 [DBG] POST requests are not supported
2024-09-29 19:13:37.472 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-29 19:13:37.472 +03:00 [INF] Executed endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API)'
2024-09-29 19:13:37.471 +03:00 [DBG] POST requests are not supported
2024-09-29 19:13:37.473 +03:00 [DBG] Connection id "0HN70K51CGCJ4" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 19:13:37.474 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-29 19:13:37.473 +03:00 [DBG] 1 candidate(s) found for the request path '/api/CustomerOrders/add'
2024-09-29 19:13:37.476 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-29 19:13:37.477 +03:00 [DBG] Endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API)' with route pattern 'api/CustomerOrders/add' is valid for the request path '/api/CustomerOrders/add'
2024-09-29 19:13:37.475 +03:00 [DBG] 1 candidate(s) found for the request path '/api/CustomerOrders/add'
2024-09-29 19:13:37.478 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-29 19:13:37.478 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: An error occurred while adding the order: An error occurred while updating the entries. See the inner exception for details.
   at CustomerOrder.API.Services.CustomerOrdersService.AddCustomerOrderAsync(CustomerOrderDto orderDto) in C:\Users\cagrie\source\repos\CustomerOrder\CustomerOrder.API\Services\CustomerOrdersService.cs:line 137
   at CustomerOrder.API.Controllers.CustomerOrdersController.Add(CustomerOrderDto orderDto) in C:\Users\cagrie\source\repos\CustomerOrder\CustomerOrder.API\Controllers\CustomerOrdersController.cs:line 26
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-09-29 19:13:37.479 +03:00 [DBG] Request matched endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API)'
2024-09-29 19:13:37.479 +03:00 [DBG] Endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API)' with route pattern 'api/CustomerOrders/add' is valid for the request path '/api/CustomerOrders/add'
2024-09-29 19:13:37.480 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-29 19:13:37.502 +03:00 [DBG] Request matched endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API)'
2024-09-29 19:13:37.503 +03:00 [DBG] Executing controller factory for controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API)
2024-09-29 19:13:37.503 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-29 19:13:37.503 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-29 19:13:37.504 +03:00 [DBG] Executed controller factory for controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API)
2024-09-29 19:13:37.505 +03:00 [INF] Executing endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API)'
2024-09-29 19:13:37.505 +03:00 [INF] Executing endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API)'
2024-09-29 19:13:37.506 +03:00 [DBG] 'DataContext' disposed.
2024-09-29 19:13:37.506 +03:00 [DBG] Attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto' ...
2024-09-29 19:13:37.506 +03:00 [INF] Route matched with {action = "Add", controller = "CustomerOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto]] Add(CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto) on controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API).
2024-09-29 19:13:37.507 +03:00 [INF] Route matched with {action = "Add", controller = "CustomerOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto]] Add(CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto) on controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API).
2024-09-29 19:13:37.509 +03:00 [DBG] Attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto' using the name '' in request data ...
2024-09-29 19:13:37.509 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/CustomerOrders/add application/json 147 - 500 - text/plain 163054.5177ms
2024-09-29 19:13:37.510 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-29 19:13:37.510 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-29 19:13:37.511 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-29 19:13:37.512 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-29 19:13:37.513 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-29 19:13:37.514 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-29 19:13:37.516 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-29 19:13:37.517 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-29 19:13:37.517 +03:00 [INF] Executed action CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API) in 14.5757ms
2024-09-29 19:13:37.518 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-29 19:13:37.519 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-29 19:13:37.519 +03:00 [INF] Executed endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API)'
2024-09-29 19:13:37.520 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-29 19:13:37.521 +03:00 [DBG] Executing controller factory for controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API)
2024-09-29 19:13:37.522 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.IO.IOException: The request stream was aborted.
 ---> Microsoft.AspNetCore.Connections.ConnectionAbortedException: The HTTP/2 connection faulted.
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpRequestStream.ReadAsyncInternal(Memory`1 destination, CancellationToken cancellationToken)
   at System.Text.Json.Serialization.ReadBufferState.ReadFromStreamAsync(Stream utf8Json, CancellationToken cancellationToken, Boolean fillBuffer)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.DeserializeAsync(Stream utf8Json, CancellationToken cancellationToken)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.DeserializeAsObjectAsync(Stream utf8Json, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter.ReadRequestBodyAsync(InputFormatterContext context, Encoding encoding)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter.ReadRequestBodyAsync(InputFormatterContext context, Encoding encoding)
   at Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder.BindModelAsync(ModelBindingContext bindingContext)
   at Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder.BindModelAsync(ActionContext actionContext, IModelBinder modelBinder, IValueProvider valueProvider, ParameterDescriptor parameter, ModelMetadata metadata, Object value, Object container)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerBinderDelegateProvider.<>c__DisplayClass0_0.<<CreateBinderDelegate>g__Bind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-09-29 19:13:37.522 +03:00 [DBG] Executing controller factory for controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API)
2024-09-29 19:13:37.526 +03:00 [DBG] Executed controller factory for controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API)
2024-09-29 19:13:37.529 +03:00 [DBG] Executed controller factory for controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API)
2024-09-29 19:13:37.529 +03:00 [DBG] Attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto' ...
2024-09-29 19:13:37.529 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/CustomerOrders/add application/json 147 - 500 - text/plain 141.3268ms
2024-09-29 19:13:37.530 +03:00 [DBG] Attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto' ...
2024-09-29 19:13:37.530 +03:00 [DBG] Attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto' using the name '' in request data ...
2024-09-29 19:13:37.532 +03:00 [DBG] Attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto' using the name '' in request data ...
2024-09-29 19:13:37.532 +03:00 [DBG] Connection id "0HN70K51CGCJ3" stopped.
2024-09-29 19:13:37.532 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-29 19:13:37.533 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-29 19:13:37.534 +03:00 [DBG] Connection id "0HN70K51CGCJ5", Request id "0HN70K51CGCJ5:00000003": started reading request body.
2024-09-29 19:13:37.535 +03:00 [DBG] Connection id "0HN70K51CGCJ5", Request id "0HN70K51CGCJ5:00000001": started reading request body.
2024-09-29 19:13:37.535 +03:00 [DBG] Connection id "0HN70K51CGCJ5", Request id "0HN70K51CGCJ5:00000003": done reading request body.
2024-09-29 19:13:37.536 +03:00 [DBG] Connection id "0HN70K51CGCJ5", Request id "0HN70K51CGCJ5:00000001": done reading request body.
2024-09-29 19:13:37.536 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'
2024-09-29 19:13:37.537 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'
2024-09-29 19:13:37.537 +03:00 [DBG] Done attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 19:13:37.538 +03:00 [DBG] Done attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 19:13:37.538 +03:00 [DBG] Done attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 19:13:37.540 +03:00 [DBG] Done attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 19:13:37.541 +03:00 [DBG] Attempting to validate the bound parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto' ...
2024-09-29 19:13:37.542 +03:00 [DBG] Attempting to validate the bound parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto' ...
2024-09-29 19:13:37.543 +03:00 [DBG] Done attempting to validate the bound parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 19:13:37.544 +03:00 [DBG] Done attempting to validate the bound parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 19:13:41.377 +03:00 [INF] Entity Framework Core 5.0.10 initialized 'DataContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2024-09-29 19:13:41.377 +03:00 [INF] Entity Framework Core 5.0.10 initialized 'DataContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2024-09-29 19:13:41.386 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 19:13:41.386 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 19:13:41.387 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-29 19:13:41.389 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-29 19:13:41.390 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:13:41.392 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:13:41.393 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:13:41.398 +03:00 [DBG] Executing DbCommand [Parameters=[@__orderDto_Customer_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Address", c."CreatedBy", c."CreatedDate", c."Email", c."IsDeleted", c."Name", c."UpdatedBy", c."UpdatedDate"
FROM "Customers" AS c
WHERE c."Email" = @__orderDto_Customer_Email_0
LIMIT 1
2024-09-29 19:13:41.404 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__orderDto_Customer_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Address", c."CreatedBy", c."CreatedDate", c."Email", c."IsDeleted", c."Name", c."UpdatedBy", c."UpdatedDate"
FROM "Customers" AS c
WHERE c."Email" = @__orderDto_Customer_Email_0
LIMIT 1
2024-09-29 19:13:41.408 +03:00 [DBG] Context 'DataContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 19:13:41.408 +03:00 [DBG] A data reader was disposed.
2024-09-29 19:13:41.409 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:13:41.410 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:13:41.411 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 19:13:41.412 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-29 19:13:41.412 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:13:41.414 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:13:41.417 +03:00 [DBG] Executing DbCommand [Parameters=[@__item_Barcode_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Barcode", p."CreatedBy", p."CreatedDate", p."CustomerOrderId", p."Description", p."IsDeleted", p."Price", p."Quantity", p."UpdatedBy", p."UpdatedDate"
FROM "Products" AS p
WHERE p."Barcode" = @__item_Barcode_0
LIMIT 1
2024-09-29 19:13:41.419 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__item_Barcode_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Barcode", p."CreatedBy", p."CreatedDate", p."CustomerOrderId", p."Description", p."IsDeleted", p."Price", p."Quantity", p."UpdatedBy", p."UpdatedDate"
FROM "Products" AS p
WHERE p."Barcode" = @__item_Barcode_0
LIMIT 1
2024-09-29 19:13:41.421 +03:00 [DBG] A data reader was disposed.
2024-09-29 19:13:41.421 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:13:41.422 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:38:41.913 +03:00 [INF] Starting web host
2024-09-29 19:38:43.432 +03:00 [DBG] Hosting starting
2024-09-29 19:38:43.488 +03:00 [INF] User profile is available. Using 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-29 19:38:43.509 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-0aa42add-f3b4-405e-a8c2-992d6e29a85c.xml'.
2024-09-29 19:38:43.522 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-71b87755-2ee9-43e6-87de-6c92ed7c99a6.xml'.
2024-09-29 19:38:43.523 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-acea2ac6-9b67-4521-b460-630e25f9dc5a.xml'.
2024-09-29 19:38:43.529 +03:00 [DBG] Found key {0aa42add-f3b4-405e-a8c2-992d6e29a85c}.
2024-09-29 19:38:43.535 +03:00 [DBG] Found key {71b87755-2ee9-43e6-87de-6c92ed7c99a6}.
2024-09-29 19:38:43.536 +03:00 [DBG] Found key {acea2ac6-9b67-4521-b460-630e25f9dc5a}.
2024-09-29 19:38:43.545 +03:00 [DBG] Considering key {acea2ac6-9b67-4521-b460-630e25f9dc5a} with expiration date 2024-10-15 10:31:27Z as default key.
2024-09-29 19:38:43.558 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-29 19:38:43.563 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-29 19:38:43.565 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-29 19:38:43.570 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-29 19:38:43.574 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-29 19:38:43.577 +03:00 [DBG] Using key {acea2ac6-9b67-4521-b460-630e25f9dc5a} as the default key.
2024-09-29 19:38:43.579 +03:00 [DBG] Key ring with default key {acea2ac6-9b67-4521-b460-630e25f9dc5a} was loaded during application startup.
2024-09-29 19:38:43.891 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: D6697AE29B19EBA86816E6295ADBAF33F0642E18)
2024-09-29 19:38:43.918 +03:00 [INF] Now listening on: https://localhost:5001
2024-09-29 19:38:43.925 +03:00 [INF] Now listening on: http://localhost:5000
2024-09-29 19:38:43.926 +03:00 [DBG] Loaded hosting startup assembly CustomerOrder.API
2024-09-29 19:38:43.927 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-29 19:38:43.927 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-29 19:38:43.928 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-29 19:38:43.928 +03:00 [INF] Hosting environment: Development
2024-09-29 19:38:43.929 +03:00 [INF] Content root path: C:\Users\cagrie\source\repos\CustomerOrder\CustomerOrder.API
2024-09-29 19:38:43.929 +03:00 [DBG] Hosting started
2024-09-29 19:38:43.989 +03:00 [DBG] Connection id "0HN70KKNDE2I5" accepted.
2024-09-29 19:38:43.989 +03:00 [DBG] Connection id "0HN70KKNDE2I6" accepted.
2024-09-29 19:38:43.993 +03:00 [DBG] Connection id "0HN70KKNDE2I5" started.
2024-09-29 19:38:43.993 +03:00 [DBG] Connection id "0HN70KKNDE2I6" started.
2024-09-29 19:38:44.012 +03:00 [DBG] Connection id "0HN70KKNDE2I6" received FIN.
2024-09-29 19:38:44.012 +03:00 [DBG] Connection id "0HN70KKNDE2I5" received FIN.
2024-09-29 19:38:44.027 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.<>c.<ProcessAuthenticationWithTelemetry>b__169_2(Task t, Object s)
   at System.Threading.Tasks.ContinuationTaskFromTask.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-29 19:38:44.027 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.<>c.<ProcessAuthenticationWithTelemetry>b__169_2(Task t, Object s)
   at System.Threading.Tasks.ContinuationTaskFromTask.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-29 19:38:44.075 +03:00 [DBG] Connection id "0HN70KKNDE2I5" stopped.
2024-09-29 19:38:44.075 +03:00 [DBG] Connection id "0HN70KKNDE2I6" stopped.
2024-09-29 19:38:44.078 +03:00 [DBG] Connection id "0HN70KKNDE2I5" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 19:38:44.078 +03:00 [DBG] Connection id "0HN70KKNDE2I6" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 19:38:44.397 +03:00 [DBG] Connection id "0HN70KKNDE2I7" accepted.
2024-09-29 19:38:44.398 +03:00 [DBG] Connection id "0HN70KKNDE2I7" started.
2024-09-29 19:38:44.496 +03:00 [DBG] Connection "0HN70KKNDE2I7" established using the following protocol: "Tls13"
2024-09-29 19:38:44.598 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2024-09-29 19:38:44.678 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-29 19:38:44.819 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-29 19:38:44.831 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-29 19:38:44.843 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - -
2024-09-29 19:38:44.843 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - -
2024-09-29 19:38:44.843 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 248.3873ms
2024-09-29 19:38:44.856 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - - - 200 12366 application/javascript;+charset=utf-8 13.6700ms
2024-09-29 19:38:44.892 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 48.9669ms
2024-09-29 19:38:44.927 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2024-09-29 19:38:45.032 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 105.4439ms
2024-09-29 19:39:27.273 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/CustomerOrders/add application/json 147
2024-09-29 19:39:27.277 +03:00 [DBG] POST requests are not supported
2024-09-29 19:39:27.315 +03:00 [DBG] 1 candidate(s) found for the request path '/api/CustomerOrders/add'
2024-09-29 19:39:27.324 +03:00 [DBG] Endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API)' with route pattern 'api/CustomerOrders/add' is valid for the request path '/api/CustomerOrders/add'
2024-09-29 19:39:27.328 +03:00 [DBG] Request matched endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API)'
2024-09-29 19:39:27.424 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-29 19:39:27.428 +03:00 [INF] Executing endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API)'
2024-09-29 19:39:27.442 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-29 19:39:27.499 +03:00 [INF] Route matched with {action = "Add", controller = "CustomerOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto]] Add(CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto) on controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API).
2024-09-29 19:39:27.504 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-29 19:39:27.507 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-29 19:39:27.511 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-29 19:39:27.512 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-29 19:39:27.513 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-29 19:39:27.516 +03:00 [DBG] Executing controller factory for controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API)
2024-09-29 19:39:27.685 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-29 19:39:27.906 +03:00 [DBG] Executed controller factory for controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API)
2024-09-29 19:39:27.923 +03:00 [DBG] Attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto' ...
2024-09-29 19:39:27.928 +03:00 [DBG] Attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto' using the name '' in request data ...
2024-09-29 19:39:27.930 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-29 19:39:27.948 +03:00 [DBG] Connection id "0HN70KKNDE2I7", Request id "0HN70KKNDE2I7:00000009": started reading request body.
2024-09-29 19:39:27.950 +03:00 [DBG] Connection id "0HN70KKNDE2I7", Request id "0HN70KKNDE2I7:00000009": done reading request body.
2024-09-29 19:39:27.970 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'
2024-09-29 19:39:27.973 +03:00 [DBG] Done attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 19:39:27.975 +03:00 [DBG] Done attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 19:39:27.978 +03:00 [DBG] Attempting to validate the bound parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto' ...
2024-09-29 19:39:27.984 +03:00 [DBG] Done attempting to validate the bound parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 19:39:32.862 +03:00 [DBG] The property 'CustomerOrderId.Product' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-29 19:39:32.988 +03:00 [INF] Entity Framework Core 5.0.10 initialized 'DataContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2024-09-29 19:39:33.042 +03:00 [DBG] Compiling query expression: 
'DbSet<Customer>()
    .FirstOrDefault(c => c.Email == __orderDto_Customer_Email_0)'
2024-09-29 19:39:33.256 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Customer>(
    asyncEnumerable: new SingleQueryingEnumerable<Customer>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Customer.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Customer.Address (string) Required, 1], [Property: Customer.CreatedBy (int) Required, 2], [Property: Customer.CreatedDate (DateTime) Required, 3], [Property: Customer.Email (string) Required, 4], [Property: Customer.IsDeleted (bool) Required, 5], [Property: Customer.Name (string) Required, 6], [Property: Customer.UpdatedBy (Nullable<int>), 7], [Property: Customer.UpdatedDate (Nullable<DateTime>), 8], }
            SELECT TOP(1) c.Id, c.Address, c.CreatedBy, c.CreatedDate, c.Email, c.IsDeleted, c.Name, c.UpdatedBy, c.UpdatedDate
            FROM Customers AS c
            WHERE c.Email == @__orderDto_Customer_Email_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Customer>, 
        CustomerOrder.Data.Context.DataContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-29 19:39:33.308 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 19:39:33.333 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (22ms).
2024-09-29 19:39:33.344 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:39:34.011 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:39:34.031 +03:00 [DBG] Executing DbCommand [Parameters=[@__orderDto_Customer_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Address", c."CreatedBy", c."CreatedDate", c."Email", c."IsDeleted", c."Name", c."UpdatedBy", c."UpdatedDate"
FROM "Customers" AS c
WHERE c."Email" = @__orderDto_Customer_Email_0
LIMIT 1
2024-09-29 19:39:34.055 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[@__orderDto_Customer_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Address", c."CreatedBy", c."CreatedDate", c."Email", c."IsDeleted", c."Name", c."UpdatedBy", c."UpdatedDate"
FROM "Customers" AS c
WHERE c."Email" = @__orderDto_Customer_Email_0
LIMIT 1
2024-09-29 19:39:34.114 +03:00 [DBG] Context 'DataContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 19:39:34.188 +03:00 [DBG] A data reader was disposed.
2024-09-29 19:39:34.194 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:39:34.205 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:39:34.233 +03:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .FirstOrDefault(p => p.Barcode == __item_Barcode_0)'
2024-09-29 19:39:34.241 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Product>(
    asyncEnumerable: new SingleQueryingEnumerable<Product>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Product.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Product.Barcode (string), 1], [Property: Product.CreatedBy (int) Required, 2], [Property: Product.CreatedDate (DateTime) Required, 3], [Property: Product.CustomerOrderId (no field, Nullable<int>) Shadow FK Index, 4], [Property: Product.Description (string), 5], [Property: Product.IsDeleted (bool) Required, 6], [Property: Product.Price (decimal) Required, 7], [Property: Product.Quantity (int) Required, 8], [Property: Product.UpdatedBy (Nullable<int>), 9], [Property: Product.UpdatedDate (Nullable<DateTime>), 10], }
            SELECT TOP(1) p.Id, p.Barcode, p.CreatedBy, p.CreatedDate, p.CustomerOrderId, p.Description, p.IsDeleted, p.Price, p.Quantity, p.UpdatedBy, p.UpdatedDate
            FROM Products AS p
            WHERE p.Barcode == @__item_Barcode_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Product>, 
        CustomerOrder.Data.Context.DataContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-29 19:39:34.247 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 19:39:34.247 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-29 19:39:34.248 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:39:34.249 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:39:34.249 +03:00 [DBG] Executing DbCommand [Parameters=[@__item_Barcode_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Barcode", p."CreatedBy", p."CreatedDate", p."CustomerOrderId", p."Description", p."IsDeleted", p."Price", p."Quantity", p."UpdatedBy", p."UpdatedDate"
FROM "Products" AS p
WHERE p."Barcode" = @__item_Barcode_0
LIMIT 1
2024-09-29 19:39:34.254 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__item_Barcode_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Barcode", p."CreatedBy", p."CreatedDate", p."CustomerOrderId", p."Description", p."IsDeleted", p."Price", p."Quantity", p."UpdatedBy", p."UpdatedDate"
FROM "Products" AS p
WHERE p."Barcode" = @__item_Barcode_0
LIMIT 1
2024-09-29 19:39:34.256 +03:00 [DBG] A data reader was disposed.
2024-09-29 19:39:34.257 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:39:34.258 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:39:36.384 +03:00 [DBG] 'DataContext' generated a temporary value for the property 'Id.CustomerOrder'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 19:39:36.430 +03:00 [DBG] Context 'DataContext' started tracking 'CustomerOrder' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 19:39:36.434 +03:00 [DBG] 'DataContext' generated a temporary value for the property 'Id.Customer'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 19:39:36.450 +03:00 [DBG] The foreign key property 'CustomerOrder.CustomerId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-29 19:39:36.462 +03:00 [DBG] Context 'DataContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 19:39:36.469 +03:00 [DBG] 'DataContext' generated a temporary value for the property 'Id.Product'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 19:39:36.521 +03:00 [DBG] Context 'DataContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 19:39:37.093 +03:00 [DBG] SaveChanges starting for 'DataContext'.
2024-09-29 19:39:37.098 +03:00 [DBG] DetectChanges starting for 'DataContext'.
2024-09-29 19:39:37.124 +03:00 [DBG] DetectChanges completed for 'DataContext'.
2024-09-29 19:39:37.139 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:39:37.141 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:39:37.144 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-29 19:39:37.151 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-29 19:39:37.220 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 19:39:37.221 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-29 19:39:37.225 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Customers" ("Address", "CreatedBy", "CreatedDate", "Email", "IsDeleted", "Name", "UpdatedBy", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "Id";
2024-09-29 19:39:37.243 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Customers" ("Address", "CreatedBy", "CreatedDate", "Email", "IsDeleted", "Name", "UpdatedBy", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "Id";
2024-09-29 19:39:37.284 +03:00 [DBG] The foreign key property 'Customer.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-29 19:39:37.289 +03:00 [DBG] The foreign key property 'CustomerOrder.CustomerId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-29 19:39:37.290 +03:00 [DBG] A data reader was disposed.
2024-09-29 19:39:37.292 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 19:39:37.293 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-29 19:39:37.294 +03:00 [DBG] Executing DbCommand [Parameters=[@p8='?' (DbType = Int32), @p9='?' (DbType = DateTime), @p10='?' (DbType = Int32), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "CustomerOrders" ("CreatedBy", "CreatedDate", "CustomerId", "IsDeleted", "UpdatedBy", "UpdatedDate")
VALUES (@p8, @p9, @p10, @p11, @p12, @p13)
RETURNING "Id";
2024-09-29 19:39:37.298 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p8='?' (DbType = Int32), @p9='?' (DbType = DateTime), @p10='?' (DbType = Int32), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "CustomerOrders" ("CreatedBy", "CreatedDate", "CustomerId", "IsDeleted", "UpdatedBy", "UpdatedDate")
VALUES (@p8, @p9, @p10, @p11, @p12, @p13)
RETURNING "Id";
2024-09-29 19:39:37.300 +03:00 [DBG] The foreign key property 'CustomerOrder.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-29 19:39:37.301 +03:00 [DBG] The foreign key property 'Product.CustomerOrderId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-29 19:39:37.302 +03:00 [DBG] A data reader was disposed.
2024-09-29 19:39:37.303 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 19:39:37.304 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-29 19:39:37.305 +03:00 [DBG] Executing DbCommand [Parameters=[@p14='?', @p15='?' (DbType = Int32), @p16='?' (DbType = DateTime), @p17='?' (DbType = Int32), @p18='?', @p19='?' (DbType = Boolean), @p20='?' (DbType = Decimal), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Products" ("Barcode", "CreatedBy", "CreatedDate", "CustomerOrderId", "Description", "IsDeleted", "Price", "Quantity", "UpdatedBy", "UpdatedDate")
VALUES (@p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23)
RETURNING "Id";
2024-09-29 19:39:37.316 +03:00 [ERR] Failed executing DbCommand (10ms) [Parameters=[@p14='?', @p15='?' (DbType = Int32), @p16='?' (DbType = DateTime), @p17='?' (DbType = Int32), @p18='?', @p19='?' (DbType = Boolean), @p20='?' (DbType = Decimal), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Products" ("Barcode", "CreatedBy", "CreatedDate", "CustomerOrderId", "Description", "IsDeleted", "Price", "Quantity", "UpdatedBy", "UpdatedDate")
VALUES (@p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23)
RETURNING "Id";
2024-09-29 19:39:37.339 +03:00 [DBG] Disposing transaction.
2024-09-29 19:39:37.345 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:39:37.348 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:39:37.361 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'CustomerOrder.Data.Context.DataContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "PK_Products"
   at Npgsql.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|194_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "PK_Products"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Products
    ConstraintName: PK_Products
    File: nbtinsert.c
    Line: 673
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "PK_Products"
   at Npgsql.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|194_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "PK_Products"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Products
    ConstraintName: PK_Products
    File: nbtinsert.c
    Line: 673
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-09-29 19:40:06.939 +03:00 [INF] error: An error occurred while updating the entries. See the inner exception for details.
2024-09-29 19:40:07.009 +03:00 [INF] Executed action CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API) in 39487.419ms
2024-09-29 19:40:07.014 +03:00 [INF] Executed endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API)'
2024-09-29 19:40:07.019 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: An error occurred while adding the order: An error occurred while updating the entries. See the inner exception for details.
   at CustomerOrder.API.Services.CustomerOrdersService.AddCustomerOrderAsync(CustomerOrderDto orderDto) in C:\Users\cagrie\source\repos\CustomerOrder\CustomerOrder.API\Services\CustomerOrdersService.cs:line 138
   at CustomerOrder.API.Controllers.CustomerOrdersController.Add(CustomerOrderDto orderDto) in C:\Users\cagrie\source\repos\CustomerOrder\CustomerOrder.API\Controllers\CustomerOrdersController.cs:line 26
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-09-29 19:40:07.050 +03:00 [DBG] 'DataContext' disposed.
2024-09-29 19:40:07.053 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/CustomerOrders/add application/json 147 - 500 - text/plain 39779.8158ms
2024-09-29 19:40:09.069 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/CustomerOrders/add application/json 147
2024-09-29 19:40:09.071 +03:00 [DBG] POST requests are not supported
2024-09-29 19:40:09.075 +03:00 [DBG] 1 candidate(s) found for the request path '/api/CustomerOrders/add'
2024-09-29 19:40:09.077 +03:00 [DBG] Endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API)' with route pattern 'api/CustomerOrders/add' is valid for the request path '/api/CustomerOrders/add'
2024-09-29 19:40:09.079 +03:00 [DBG] Request matched endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API)'
2024-09-29 19:40:09.080 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-29 19:40:09.081 +03:00 [INF] Executing endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API)'
2024-09-29 19:40:09.081 +03:00 [INF] Route matched with {action = "Add", controller = "CustomerOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto]] Add(CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto) on controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API).
2024-09-29 19:40:09.082 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-29 19:40:09.083 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-29 19:40:09.084 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-29 19:40:09.084 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-29 19:40:09.085 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-29 19:40:09.086 +03:00 [DBG] Executing controller factory for controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API)
2024-09-29 19:40:09.086 +03:00 [DBG] Executed controller factory for controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API)
2024-09-29 19:40:09.087 +03:00 [DBG] Attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto' ...
2024-09-29 19:40:09.088 +03:00 [DBG] Attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto' using the name '' in request data ...
2024-09-29 19:40:09.088 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-29 19:40:09.089 +03:00 [DBG] Connection id "0HN70KKNDE2I7", Request id "0HN70KKNDE2I7:0000000B": started reading request body.
2024-09-29 19:40:09.090 +03:00 [DBG] Connection id "0HN70KKNDE2I7", Request id "0HN70KKNDE2I7:0000000B": done reading request body.
2024-09-29 19:40:09.090 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'
2024-09-29 19:40:09.091 +03:00 [DBG] Done attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 19:40:09.091 +03:00 [DBG] Done attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 19:40:09.092 +03:00 [DBG] Attempting to validate the bound parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto' ...
2024-09-29 19:40:09.094 +03:00 [DBG] Done attempting to validate the bound parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 19:40:11.224 +03:00 [INF] Entity Framework Core 5.0.10 initialized 'DataContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2024-09-29 19:40:11.229 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 19:40:11.231 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-29 19:40:11.235 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:40:11.236 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:40:11.237 +03:00 [DBG] Executing DbCommand [Parameters=[@__orderDto_Customer_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Address", c."CreatedBy", c."CreatedDate", c."Email", c."IsDeleted", c."Name", c."UpdatedBy", c."UpdatedDate"
FROM "Customers" AS c
WHERE c."Email" = @__orderDto_Customer_Email_0
LIMIT 1
2024-09-29 19:40:11.242 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__orderDto_Customer_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Address", c."CreatedBy", c."CreatedDate", c."Email", c."IsDeleted", c."Name", c."UpdatedBy", c."UpdatedDate"
FROM "Customers" AS c
WHERE c."Email" = @__orderDto_Customer_Email_0
LIMIT 1
2024-09-29 19:40:11.263 +03:00 [DBG] Context 'DataContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 19:40:11.266 +03:00 [DBG] A data reader was disposed.
2024-09-29 19:40:11.267 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:40:11.268 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:40:20.802 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 19:40:20.803 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-29 19:40:20.804 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:40:20.806 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:40:20.807 +03:00 [DBG] Executing DbCommand [Parameters=[@__item_Barcode_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Barcode", p."CreatedBy", p."CreatedDate", p."CustomerOrderId", p."Description", p."IsDeleted", p."Price", p."Quantity", p."UpdatedBy", p."UpdatedDate"
FROM "Products" AS p
WHERE p."Barcode" = @__item_Barcode_0
LIMIT 1
2024-09-29 19:40:20.809 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__item_Barcode_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Barcode", p."CreatedBy", p."CreatedDate", p."CustomerOrderId", p."Description", p."IsDeleted", p."Price", p."Quantity", p."UpdatedBy", p."UpdatedDate"
FROM "Products" AS p
WHERE p."Barcode" = @__item_Barcode_0
LIMIT 1
2024-09-29 19:40:20.826 +03:00 [DBG] A data reader was disposed.
2024-09-29 19:40:20.827 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:40:20.827 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:42:33.134 +03:00 [INF] Starting web host
2024-09-29 19:42:34.095 +03:00 [DBG] Hosting starting
2024-09-29 19:42:34.196 +03:00 [INF] User profile is available. Using 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-29 19:42:34.245 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-0aa42add-f3b4-405e-a8c2-992d6e29a85c.xml'.
2024-09-29 19:42:34.293 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-71b87755-2ee9-43e6-87de-6c92ed7c99a6.xml'.
2024-09-29 19:42:34.296 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-acea2ac6-9b67-4521-b460-630e25f9dc5a.xml'.
2024-09-29 19:42:34.307 +03:00 [DBG] Found key {0aa42add-f3b4-405e-a8c2-992d6e29a85c}.
2024-09-29 19:42:34.329 +03:00 [DBG] Found key {71b87755-2ee9-43e6-87de-6c92ed7c99a6}.
2024-09-29 19:42:34.342 +03:00 [DBG] Found key {acea2ac6-9b67-4521-b460-630e25f9dc5a}.
2024-09-29 19:42:34.361 +03:00 [DBG] Considering key {acea2ac6-9b67-4521-b460-630e25f9dc5a} with expiration date 2024-10-15 10:31:27Z as default key.
2024-09-29 19:42:34.401 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-29 19:42:34.412 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-29 19:42:34.416 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-29 19:42:34.464 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-29 19:42:34.491 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-29 19:42:34.501 +03:00 [DBG] Using key {acea2ac6-9b67-4521-b460-630e25f9dc5a} as the default key.
2024-09-29 19:42:34.506 +03:00 [DBG] Key ring with default key {acea2ac6-9b67-4521-b460-630e25f9dc5a} was loaded during application startup.
2024-09-29 19:42:34.971 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: D6697AE29B19EBA86816E6295ADBAF33F0642E18)
2024-09-29 19:42:34.999 +03:00 [INF] Now listening on: https://localhost:5001
2024-09-29 19:42:35.000 +03:00 [INF] Now listening on: http://localhost:5000
2024-09-29 19:42:35.000 +03:00 [DBG] Loaded hosting startup assembly CustomerOrder.API
2024-09-29 19:42:35.001 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-29 19:42:35.001 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-29 19:42:35.003 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-29 19:42:35.004 +03:00 [INF] Hosting environment: Development
2024-09-29 19:42:35.004 +03:00 [INF] Content root path: C:\Users\cagrie\source\repos\CustomerOrder\CustomerOrder.API
2024-09-29 19:42:35.004 +03:00 [DBG] Hosting started
2024-09-29 19:42:35.385 +03:00 [DBG] Connection id "0HN70KMSC7VEV" received FIN.
2024-09-29 19:42:35.385 +03:00 [DBG] Connection id "0HN70KMSC7VF0" received FIN.
2024-09-29 19:42:35.392 +03:00 [DBG] Connection id "0HN70KMSC7VEV" accepted.
2024-09-29 19:42:35.392 +03:00 [DBG] Connection id "0HN70KMSC7VF0" accepted.
2024-09-29 19:42:35.397 +03:00 [DBG] Connection id "0HN70KMSC7VF0" started.
2024-09-29 19:42:35.397 +03:00 [DBG] Connection id "0HN70KMSC7VEV" started.
2024-09-29 19:42:35.423 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.<>c.<ProcessAuthenticationWithTelemetry>b__169_2(Task t, Object s)
   at System.Threading.Tasks.ContinuationTaskFromTask.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-29 19:42:35.423 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.<>c.<ProcessAuthenticationWithTelemetry>b__169_2(Task t, Object s)
   at System.Threading.Tasks.ContinuationTaskFromTask.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-29 19:42:35.476 +03:00 [DBG] Connection id "0HN70KMSC7VF0" stopped.
2024-09-29 19:42:35.476 +03:00 [DBG] Connection id "0HN70KMSC7VEV" stopped.
2024-09-29 19:42:35.478 +03:00 [DBG] Connection id "0HN70KMSC7VEV" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 19:42:35.478 +03:00 [DBG] Connection id "0HN70KMSC7VF0" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 19:42:41.490 +03:00 [DBG] Connection id "0HN70KMSC7VF1" accepted.
2024-09-29 19:42:41.493 +03:00 [DBG] Connection id "0HN70KMSC7VF1" started.
2024-09-29 19:42:41.560 +03:00 [DBG] Connection "0HN70KMSC7VF1" established using the following protocol: "Tls13"
2024-09-29 19:42:41.660 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2024-09-29 19:42:41.771 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-29 19:42:41.997 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-29 19:42:42.013 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-29 19:42:42.022 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - -
2024-09-29 19:42:42.023 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - -
2024-09-29 19:42:42.026 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 368.8141ms
2024-09-29 19:42:42.032 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - - - 200 12366 application/javascript;+charset=utf-8 10.0810ms
2024-09-29 19:42:42.086 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 62.5604ms
2024-09-29 19:42:42.118 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2024-09-29 19:42:42.225 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 106.9966ms
2024-09-29 19:42:50.777 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/CustomerOrders/add application/json 147
2024-09-29 19:42:50.781 +03:00 [DBG] POST requests are not supported
2024-09-29 19:42:50.827 +03:00 [DBG] 1 candidate(s) found for the request path '/api/CustomerOrders/add'
2024-09-29 19:42:50.834 +03:00 [DBG] Endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API)' with route pattern 'api/CustomerOrders/add' is valid for the request path '/api/CustomerOrders/add'
2024-09-29 19:42:50.835 +03:00 [DBG] Request matched endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API)'
2024-09-29 19:42:50.916 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-29 19:42:50.920 +03:00 [INF] Executing endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API)'
2024-09-29 19:42:50.930 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-29 19:42:50.982 +03:00 [INF] Route matched with {action = "Add", controller = "CustomerOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto]] Add(CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto) on controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API).
2024-09-29 19:42:50.987 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-29 19:42:50.991 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-29 19:42:50.993 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-29 19:42:50.994 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-29 19:42:50.995 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-29 19:42:50.996 +03:00 [DBG] Executing controller factory for controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API)
2024-09-29 19:42:51.134 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-29 19:42:51.375 +03:00 [DBG] Executed controller factory for controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API)
2024-09-29 19:42:51.399 +03:00 [DBG] Attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto' ...
2024-09-29 19:42:51.402 +03:00 [DBG] Attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto' using the name '' in request data ...
2024-09-29 19:42:51.405 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-29 19:42:51.421 +03:00 [DBG] Connection id "0HN70KMSC7VF1", Request id "0HN70KMSC7VF1:00000009": started reading request body.
2024-09-29 19:42:51.425 +03:00 [DBG] Connection id "0HN70KMSC7VF1", Request id "0HN70KMSC7VF1:00000009": done reading request body.
2024-09-29 19:42:51.445 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'
2024-09-29 19:42:51.446 +03:00 [DBG] Done attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 19:42:51.447 +03:00 [DBG] Done attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 19:42:51.448 +03:00 [DBG] Attempting to validate the bound parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto' ...
2024-09-29 19:42:51.457 +03:00 [DBG] Done attempting to validate the bound parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 19:42:53.554 +03:00 [DBG] The property 'CustomerOrderId.Product' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-29 19:42:53.747 +03:00 [INF] Entity Framework Core 5.0.10 initialized 'DataContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2024-09-29 19:42:53.811 +03:00 [DBG] Compiling query expression: 
'DbSet<Customer>()
    .FirstOrDefault(c => c.Email == __orderDto_Customer_Email_0)'
2024-09-29 19:42:54.006 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Customer>(
    asyncEnumerable: new SingleQueryingEnumerable<Customer>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Customer.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Customer.Address (string) Required, 1], [Property: Customer.CreatedBy (int) Required, 2], [Property: Customer.CreatedDate (DateTime) Required, 3], [Property: Customer.Email (string) Required, 4], [Property: Customer.IsDeleted (bool) Required, 5], [Property: Customer.Name (string) Required, 6], [Property: Customer.UpdatedBy (Nullable<int>), 7], [Property: Customer.UpdatedDate (Nullable<DateTime>), 8], }
            SELECT TOP(1) c.Id, c.Address, c.CreatedBy, c.CreatedDate, c.Email, c.IsDeleted, c.Name, c.UpdatedBy, c.UpdatedDate
            FROM Customers AS c
            WHERE c.Email == @__orderDto_Customer_Email_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Customer>, 
        CustomerOrder.Data.Context.DataContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-29 19:42:54.060 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 19:42:54.086 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (19ms).
2024-09-29 19:42:54.096 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:42:54.750 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:42:54.768 +03:00 [DBG] Executing DbCommand [Parameters=[@__orderDto_Customer_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Address", c."CreatedBy", c."CreatedDate", c."Email", c."IsDeleted", c."Name", c."UpdatedBy", c."UpdatedDate"
FROM "Customers" AS c
WHERE c."Email" = @__orderDto_Customer_Email_0
LIMIT 1
2024-09-29 19:42:54.796 +03:00 [INF] Executed DbCommand (29ms) [Parameters=[@__orderDto_Customer_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Address", c."CreatedBy", c."CreatedDate", c."Email", c."IsDeleted", c."Name", c."UpdatedBy", c."UpdatedDate"
FROM "Customers" AS c
WHERE c."Email" = @__orderDto_Customer_Email_0
LIMIT 1
2024-09-29 19:42:54.842 +03:00 [DBG] Context 'DataContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 19:42:54.922 +03:00 [DBG] A data reader was disposed.
2024-09-29 19:42:54.928 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:42:54.938 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:42:58.085 +03:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .FirstOrDefault(p => p.Barcode == __item_Barcode_0)'
2024-09-29 19:42:58.093 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Product>(
    asyncEnumerable: new SingleQueryingEnumerable<Product>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Product.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Product.Barcode (string), 1], [Property: Product.CreatedBy (int) Required, 2], [Property: Product.CreatedDate (DateTime) Required, 3], [Property: Product.CustomerOrderId (no field, Nullable<int>) Shadow FK Index, 4], [Property: Product.Description (string), 5], [Property: Product.IsDeleted (bool) Required, 6], [Property: Product.Price (decimal) Required, 7], [Property: Product.Quantity (int) Required, 8], [Property: Product.UpdatedBy (Nullable<int>), 9], [Property: Product.UpdatedDate (Nullable<DateTime>), 10], }
            SELECT TOP(1) p.Id, p.Barcode, p.CreatedBy, p.CreatedDate, p.CustomerOrderId, p.Description, p.IsDeleted, p.Price, p.Quantity, p.UpdatedBy, p.UpdatedDate
            FROM Products AS p
            WHERE p.Barcode == @__item_Barcode_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Product>, 
        CustomerOrder.Data.Context.DataContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-29 19:42:58.103 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 19:42:58.107 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-09-29 19:42:58.108 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:42:58.109 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:42:58.110 +03:00 [DBG] Executing DbCommand [Parameters=[@__item_Barcode_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Barcode", p."CreatedBy", p."CreatedDate", p."CustomerOrderId", p."Description", p."IsDeleted", p."Price", p."Quantity", p."UpdatedBy", p."UpdatedDate"
FROM "Products" AS p
WHERE p."Barcode" = @__item_Barcode_0
LIMIT 1
2024-09-29 19:42:58.113 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__item_Barcode_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Barcode", p."CreatedBy", p."CreatedDate", p."CustomerOrderId", p."Description", p."IsDeleted", p."Price", p."Quantity", p."UpdatedBy", p."UpdatedDate"
FROM "Products" AS p
WHERE p."Barcode" = @__item_Barcode_0
LIMIT 1
2024-09-29 19:42:58.115 +03:00 [DBG] A data reader was disposed.
2024-09-29 19:42:58.115 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:42:58.116 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:42:59.815 +03:00 [DBG] 'DataContext' generated a temporary value for the property 'Id.CustomerOrder'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 19:42:59.851 +03:00 [DBG] Context 'DataContext' started tracking 'CustomerOrder' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 19:43:00.440 +03:00 [DBG] SaveChanges starting for 'DataContext'.
2024-09-29 19:43:00.444 +03:00 [DBG] DetectChanges starting for 'DataContext'.
2024-09-29 19:43:00.467 +03:00 [DBG] DetectChanges completed for 'DataContext'.
2024-09-29 19:43:00.498 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:43:00.501 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:43:00.504 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-29 19:43:00.508 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-29 19:43:00.553 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 19:43:00.557 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-29 19:43:00.559 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "CustomerOrders" ("CreatedBy", "CreatedDate", "CustomerId", "IsDeleted", "UpdatedBy", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING "Id";
2024-09-29 19:43:00.564 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "CustomerOrders" ("CreatedBy", "CreatedDate", "CustomerId", "IsDeleted", "UpdatedBy", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING "Id";
2024-09-29 19:43:00.596 +03:00 [DBG] The foreign key property 'CustomerOrder.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-29 19:43:00.604 +03:00 [DBG] A data reader was disposed.
2024-09-29 19:43:00.610 +03:00 [DBG] Committing transaction.
2024-09-29 19:43:00.617 +03:00 [DBG] Committed transaction.
2024-09-29 19:43:00.621 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:43:00.623 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:43:00.627 +03:00 [DBG] Disposing transaction.
2024-09-29 19:43:00.648 +03:00 [DBG] An entity of type 'CustomerOrder' tracked by 'DataContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 19:43:00.655 +03:00 [DBG] SaveChanges completed for 'DataContext' with 1 entities written to the database.
2024-09-29 19:45:06.028 +03:00 [INF] Starting web host
2024-09-29 19:45:07.280 +03:00 [DBG] Hosting starting
2024-09-29 19:45:07.347 +03:00 [INF] User profile is available. Using 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-29 19:45:07.457 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-0aa42add-f3b4-405e-a8c2-992d6e29a85c.xml'.
2024-09-29 19:45:07.472 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-71b87755-2ee9-43e6-87de-6c92ed7c99a6.xml'.
2024-09-29 19:45:07.473 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-acea2ac6-9b67-4521-b460-630e25f9dc5a.xml'.
2024-09-29 19:45:07.479 +03:00 [DBG] Found key {0aa42add-f3b4-405e-a8c2-992d6e29a85c}.
2024-09-29 19:45:07.486 +03:00 [DBG] Found key {71b87755-2ee9-43e6-87de-6c92ed7c99a6}.
2024-09-29 19:45:07.486 +03:00 [DBG] Found key {acea2ac6-9b67-4521-b460-630e25f9dc5a}.
2024-09-29 19:45:07.495 +03:00 [DBG] Considering key {acea2ac6-9b67-4521-b460-630e25f9dc5a} with expiration date 2024-10-15 10:31:27Z as default key.
2024-09-29 19:45:07.512 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-29 19:45:07.518 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-29 19:45:07.520 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-29 19:45:07.530 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-29 19:45:07.535 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-29 19:45:07.540 +03:00 [DBG] Using key {acea2ac6-9b67-4521-b460-630e25f9dc5a} as the default key.
2024-09-29 19:45:07.542 +03:00 [DBG] Key ring with default key {acea2ac6-9b67-4521-b460-630e25f9dc5a} was loaded during application startup.
2024-09-29 19:45:07.899 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: D6697AE29B19EBA86816E6295ADBAF33F0642E18)
2024-09-29 19:45:07.932 +03:00 [INF] Now listening on: https://localhost:5001
2024-09-29 19:45:07.933 +03:00 [INF] Now listening on: http://localhost:5000
2024-09-29 19:45:07.934 +03:00 [DBG] Loaded hosting startup assembly CustomerOrder.API
2024-09-29 19:45:07.935 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-29 19:45:07.937 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-29 19:45:07.939 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-29 19:45:07.940 +03:00 [INF] Hosting environment: Development
2024-09-29 19:45:07.940 +03:00 [INF] Content root path: C:\Users\cagrie\source\repos\CustomerOrder\CustomerOrder.API
2024-09-29 19:45:07.941 +03:00 [DBG] Hosting started
2024-09-29 19:45:08.106 +03:00 [DBG] Connection id "0HN70KO9SMUK3" received FIN.
2024-09-29 19:45:08.106 +03:00 [DBG] Connection id "0HN70KO9SMUK4" received FIN.
2024-09-29 19:45:08.127 +03:00 [DBG] Connection id "0HN70KO9SMUK3" accepted.
2024-09-29 19:45:08.127 +03:00 [DBG] Connection id "0HN70KO9SMUK4" accepted.
2024-09-29 19:45:08.133 +03:00 [DBG] Connection id "0HN70KO9SMUK4" started.
2024-09-29 19:45:08.133 +03:00 [DBG] Connection id "0HN70KO9SMUK3" started.
2024-09-29 19:45:08.156 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.<>c.<ProcessAuthenticationWithTelemetry>b__169_2(Task t, Object s)
   at System.Threading.Tasks.ContinuationTaskFromTask.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-29 19:45:08.156 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.<>c.<ProcessAuthenticationWithTelemetry>b__169_2(Task t, Object s)
   at System.Threading.Tasks.ContinuationTaskFromTask.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-29 19:45:08.198 +03:00 [DBG] Connection id "0HN70KO9SMUK4" stopped.
2024-09-29 19:45:08.198 +03:00 [DBG] Connection id "0HN70KO9SMUK3" stopped.
2024-09-29 19:45:08.205 +03:00 [DBG] Connection id "0HN70KO9SMUK4" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 19:45:08.205 +03:00 [DBG] Connection id "0HN70KO9SMUK3" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 19:45:08.237 +03:00 [DBG] Connection id "0HN70KO9SMUK5" accepted.
2024-09-29 19:45:08.238 +03:00 [DBG] Connection id "0HN70KO9SMUK5" started.
2024-09-29 19:45:08.316 +03:00 [DBG] Connection "0HN70KO9SMUK5" established using the following protocol: "Tls13"
2024-09-29 19:45:08.383 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2024-09-29 19:45:08.462 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-29 19:45:08.600 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-29 19:45:08.613 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-29 19:45:08.621 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 239.9312ms
2024-09-29 19:45:08.637 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - -
2024-09-29 19:45:08.637 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - -
2024-09-29 19:45:08.647 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - - - 200 12366 application/javascript;+charset=utf-8 9.4647ms
2024-09-29 19:45:08.683 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 45.8094ms
2024-09-29 19:45:08.729 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2024-09-29 19:45:08.813 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 83.4869ms
2024-09-29 19:45:47.479 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/CustomerOrders/add application/json 141
2024-09-29 19:45:47.483 +03:00 [DBG] POST requests are not supported
2024-09-29 19:45:47.518 +03:00 [DBG] 1 candidate(s) found for the request path '/api/CustomerOrders/add'
2024-09-29 19:45:47.528 +03:00 [DBG] Endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API)' with route pattern 'api/CustomerOrders/add' is valid for the request path '/api/CustomerOrders/add'
2024-09-29 19:45:47.534 +03:00 [DBG] Request matched endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API)'
2024-09-29 19:45:47.631 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-29 19:45:47.636 +03:00 [INF] Executing endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API)'
2024-09-29 19:45:47.644 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-29 19:45:47.699 +03:00 [INF] Route matched with {action = "Add", controller = "CustomerOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto]] Add(CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto) on controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API).
2024-09-29 19:45:47.702 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-29 19:45:47.703 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-29 19:45:47.704 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-29 19:45:47.707 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-29 19:45:47.708 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-29 19:45:47.710 +03:00 [DBG] Executing controller factory for controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API)
2024-09-29 19:45:47.836 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-29 19:45:48.053 +03:00 [DBG] Executed controller factory for controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API)
2024-09-29 19:45:48.068 +03:00 [DBG] Attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto' ...
2024-09-29 19:45:48.074 +03:00 [DBG] Attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto' using the name '' in request data ...
2024-09-29 19:45:48.078 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-29 19:45:48.088 +03:00 [DBG] Connection id "0HN70KO9SMUK5", Request id "0HN70KO9SMUK5:00000009": started reading request body.
2024-09-29 19:45:48.091 +03:00 [DBG] Connection id "0HN70KO9SMUK5", Request id "0HN70KO9SMUK5:00000009": done reading request body.
2024-09-29 19:45:48.129 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'
2024-09-29 19:45:48.132 +03:00 [DBG] Done attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 19:45:48.134 +03:00 [DBG] Done attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 19:45:48.135 +03:00 [DBG] Attempting to validate the bound parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto' ...
2024-09-29 19:45:48.145 +03:00 [DBG] Done attempting to validate the bound parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 19:46:00.428 +03:00 [DBG] The property 'CustomerOrderId.Product' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-29 19:46:00.623 +03:00 [INF] Entity Framework Core 5.0.10 initialized 'DataContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2024-09-29 19:46:00.669 +03:00 [DBG] Compiling query expression: 
'DbSet<Customer>()
    .FirstOrDefault(c => c.Email == __orderDto_Customer_Email_0)'
2024-09-29 19:46:00.893 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Customer>(
    asyncEnumerable: new SingleQueryingEnumerable<Customer>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Customer.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Customer.Address (string) Required, 1], [Property: Customer.CreatedBy (int) Required, 2], [Property: Customer.CreatedDate (DateTime) Required, 3], [Property: Customer.Email (string) Required, 4], [Property: Customer.IsDeleted (bool) Required, 5], [Property: Customer.Name (string) Required, 6], [Property: Customer.UpdatedBy (Nullable<int>), 7], [Property: Customer.UpdatedDate (Nullable<DateTime>), 8], }
            SELECT TOP(1) c.Id, c.Address, c.CreatedBy, c.CreatedDate, c.Email, c.IsDeleted, c.Name, c.UpdatedBy, c.UpdatedDate
            FROM Customers AS c
            WHERE c.Email == @__orderDto_Customer_Email_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Customer>, 
        CustomerOrder.Data.Context.DataContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-29 19:46:00.935 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 19:46:00.971 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (29ms).
2024-09-29 19:46:00.981 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:46:01.510 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:46:01.527 +03:00 [DBG] Executing DbCommand [Parameters=[@__orderDto_Customer_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Address", c."CreatedBy", c."CreatedDate", c."Email", c."IsDeleted", c."Name", c."UpdatedBy", c."UpdatedDate"
FROM "Customers" AS c
WHERE c."Email" = @__orderDto_Customer_Email_0
LIMIT 1
2024-09-29 19:46:01.559 +03:00 [INF] Executed DbCommand (32ms) [Parameters=[@__orderDto_Customer_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Address", c."CreatedBy", c."CreatedDate", c."Email", c."IsDeleted", c."Name", c."UpdatedBy", c."UpdatedDate"
FROM "Customers" AS c
WHERE c."Email" = @__orderDto_Customer_Email_0
LIMIT 1
2024-09-29 19:46:01.573 +03:00 [DBG] A data reader was disposed.
2024-09-29 19:46:01.579 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:46:01.588 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:46:05.635 +03:00 [DBG] 'DataContext' generated a temporary value for the property 'Id.Customer'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 19:46:05.736 +03:00 [DBG] Context 'DataContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 19:46:05.744 +03:00 [DBG] SaveChanges starting for 'DataContext'.
2024-09-29 19:46:05.747 +03:00 [DBG] DetectChanges starting for 'DataContext'.
2024-09-29 19:46:05.761 +03:00 [DBG] DetectChanges completed for 'DataContext'.
2024-09-29 19:46:05.780 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:46:05.785 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:46:05.788 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-29 19:46:05.794 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-29 19:46:05.847 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 19:46:05.848 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-29 19:46:05.851 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Customers" ("Address", "CreatedBy", "CreatedDate", "Email", "IsDeleted", "Name", "UpdatedBy", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "Id";
2024-09-29 19:46:05.859 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Customers" ("Address", "CreatedBy", "CreatedDate", "Email", "IsDeleted", "Name", "UpdatedBy", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "Id";
2024-09-29 19:46:05.896 +03:00 [DBG] The foreign key property 'Customer.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-29 19:46:05.903 +03:00 [DBG] A data reader was disposed.
2024-09-29 19:46:05.908 +03:00 [DBG] Committing transaction.
2024-09-29 19:46:05.920 +03:00 [DBG] Committed transaction.
2024-09-29 19:46:05.925 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:46:05.928 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:46:05.930 +03:00 [DBG] Disposing transaction.
2024-09-29 19:46:05.950 +03:00 [DBG] An entity of type 'Customer' tracked by 'DataContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 19:46:05.955 +03:00 [DBG] SaveChanges completed for 'DataContext' with 1 entities written to the database.
2024-09-29 19:46:05.972 +03:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .FirstOrDefault(p => p.Barcode == __item_Barcode_0)'
2024-09-29 19:46:05.982 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Product>(
    asyncEnumerable: new SingleQueryingEnumerable<Product>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Product.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Product.Barcode (string), 1], [Property: Product.CreatedBy (int) Required, 2], [Property: Product.CreatedDate (DateTime) Required, 3], [Property: Product.CustomerOrderId (no field, Nullable<int>) Shadow FK Index, 4], [Property: Product.Description (string), 5], [Property: Product.IsDeleted (bool) Required, 6], [Property: Product.Price (decimal) Required, 7], [Property: Product.Quantity (int) Required, 8], [Property: Product.UpdatedBy (Nullable<int>), 9], [Property: Product.UpdatedDate (Nullable<DateTime>), 10], }
            SELECT TOP(1) p.Id, p.Barcode, p.CreatedBy, p.CreatedDate, p.CustomerOrderId, p.Description, p.IsDeleted, p.Price, p.Quantity, p.UpdatedBy, p.UpdatedDate
            FROM Products AS p
            WHERE p.Barcode == @__item_Barcode_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Product>, 
        CustomerOrder.Data.Context.DataContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-29 19:46:05.991 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 19:46:05.992 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-29 19:46:05.994 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:46:05.995 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:46:05.996 +03:00 [DBG] Executing DbCommand [Parameters=[@__item_Barcode_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Barcode", p."CreatedBy", p."CreatedDate", p."CustomerOrderId", p."Description", p."IsDeleted", p."Price", p."Quantity", p."UpdatedBy", p."UpdatedDate"
FROM "Products" AS p
WHERE p."Barcode" = @__item_Barcode_0
LIMIT 1
2024-09-29 19:46:06.000 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__item_Barcode_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Barcode", p."CreatedBy", p."CreatedDate", p."CustomerOrderId", p."Description", p."IsDeleted", p."Price", p."Quantity", p."UpdatedBy", p."UpdatedDate"
FROM "Products" AS p
WHERE p."Barcode" = @__item_Barcode_0
LIMIT 1
2024-09-29 19:46:06.002 +03:00 [DBG] A data reader was disposed.
2024-09-29 19:46:06.002 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:46:06.003 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:46:06.929 +03:00 [DBG] 'DataContext' generated a temporary value for the property 'Id.CustomerOrder'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 19:46:06.962 +03:00 [DBG] Context 'DataContext' started tracking 'CustomerOrder' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 19:46:07.512 +03:00 [DBG] SaveChanges starting for 'DataContext'.
2024-09-29 19:46:07.513 +03:00 [DBG] DetectChanges starting for 'DataContext'.
2024-09-29 19:46:07.520 +03:00 [DBG] DetectChanges completed for 'DataContext'.
2024-09-29 19:46:07.522 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:46:07.523 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:46:07.524 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-29 19:46:07.525 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-29 19:46:07.527 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 19:46:07.529 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-29 19:46:07.530 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "CustomerOrders" ("CreatedBy", "CreatedDate", "CustomerId", "IsDeleted", "UpdatedBy", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING "Id";
2024-09-29 19:46:07.535 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "CustomerOrders" ("CreatedBy", "CreatedDate", "CustomerId", "IsDeleted", "UpdatedBy", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING "Id";
2024-09-29 19:46:07.557 +03:00 [DBG] The foreign key property 'CustomerOrder.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-29 19:46:07.559 +03:00 [DBG] A data reader was disposed.
2024-09-29 19:46:07.561 +03:00 [DBG] Committing transaction.
2024-09-29 19:46:07.563 +03:00 [DBG] Committed transaction.
2024-09-29 19:46:07.564 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:46:07.565 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:46:07.566 +03:00 [DBG] Disposing transaction.
2024-09-29 19:46:07.567 +03:00 [DBG] An entity of type 'CustomerOrder' tracked by 'DataContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 19:46:07.569 +03:00 [DBG] SaveChanges completed for 'DataContext' with 1 entities written to the database.
2024-09-29 19:46:38.981 +03:00 [INF] error: Value cannot be null. (Parameter 'entities')
2024-09-29 19:46:39.058 +03:00 [INF] Executed action CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API) in 51341.1329ms
2024-09-29 19:46:39.063 +03:00 [INF] Executed endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API)'
2024-09-29 19:46:39.071 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: An error occurred while adding the order: Value cannot be null. (Parameter 'entities')
   at CustomerOrder.API.Services.CustomerOrdersService.AddCustomerOrderAsync(CustomerOrderDto orderDto) in C:\Users\cagrie\source\repos\CustomerOrder\CustomerOrder.API\Services\CustomerOrdersService.cs:line 145
   at CustomerOrder.API.Controllers.CustomerOrdersController.Add(CustomerOrderDto orderDto) in C:\Users\cagrie\source\repos\CustomerOrder\CustomerOrder.API\Controllers\CustomerOrdersController.cs:line 26
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-09-29 19:46:39.109 +03:00 [DBG] 'DataContext' disposed.
2024-09-29 19:46:39.114 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/CustomerOrders/add application/json 141 - 500 - text/plain 51635.5166ms
2024-09-29 19:46:41.306 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/CustomerOrders/add application/json 141
2024-09-29 19:46:41.307 +03:00 [DBG] POST requests are not supported
2024-09-29 19:46:41.310 +03:00 [DBG] 1 candidate(s) found for the request path '/api/CustomerOrders/add'
2024-09-29 19:46:41.312 +03:00 [DBG] Endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API)' with route pattern 'api/CustomerOrders/add' is valid for the request path '/api/CustomerOrders/add'
2024-09-29 19:46:41.313 +03:00 [DBG] Request matched endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API)'
2024-09-29 19:46:41.315 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-29 19:46:41.316 +03:00 [INF] Executing endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API)'
2024-09-29 19:46:41.317 +03:00 [INF] Route matched with {action = "Add", controller = "CustomerOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto]] Add(CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto) on controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API).
2024-09-29 19:46:41.318 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-29 19:46:41.318 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-29 19:46:41.319 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-29 19:46:41.320 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-29 19:46:41.321 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-29 19:46:41.322 +03:00 [DBG] Executing controller factory for controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API)
2024-09-29 19:46:41.323 +03:00 [DBG] Executed controller factory for controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API)
2024-09-29 19:46:41.324 +03:00 [DBG] Attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto' ...
2024-09-29 19:46:41.324 +03:00 [DBG] Attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto' using the name '' in request data ...
2024-09-29 19:46:41.325 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-29 19:46:41.326 +03:00 [DBG] Connection id "0HN70KO9SMUK5", Request id "0HN70KO9SMUK5:0000000B": started reading request body.
2024-09-29 19:46:41.326 +03:00 [DBG] Connection id "0HN70KO9SMUK5", Request id "0HN70KO9SMUK5:0000000B": done reading request body.
2024-09-29 19:46:41.328 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'
2024-09-29 19:46:41.330 +03:00 [DBG] Done attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 19:46:41.330 +03:00 [DBG] Done attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 19:46:41.331 +03:00 [DBG] Attempting to validate the bound parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto' ...
2024-09-29 19:46:41.331 +03:00 [DBG] Done attempting to validate the bound parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 19:46:43.214 +03:00 [INF] Entity Framework Core 5.0.10 initialized 'DataContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2024-09-29 19:46:43.221 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 19:46:43.224 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-29 19:46:43.224 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:46:43.225 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:46:43.227 +03:00 [DBG] Executing DbCommand [Parameters=[@__orderDto_Customer_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Address", c."CreatedBy", c."CreatedDate", c."Email", c."IsDeleted", c."Name", c."UpdatedBy", c."UpdatedDate"
FROM "Customers" AS c
WHERE c."Email" = @__orderDto_Customer_Email_0
LIMIT 1
2024-09-29 19:46:43.230 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__orderDto_Customer_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Address", c."CreatedBy", c."CreatedDate", c."Email", c."IsDeleted", c."Name", c."UpdatedBy", c."UpdatedDate"
FROM "Customers" AS c
WHERE c."Email" = @__orderDto_Customer_Email_0
LIMIT 1
2024-09-29 19:46:43.252 +03:00 [DBG] Context 'DataContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 19:46:43.253 +03:00 [DBG] A data reader was disposed.
2024-09-29 19:46:43.254 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:46:43.254 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:47:04.570 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 19:47:04.571 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-29 19:47:04.572 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:47:04.575 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:47:04.576 +03:00 [DBG] Executing DbCommand [Parameters=[@__item_Barcode_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Barcode", p."CreatedBy", p."CreatedDate", p."CustomerOrderId", p."Description", p."IsDeleted", p."Price", p."Quantity", p."UpdatedBy", p."UpdatedDate"
FROM "Products" AS p
WHERE p."Barcode" = @__item_Barcode_0
LIMIT 1
2024-09-29 19:47:04.578 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__item_Barcode_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Barcode", p."CreatedBy", p."CreatedDate", p."CustomerOrderId", p."Description", p."IsDeleted", p."Price", p."Quantity", p."UpdatedBy", p."UpdatedDate"
FROM "Products" AS p
WHERE p."Barcode" = @__item_Barcode_0
LIMIT 1
2024-09-29 19:47:04.580 +03:00 [DBG] A data reader was disposed.
2024-09-29 19:47:04.581 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:47:04.582 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:47:06.077 +03:00 [DBG] 'DataContext' generated a temporary value for the property 'Id.CustomerOrder'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 19:47:06.080 +03:00 [DBG] Context 'DataContext' started tracking 'CustomerOrder' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 19:47:06.669 +03:00 [DBG] SaveChanges starting for 'DataContext'.
2024-09-29 19:47:06.670 +03:00 [DBG] DetectChanges starting for 'DataContext'.
2024-09-29 19:47:06.671 +03:00 [DBG] DetectChanges completed for 'DataContext'.
2024-09-29 19:47:06.672 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:47:06.673 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:47:06.674 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-29 19:47:06.675 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-29 19:47:06.677 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 19:47:06.677 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-29 19:47:06.679 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "CustomerOrders" ("CreatedBy", "CreatedDate", "CustomerId", "IsDeleted", "UpdatedBy", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING "Id";
2024-09-29 19:47:06.683 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "CustomerOrders" ("CreatedBy", "CreatedDate", "CustomerId", "IsDeleted", "UpdatedBy", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING "Id";
2024-09-29 19:47:06.704 +03:00 [DBG] The foreign key property 'CustomerOrder.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-29 19:47:06.706 +03:00 [DBG] A data reader was disposed.
2024-09-29 19:47:06.708 +03:00 [DBG] Committing transaction.
2024-09-29 19:47:06.710 +03:00 [DBG] Committed transaction.
2024-09-29 19:47:06.711 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:47:06.712 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:47:06.713 +03:00 [DBG] Disposing transaction.
2024-09-29 19:47:06.714 +03:00 [DBG] An entity of type 'CustomerOrder' tracked by 'DataContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 19:47:06.716 +03:00 [DBG] SaveChanges completed for 'DataContext' with 1 entities written to the database.
2024-09-29 19:47:43.450 +03:00 [INF] Starting web host
2024-09-29 19:47:44.303 +03:00 [DBG] Hosting starting
2024-09-29 19:47:44.407 +03:00 [INF] User profile is available. Using 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-29 19:47:44.445 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-0aa42add-f3b4-405e-a8c2-992d6e29a85c.xml'.
2024-09-29 19:47:44.479 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-71b87755-2ee9-43e6-87de-6c92ed7c99a6.xml'.
2024-09-29 19:47:44.484 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-acea2ac6-9b67-4521-b460-630e25f9dc5a.xml'.
2024-09-29 19:47:44.495 +03:00 [DBG] Found key {0aa42add-f3b4-405e-a8c2-992d6e29a85c}.
2024-09-29 19:47:44.512 +03:00 [DBG] Found key {71b87755-2ee9-43e6-87de-6c92ed7c99a6}.
2024-09-29 19:47:44.559 +03:00 [DBG] Found key {acea2ac6-9b67-4521-b460-630e25f9dc5a}.
2024-09-29 19:47:44.584 +03:00 [DBG] Considering key {acea2ac6-9b67-4521-b460-630e25f9dc5a} with expiration date 2024-10-15 10:31:27Z as default key.
2024-09-29 19:47:44.628 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-29 19:47:44.637 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-29 19:47:44.658 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-29 19:47:44.670 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-29 19:47:44.678 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-29 19:47:44.684 +03:00 [DBG] Using key {acea2ac6-9b67-4521-b460-630e25f9dc5a} as the default key.
2024-09-29 19:47:44.687 +03:00 [DBG] Key ring with default key {acea2ac6-9b67-4521-b460-630e25f9dc5a} was loaded during application startup.
2024-09-29 19:47:45.191 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: D6697AE29B19EBA86816E6295ADBAF33F0642E18)
2024-09-29 19:47:45.217 +03:00 [INF] Now listening on: https://localhost:5001
2024-09-29 19:47:45.218 +03:00 [INF] Now listening on: http://localhost:5000
2024-09-29 19:47:45.218 +03:00 [DBG] Loaded hosting startup assembly CustomerOrder.API
2024-09-29 19:47:45.219 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-29 19:47:45.219 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-29 19:47:45.220 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-29 19:47:45.221 +03:00 [INF] Hosting environment: Development
2024-09-29 19:47:45.222 +03:00 [INF] Content root path: C:\Users\cagrie\source\repos\CustomerOrder\CustomerOrder.API
2024-09-29 19:47:45.222 +03:00 [DBG] Hosting started
2024-09-29 19:47:45.604 +03:00 [DBG] Connection id "0HN70KPOQNCS3" received FIN.
2024-09-29 19:47:45.604 +03:00 [DBG] Connection id "0HN70KPOQNCS4" received FIN.
2024-09-29 19:47:45.609 +03:00 [DBG] Connection id "0HN70KPOQNCS5" accepted.
2024-09-29 19:47:45.609 +03:00 [DBG] Connection id "0HN70KPOQNCS6" accepted.
2024-09-29 19:47:45.613 +03:00 [DBG] Connection id "0HN70KPOQNCS6" started.
2024-09-29 19:47:45.613 +03:00 [DBG] Connection id "0HN70KPOQNCS5" started.
2024-09-29 19:47:45.642 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.<>c.<ProcessAuthenticationWithTelemetry>b__169_2(Task t, Object s)
   at System.Threading.Tasks.ContinuationTaskFromTask.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-29 19:47:45.642 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.<>c.<ProcessAuthenticationWithTelemetry>b__169_2(Task t, Object s)
   at System.Threading.Tasks.ContinuationTaskFromTask.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-29 19:47:45.686 +03:00 [DBG] Connection id "0HN70KPOQNCS5" stopped.
2024-09-29 19:47:45.686 +03:00 [DBG] Connection id "0HN70KPOQNCS6" stopped.
2024-09-29 19:47:45.688 +03:00 [DBG] Connection id "0HN70KPOQNCS5" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 19:47:45.688 +03:00 [DBG] Connection id "0HN70KPOQNCS6" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 19:47:52.378 +03:00 [DBG] Connection id "0HN70KPOQNCS7" accepted.
2024-09-29 19:47:52.380 +03:00 [DBG] Connection id "0HN70KPOQNCS7" started.
2024-09-29 19:47:52.491 +03:00 [DBG] Connection "0HN70KPOQNCS7" established using the following protocol: "Tls13"
2024-09-29 19:47:52.592 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2024-09-29 19:47:52.701 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-29 19:47:52.950 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-29 19:47:52.973 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-29 19:47:52.984 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - -
2024-09-29 19:47:52.984 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - -
2024-09-29 19:47:52.987 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 399.5044ms
2024-09-29 19:47:52.991 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - - - 200 12366 application/javascript;+charset=utf-8 6.7347ms
2024-09-29 19:47:53.042 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 58.6286ms
2024-09-29 19:47:53.082 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2024-09-29 19:47:53.205 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 123.0338ms
2024-09-29 19:48:11.193 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/CustomerOrders/add application/json 147
2024-09-29 19:48:11.198 +03:00 [DBG] POST requests are not supported
2024-09-29 19:48:11.239 +03:00 [DBG] 1 candidate(s) found for the request path '/api/CustomerOrders/add'
2024-09-29 19:48:11.243 +03:00 [DBG] Endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API)' with route pattern 'api/CustomerOrders/add' is valid for the request path '/api/CustomerOrders/add'
2024-09-29 19:48:11.246 +03:00 [DBG] Request matched endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API)'
2024-09-29 19:48:11.340 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-29 19:48:11.345 +03:00 [INF] Executing endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API)'
2024-09-29 19:48:11.355 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-29 19:48:11.416 +03:00 [INF] Route matched with {action = "Add", controller = "CustomerOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto]] Add(CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto) on controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API).
2024-09-29 19:48:11.420 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-29 19:48:11.423 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-29 19:48:11.424 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-29 19:48:11.425 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-29 19:48:11.427 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-29 19:48:11.429 +03:00 [DBG] Executing controller factory for controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API)
2024-09-29 19:48:11.566 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-29 19:48:11.794 +03:00 [DBG] Executed controller factory for controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API)
2024-09-29 19:48:11.806 +03:00 [DBG] Attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto' ...
2024-09-29 19:48:11.810 +03:00 [DBG] Attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto' using the name '' in request data ...
2024-09-29 19:48:11.813 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-29 19:48:11.830 +03:00 [DBG] Connection id "0HN70KPOQNCS7", Request id "0HN70KPOQNCS7:00000009": started reading request body.
2024-09-29 19:48:11.834 +03:00 [DBG] Connection id "0HN70KPOQNCS7", Request id "0HN70KPOQNCS7:00000009": done reading request body.
2024-09-29 19:48:11.855 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'
2024-09-29 19:48:11.856 +03:00 [DBG] Done attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 19:48:11.857 +03:00 [DBG] Done attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 19:48:11.859 +03:00 [DBG] Attempting to validate the bound parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto' ...
2024-09-29 19:48:11.862 +03:00 [DBG] Done attempting to validate the bound parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 19:48:15.001 +03:00 [DBG] The property 'CustomerOrderId.Product' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-29 19:48:15.129 +03:00 [INF] Entity Framework Core 5.0.10 initialized 'DataContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2024-09-29 19:48:15.186 +03:00 [DBG] Compiling query expression: 
'DbSet<Customer>()
    .FirstOrDefault(c => c.Email == __orderDto_Customer_Email_0)'
2024-09-29 19:48:15.397 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Customer>(
    asyncEnumerable: new SingleQueryingEnumerable<Customer>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Customer.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Customer.Address (string) Required, 1], [Property: Customer.CreatedBy (int) Required, 2], [Property: Customer.CreatedDate (DateTime) Required, 3], [Property: Customer.Email (string) Required, 4], [Property: Customer.IsDeleted (bool) Required, 5], [Property: Customer.Name (string) Required, 6], [Property: Customer.UpdatedBy (Nullable<int>), 7], [Property: Customer.UpdatedDate (Nullable<DateTime>), 8], }
            SELECT TOP(1) c.Id, c.Address, c.CreatedBy, c.CreatedDate, c.Email, c.IsDeleted, c.Name, c.UpdatedBy, c.UpdatedDate
            FROM Customers AS c
            WHERE c.Email == @__orderDto_Customer_Email_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Customer>, 
        CustomerOrder.Data.Context.DataContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-29 19:48:15.457 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 19:48:15.480 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (20ms).
2024-09-29 19:48:15.491 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:48:15.994 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:48:16.007 +03:00 [DBG] Executing DbCommand [Parameters=[@__orderDto_Customer_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Address", c."CreatedBy", c."CreatedDate", c."Email", c."IsDeleted", c."Name", c."UpdatedBy", c."UpdatedDate"
FROM "Customers" AS c
WHERE c."Email" = @__orderDto_Customer_Email_0
LIMIT 1
2024-09-29 19:48:16.031 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__orderDto_Customer_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Address", c."CreatedBy", c."CreatedDate", c."Email", c."IsDeleted", c."Name", c."UpdatedBy", c."UpdatedDate"
FROM "Customers" AS c
WHERE c."Email" = @__orderDto_Customer_Email_0
LIMIT 1
2024-09-29 19:48:16.081 +03:00 [DBG] Context 'DataContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 19:48:16.149 +03:00 [DBG] A data reader was disposed.
2024-09-29 19:48:16.155 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:48:16.165 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:48:16.193 +03:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .FirstOrDefault(p => p.Barcode == __item_Barcode_0)'
2024-09-29 19:48:16.205 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Product>(
    asyncEnumerable: new SingleQueryingEnumerable<Product>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Product.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Product.Barcode (string), 1], [Property: Product.CreatedBy (int) Required, 2], [Property: Product.CreatedDate (DateTime) Required, 3], [Property: Product.CustomerOrderId (no field, Nullable<int>) Shadow FK Index, 4], [Property: Product.Description (string), 5], [Property: Product.IsDeleted (bool) Required, 6], [Property: Product.Price (decimal) Required, 7], [Property: Product.Quantity (int) Required, 8], [Property: Product.UpdatedBy (Nullable<int>), 9], [Property: Product.UpdatedDate (Nullable<DateTime>), 10], }
            SELECT TOP(1) p.Id, p.Barcode, p.CreatedBy, p.CreatedDate, p.CustomerOrderId, p.Description, p.IsDeleted, p.Price, p.Quantity, p.UpdatedBy, p.UpdatedDate
            FROM Products AS p
            WHERE p.Barcode == @__item_Barcode_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Product>, 
        CustomerOrder.Data.Context.DataContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-29 19:48:16.215 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 19:48:16.217 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-29 19:48:16.218 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:48:16.219 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:48:16.221 +03:00 [DBG] Executing DbCommand [Parameters=[@__item_Barcode_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Barcode", p."CreatedBy", p."CreatedDate", p."CustomerOrderId", p."Description", p."IsDeleted", p."Price", p."Quantity", p."UpdatedBy", p."UpdatedDate"
FROM "Products" AS p
WHERE p."Barcode" = @__item_Barcode_0
LIMIT 1
2024-09-29 19:48:16.226 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__item_Barcode_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Barcode", p."CreatedBy", p."CreatedDate", p."CustomerOrderId", p."Description", p."IsDeleted", p."Price", p."Quantity", p."UpdatedBy", p."UpdatedDate"
FROM "Products" AS p
WHERE p."Barcode" = @__item_Barcode_0
LIMIT 1
2024-09-29 19:48:16.229 +03:00 [DBG] A data reader was disposed.
2024-09-29 19:48:16.230 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:48:16.232 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:48:17.530 +03:00 [DBG] 'DataContext' generated a temporary value for the property 'Id.CustomerOrder'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 19:48:17.568 +03:00 [DBG] Context 'DataContext' started tracking 'CustomerOrder' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 19:48:18.152 +03:00 [DBG] SaveChanges starting for 'DataContext'.
2024-09-29 19:48:18.158 +03:00 [DBG] DetectChanges starting for 'DataContext'.
2024-09-29 19:48:18.175 +03:00 [DBG] DetectChanges completed for 'DataContext'.
2024-09-29 19:48:18.193 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:48:18.198 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:48:18.201 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-29 19:48:18.206 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-29 19:48:18.282 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 19:48:18.285 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-29 19:48:18.288 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "CustomerOrders" ("CreatedBy", "CreatedDate", "CustomerId", "IsDeleted", "UpdatedBy", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING "Id";
2024-09-29 19:48:18.298 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "CustomerOrders" ("CreatedBy", "CreatedDate", "CustomerId", "IsDeleted", "UpdatedBy", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING "Id";
2024-09-29 19:48:18.332 +03:00 [DBG] The foreign key property 'CustomerOrder.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-29 19:48:18.339 +03:00 [DBG] A data reader was disposed.
2024-09-29 19:48:18.341 +03:00 [DBG] Committing transaction.
2024-09-29 19:48:18.348 +03:00 [DBG] Committed transaction.
2024-09-29 19:48:18.352 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:48:18.353 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:48:18.355 +03:00 [DBG] Disposing transaction.
2024-09-29 19:48:18.368 +03:00 [DBG] An entity of type 'CustomerOrder' tracked by 'DataContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 19:48:18.373 +03:00 [DBG] SaveChanges completed for 'DataContext' with 1 entities written to the database.
2024-09-29 19:48:19.067 +03:00 [DBG] 'DataContext' generated a temporary value for the property 'Id.Product'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 19:48:19.089 +03:00 [DBG] Context 'DataContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 19:48:19.607 +03:00 [DBG] SaveChanges starting for 'DataContext'.
2024-09-29 19:48:19.609 +03:00 [DBG] DetectChanges starting for 'DataContext'.
2024-09-29 19:48:19.620 +03:00 [DBG] DetectChanges completed for 'DataContext'.
2024-09-29 19:48:19.621 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:48:19.623 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:48:19.625 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-29 19:48:19.627 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-29 19:48:19.628 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 19:48:19.630 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-29 19:48:19.631 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Products" ("Barcode", "CreatedBy", "CreatedDate", "CustomerOrderId", "Description", "IsDeleted", "Price", "Quantity", "UpdatedBy", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9)
RETURNING "Id";
2024-09-29 19:48:19.658 +03:00 [ERR] Failed executing DbCommand (27ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Products" ("Barcode", "CreatedBy", "CreatedDate", "CustomerOrderId", "Description", "IsDeleted", "Price", "Quantity", "UpdatedBy", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9)
RETURNING "Id";
2024-09-29 19:48:19.672 +03:00 [DBG] Disposing transaction.
2024-09-29 19:48:19.674 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:48:19.675 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:48:19.691 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'CustomerOrder.Data.Context.DataContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "PK_Products"
   at Npgsql.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|194_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "PK_Products"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Products
    ConstraintName: PK_Products
    File: nbtinsert.c
    Line: 673
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "PK_Products"
   at Npgsql.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|194_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "PK_Products"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Products
    ConstraintName: PK_Products
    File: nbtinsert.c
    Line: 673
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-09-29 19:48:25.068 +03:00 [INF] error: An error occurred while updating the entries. See the inner exception for details.
2024-09-29 19:48:25.138 +03:00 [INF] Executed action CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API) in 13701.686ms
2024-09-29 19:48:25.143 +03:00 [INF] Executed endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API)'
2024-09-29 19:48:25.149 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: An error occurred while adding the order: An error occurred while updating the entries. See the inner exception for details.
   at CustomerOrder.API.Services.CustomerOrdersService.AddCustomerOrderAsync(CustomerOrderDto orderDto) in C:\Users\cagrie\source\repos\CustomerOrder\CustomerOrder.API\Services\CustomerOrdersService.cs:line 145
   at CustomerOrder.API.Controllers.CustomerOrdersController.Add(CustomerOrderDto orderDto) in C:\Users\cagrie\source\repos\CustomerOrder\CustomerOrder.API\Controllers\CustomerOrdersController.cs:line 26
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-09-29 19:48:25.185 +03:00 [DBG] 'DataContext' disposed.
2024-09-29 19:48:25.189 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/CustomerOrders/add application/json 147 - 500 - text/plain 13996.6328ms
2024-09-29 19:48:42.352 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/CustomerOrders/add application/json 138
2024-09-29 19:48:42.354 +03:00 [DBG] POST requests are not supported
2024-09-29 19:48:42.361 +03:00 [DBG] 1 candidate(s) found for the request path '/api/CustomerOrders/add'
2024-09-29 19:48:42.362 +03:00 [DBG] Endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API)' with route pattern 'api/CustomerOrders/add' is valid for the request path '/api/CustomerOrders/add'
2024-09-29 19:48:42.367 +03:00 [DBG] Request matched endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API)'
2024-09-29 19:48:42.368 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-29 19:48:42.369 +03:00 [INF] Executing endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API)'
2024-09-29 19:48:42.370 +03:00 [INF] Route matched with {action = "Add", controller = "CustomerOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto]] Add(CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto) on controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API).
2024-09-29 19:48:42.372 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-29 19:48:42.373 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-29 19:48:42.374 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-29 19:48:42.375 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-29 19:48:42.376 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-29 19:48:42.377 +03:00 [DBG] Executing controller factory for controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API)
2024-09-29 19:48:42.378 +03:00 [DBG] Executed controller factory for controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API)
2024-09-29 19:48:42.379 +03:00 [DBG] Attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto' ...
2024-09-29 19:48:42.380 +03:00 [DBG] Attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto' using the name '' in request data ...
2024-09-29 19:48:42.381 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-29 19:48:42.382 +03:00 [DBG] Connection id "0HN70KPOQNCS7", Request id "0HN70KPOQNCS7:0000000B": started reading request body.
2024-09-29 19:48:42.383 +03:00 [DBG] Connection id "0HN70KPOQNCS7", Request id "0HN70KPOQNCS7:0000000B": done reading request body.
2024-09-29 19:48:42.384 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'
2024-09-29 19:48:42.384 +03:00 [DBG] Done attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 19:48:42.385 +03:00 [DBG] Done attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 19:48:42.386 +03:00 [DBG] Attempting to validate the bound parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto' ...
2024-09-29 19:48:42.388 +03:00 [DBG] Done attempting to validate the bound parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 19:48:44.494 +03:00 [INF] Entity Framework Core 5.0.10 initialized 'DataContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2024-09-29 19:48:44.499 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 19:48:44.499 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-29 19:48:44.501 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:48:44.503 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:48:44.504 +03:00 [DBG] Executing DbCommand [Parameters=[@__orderDto_Customer_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Address", c."CreatedBy", c."CreatedDate", c."Email", c."IsDeleted", c."Name", c."UpdatedBy", c."UpdatedDate"
FROM "Customers" AS c
WHERE c."Email" = @__orderDto_Customer_Email_0
LIMIT 1
2024-09-29 19:48:44.506 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__orderDto_Customer_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Address", c."CreatedBy", c."CreatedDate", c."Email", c."IsDeleted", c."Name", c."UpdatedBy", c."UpdatedDate"
FROM "Customers" AS c
WHERE c."Email" = @__orderDto_Customer_Email_0
LIMIT 1
2024-09-29 19:48:44.509 +03:00 [DBG] A data reader was disposed.
2024-09-29 19:48:44.509 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:48:44.510 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:48:44.512 +03:00 [DBG] 'DataContext' generated a temporary value for the property 'Id.Customer'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 19:48:44.514 +03:00 [DBG] Context 'DataContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 19:48:44.514 +03:00 [DBG] SaveChanges starting for 'DataContext'.
2024-09-29 19:48:44.515 +03:00 [DBG] DetectChanges starting for 'DataContext'.
2024-09-29 19:48:44.515 +03:00 [DBG] DetectChanges completed for 'DataContext'.
2024-09-29 19:48:44.516 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:48:44.517 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:48:44.518 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-29 19:48:44.518 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-29 19:48:44.520 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 19:48:44.521 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-29 19:48:44.522 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Customers" ("Address", "CreatedBy", "CreatedDate", "Email", "IsDeleted", "Name", "UpdatedBy", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "Id";
2024-09-29 19:48:44.527 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Customers" ("Address", "CreatedBy", "CreatedDate", "Email", "IsDeleted", "Name", "UpdatedBy", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "Id";
2024-09-29 19:48:44.529 +03:00 [DBG] The foreign key property 'Customer.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-29 19:48:44.530 +03:00 [DBG] A data reader was disposed.
2024-09-29 19:48:44.531 +03:00 [DBG] Committing transaction.
2024-09-29 19:48:44.532 +03:00 [DBG] Committed transaction.
2024-09-29 19:48:44.532 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:48:44.533 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:48:44.534 +03:00 [DBG] Disposing transaction.
2024-09-29 19:48:44.535 +03:00 [DBG] An entity of type 'Customer' tracked by 'DataContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 19:48:44.537 +03:00 [DBG] SaveChanges completed for 'DataContext' with 1 entities written to the database.
2024-09-29 19:48:44.538 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 19:48:44.539 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-29 19:48:44.540 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:48:44.540 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:48:44.541 +03:00 [DBG] Executing DbCommand [Parameters=[@__item_Barcode_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Barcode", p."CreatedBy", p."CreatedDate", p."CustomerOrderId", p."Description", p."IsDeleted", p."Price", p."Quantity", p."UpdatedBy", p."UpdatedDate"
FROM "Products" AS p
WHERE p."Barcode" = @__item_Barcode_0
LIMIT 1
2024-09-29 19:48:44.543 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__item_Barcode_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Barcode", p."CreatedBy", p."CreatedDate", p."CustomerOrderId", p."Description", p."IsDeleted", p."Price", p."Quantity", p."UpdatedBy", p."UpdatedDate"
FROM "Products" AS p
WHERE p."Barcode" = @__item_Barcode_0
LIMIT 1
2024-09-29 19:48:44.544 +03:00 [DBG] A data reader was disposed.
2024-09-29 19:48:44.544 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:48:44.545 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:48:58.253 +03:00 [DBG] 'DataContext' generated a temporary value for the property 'Id.CustomerOrder'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 19:48:58.256 +03:00 [DBG] Context 'DataContext' started tracking 'CustomerOrder' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 19:48:58.789 +03:00 [DBG] SaveChanges starting for 'DataContext'.
2024-09-29 19:48:58.790 +03:00 [DBG] DetectChanges starting for 'DataContext'.
2024-09-29 19:48:58.791 +03:00 [DBG] DetectChanges completed for 'DataContext'.
2024-09-29 19:48:58.792 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:48:58.793 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:48:58.793 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-29 19:48:58.794 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-29 19:48:58.795 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 19:48:58.796 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-29 19:48:58.797 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "CustomerOrders" ("CreatedBy", "CreatedDate", "CustomerId", "IsDeleted", "UpdatedBy", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING "Id";
2024-09-29 19:48:58.800 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "CustomerOrders" ("CreatedBy", "CreatedDate", "CustomerId", "IsDeleted", "UpdatedBy", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING "Id";
2024-09-29 19:48:58.817 +03:00 [DBG] The foreign key property 'CustomerOrder.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-29 19:48:58.818 +03:00 [DBG] A data reader was disposed.
2024-09-29 19:48:58.818 +03:00 [DBG] Committing transaction.
2024-09-29 19:48:58.822 +03:00 [DBG] Committed transaction.
2024-09-29 19:48:58.823 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:48:58.824 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:48:58.824 +03:00 [DBG] Disposing transaction.
2024-09-29 19:48:58.825 +03:00 [DBG] An entity of type 'CustomerOrder' tracked by 'DataContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 19:48:58.826 +03:00 [DBG] SaveChanges completed for 'DataContext' with 1 entities written to the database.
2024-09-29 19:48:59.483 +03:00 [DBG] 'DataContext' generated a temporary value for the property 'Id.Product'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 19:48:59.485 +03:00 [DBG] Context 'DataContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 19:49:00.065 +03:00 [DBG] SaveChanges starting for 'DataContext'.
2024-09-29 19:49:00.067 +03:00 [DBG] DetectChanges starting for 'DataContext'.
2024-09-29 19:49:00.069 +03:00 [DBG] DetectChanges completed for 'DataContext'.
2024-09-29 19:49:00.071 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:49:00.072 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:49:00.073 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-29 19:49:00.074 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-29 19:49:00.075 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 19:49:00.076 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-29 19:49:00.077 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Products" ("Barcode", "CreatedBy", "CreatedDate", "CustomerOrderId", "Description", "IsDeleted", "Price", "Quantity", "UpdatedBy", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9)
RETURNING "Id";
2024-09-29 19:49:00.080 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Products" ("Barcode", "CreatedBy", "CreatedDate", "CustomerOrderId", "Description", "IsDeleted", "Price", "Quantity", "UpdatedBy", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9)
RETURNING "Id";
2024-09-29 19:49:00.100 +03:00 [DBG] The foreign key property 'Product.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-29 19:49:00.102 +03:00 [DBG] A data reader was disposed.
2024-09-29 19:49:00.103 +03:00 [DBG] Committing transaction.
2024-09-29 19:49:00.105 +03:00 [DBG] Committed transaction.
2024-09-29 19:49:00.106 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:49:00.107 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:49:00.109 +03:00 [DBG] Disposing transaction.
2024-09-29 19:49:00.111 +03:00 [DBG] An entity of type 'Product' tracked by 'DataContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 19:49:00.113 +03:00 [DBG] SaveChanges completed for 'DataContext' with 1 entities written to the database.
2024-09-29 19:49:04.207 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-29 19:49:04.213 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-09-29 19:49:04.215 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-09-29 19:49:04.216 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-29 19:49:04.217 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-29 19:49:04.218 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-29 19:49:04.219 +03:00 [INF] Executing OkObjectResult, writing value of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 19:49:04.233 +03:00 [INF] Executed action CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API) in 21856.3515ms
2024-09-29 19:49:04.236 +03:00 [INF] Executed endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API)'
2024-09-29 19:49:04.239 +03:00 [DBG] 'DataContext' disposed.
2024-09-29 19:49:04.240 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/CustomerOrders/add application/json 138 - 200 - application/json;+charset=utf-8 21887.5129ms
2024-09-29 19:56:06.522 +03:00 [INF] Starting web host
2024-09-29 19:56:09.415 +03:00 [DBG] Hosting starting
2024-09-29 19:56:09.464 +03:00 [INF] User profile is available. Using 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-29 19:56:09.483 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-0aa42add-f3b4-405e-a8c2-992d6e29a85c.xml'.
2024-09-29 19:56:09.495 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-71b87755-2ee9-43e6-87de-6c92ed7c99a6.xml'.
2024-09-29 19:56:09.496 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-acea2ac6-9b67-4521-b460-630e25f9dc5a.xml'.
2024-09-29 19:56:09.502 +03:00 [DBG] Found key {0aa42add-f3b4-405e-a8c2-992d6e29a85c}.
2024-09-29 19:56:09.509 +03:00 [DBG] Found key {71b87755-2ee9-43e6-87de-6c92ed7c99a6}.
2024-09-29 19:56:09.510 +03:00 [DBG] Found key {acea2ac6-9b67-4521-b460-630e25f9dc5a}.
2024-09-29 19:56:09.516 +03:00 [DBG] Considering key {acea2ac6-9b67-4521-b460-630e25f9dc5a} with expiration date 2024-10-15 10:31:27Z as default key.
2024-09-29 19:56:09.526 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-29 19:56:09.530 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-29 19:56:09.531 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-29 19:56:09.535 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-29 19:56:09.541 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-29 19:56:09.545 +03:00 [DBG] Using key {acea2ac6-9b67-4521-b460-630e25f9dc5a} as the default key.
2024-09-29 19:56:09.547 +03:00 [DBG] Key ring with default key {acea2ac6-9b67-4521-b460-630e25f9dc5a} was loaded during application startup.
2024-09-29 19:56:09.827 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: D6697AE29B19EBA86816E6295ADBAF33F0642E18)
2024-09-29 19:56:09.855 +03:00 [INF] Now listening on: https://localhost:5001
2024-09-29 19:56:09.856 +03:00 [INF] Now listening on: http://localhost:5000
2024-09-29 19:56:09.856 +03:00 [DBG] Loaded hosting startup assembly CustomerOrder.API
2024-09-29 19:56:09.857 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-29 19:56:09.857 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-29 19:56:09.858 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-29 19:56:09.859 +03:00 [INF] Hosting environment: Development
2024-09-29 19:56:09.859 +03:00 [INF] Content root path: C:\Users\cagrie\source\repos\CustomerOrder\CustomerOrder.API
2024-09-29 19:56:09.860 +03:00 [DBG] Hosting started
2024-09-29 19:56:10.209 +03:00 [DBG] Connection id "0HN70KUF70IPN" received FIN.
2024-09-29 19:56:10.209 +03:00 [DBG] Connection id "0HN70KUF70IPO" received FIN.
2024-09-29 19:56:10.221 +03:00 [DBG] Connection id "0HN70KUF70IPN" accepted.
2024-09-29 19:56:10.221 +03:00 [DBG] Connection id "0HN70KUF70IPO" accepted.
2024-09-29 19:56:10.224 +03:00 [DBG] Connection id "0HN70KUF70IPO" started.
2024-09-29 19:56:10.224 +03:00 [DBG] Connection id "0HN70KUF70IPN" started.
2024-09-29 19:56:10.239 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.<>c.<ProcessAuthenticationWithTelemetry>b__169_2(Task t, Object s)
   at System.Threading.Tasks.ContinuationTaskFromTask.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-29 19:56:10.239 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.<>c.<ProcessAuthenticationWithTelemetry>b__169_2(Task t, Object s)
   at System.Threading.Tasks.ContinuationTaskFromTask.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-29 19:56:10.273 +03:00 [DBG] Connection id "0HN70KUF70IPN" stopped.
2024-09-29 19:56:10.273 +03:00 [DBG] Connection id "0HN70KUF70IPO" stopped.
2024-09-29 19:56:10.276 +03:00 [DBG] Connection id "0HN70KUF70IPO" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 19:56:10.276 +03:00 [DBG] Connection id "0HN70KUF70IPN" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 19:56:20.161 +03:00 [DBG] Connection id "0HN70KUF70IPP" accepted.
2024-09-29 19:56:20.163 +03:00 [DBG] Connection id "0HN70KUF70IPP" started.
2024-09-29 19:56:20.227 +03:00 [DBG] Connection "0HN70KUF70IPP" established using the following protocol: "Tls13"
2024-09-29 19:56:20.312 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2024-09-29 19:56:20.442 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-29 19:56:20.686 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-29 19:56:20.696 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-29 19:56:20.707 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - -
2024-09-29 19:56:20.707 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - -
2024-09-29 19:56:20.707 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 401.6379ms
2024-09-29 19:56:20.719 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - - - 200 12366 application/javascript;+charset=utf-8 9.8361ms
2024-09-29 19:56:20.768 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 60.6831ms
2024-09-29 19:56:20.798 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2024-09-29 19:56:20.905 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 106.9396ms
2024-09-29 19:56:40.443 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/CustomerOrders/add application/json 142
2024-09-29 19:56:40.447 +03:00 [DBG] POST requests are not supported
2024-09-29 19:56:40.484 +03:00 [DBG] 1 candidate(s) found for the request path '/api/CustomerOrders/add'
2024-09-29 19:56:40.492 +03:00 [DBG] Endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API)' with route pattern 'api/CustomerOrders/add' is valid for the request path '/api/CustomerOrders/add'
2024-09-29 19:56:40.495 +03:00 [DBG] Request matched endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API)'
2024-09-29 19:56:40.611 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-29 19:56:40.616 +03:00 [INF] Executing endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API)'
2024-09-29 19:56:40.628 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-29 19:56:40.688 +03:00 [INF] Route matched with {action = "Add", controller = "CustomerOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto]] Add(CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto) on controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API).
2024-09-29 19:56:40.694 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-29 19:56:40.697 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-29 19:56:40.698 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-29 19:56:40.699 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-29 19:56:40.699 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-29 19:56:40.701 +03:00 [DBG] Executing controller factory for controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API)
2024-09-29 19:56:41.184 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-29 19:56:41.453 +03:00 [DBG] Executed controller factory for controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API)
2024-09-29 19:56:41.470 +03:00 [DBG] Attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto' ...
2024-09-29 19:56:41.474 +03:00 [DBG] Attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto' using the name '' in request data ...
2024-09-29 19:56:41.477 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-29 19:56:41.500 +03:00 [DBG] Connection id "0HN70KUF70IPP", Request id "0HN70KUF70IPP:00000009": started reading request body.
2024-09-29 19:56:41.502 +03:00 [DBG] Connection id "0HN70KUF70IPP", Request id "0HN70KUF70IPP:00000009": done reading request body.
2024-09-29 19:56:41.543 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'
2024-09-29 19:56:41.545 +03:00 [DBG] Done attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 19:56:41.547 +03:00 [DBG] Done attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 19:56:41.549 +03:00 [DBG] Attempting to validate the bound parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto' ...
2024-09-29 19:56:41.557 +03:00 [DBG] Done attempting to validate the bound parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 19:56:43.526 +03:00 [INF] Entity Framework Core 5.0.10 initialized 'DataContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2024-09-29 19:56:43.588 +03:00 [DBG] Compiling query expression: 
'DbSet<Customer>()
    .FirstOrDefault(c => c.Email == __orderDto_Customer_Email_0)'
2024-09-29 19:56:43.789 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Customer>(
    asyncEnumerable: new SingleQueryingEnumerable<Customer>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Customer.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Customer.Address (string) Required, 1], [Property: Customer.CreatedBy (int) Required, 2], [Property: Customer.CreatedDate (DateTime) Required, 3], [Property: Customer.Email (string) Required, 4], [Property: Customer.IsDeleted (bool) Required, 5], [Property: Customer.Name (string) Required, 6], [Property: Customer.UpdatedBy (Nullable<int>), 7], [Property: Customer.UpdatedDate (Nullable<DateTime>), 8], }
            SELECT TOP(1) c.Id, c.Address, c.CreatedBy, c.CreatedDate, c.Email, c.IsDeleted, c.Name, c.UpdatedBy, c.UpdatedDate
            FROM Customers AS c
            WHERE c.Email == @__orderDto_Customer_Email_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Customer>, 
        CustomerOrder.Data.Context.DataContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-29 19:56:43.838 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 19:56:43.870 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (22ms).
2024-09-29 19:56:43.881 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:56:44.415 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:56:44.430 +03:00 [DBG] Executing DbCommand [Parameters=[@__orderDto_Customer_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Address", c."CreatedBy", c."CreatedDate", c."Email", c."IsDeleted", c."Name", c."UpdatedBy", c."UpdatedDate"
FROM "Customers" AS c
WHERE c."Email" = @__orderDto_Customer_Email_0
LIMIT 1
2024-09-29 19:56:44.458 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@__orderDto_Customer_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Address", c."CreatedBy", c."CreatedDate", c."Email", c."IsDeleted", c."Name", c."UpdatedBy", c."UpdatedDate"
FROM "Customers" AS c
WHERE c."Email" = @__orderDto_Customer_Email_0
LIMIT 1
2024-09-29 19:56:44.466 +03:00 [DBG] A data reader was disposed.
2024-09-29 19:56:44.470 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:56:44.478 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:56:44.540 +03:00 [DBG] 'DataContext' generated a temporary value for the property 'Id.Customer'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 19:56:44.629 +03:00 [DBG] Context 'DataContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 19:56:44.638 +03:00 [DBG] SaveChanges starting for 'DataContext'.
2024-09-29 19:56:44.643 +03:00 [DBG] DetectChanges starting for 'DataContext'.
2024-09-29 19:56:44.661 +03:00 [DBG] DetectChanges completed for 'DataContext'.
2024-09-29 19:56:44.682 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:56:44.684 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:56:44.686 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-29 19:56:44.692 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-29 19:56:44.738 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 19:56:44.739 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-29 19:56:44.743 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Customers" ("Address", "CreatedBy", "CreatedDate", "Email", "IsDeleted", "Name", "UpdatedBy", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "Id";
2024-09-29 19:56:44.752 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Customers" ("Address", "CreatedBy", "CreatedDate", "Email", "IsDeleted", "Name", "UpdatedBy", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "Id";
2024-09-29 19:56:44.777 +03:00 [DBG] The foreign key property 'Customer.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-29 19:56:44.784 +03:00 [DBG] A data reader was disposed.
2024-09-29 19:56:44.791 +03:00 [DBG] Committing transaction.
2024-09-29 19:56:44.800 +03:00 [DBG] Committed transaction.
2024-09-29 19:56:44.803 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:56:44.805 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:56:44.808 +03:00 [DBG] Disposing transaction.
2024-09-29 19:56:44.821 +03:00 [DBG] An entity of type 'Customer' tracked by 'DataContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 19:56:44.827 +03:00 [DBG] SaveChanges completed for 'DataContext' with 1 entities written to the database.
2024-09-29 19:56:44.836 +03:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .FirstOrDefault(p => p.Barcode == __item_Barcode_0)'
2024-09-29 19:56:44.842 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Product>(
    asyncEnumerable: new SingleQueryingEnumerable<Product>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Product.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Product.Barcode (string), 1], [Property: Product.CreatedBy (int) Required, 2], [Property: Product.CreatedDate (DateTime) Required, 3], [Property: Product.CustomerOrderId (int) Required FK Index, 4], [Property: Product.Description (string), 5], [Property: Product.IsDeleted (bool) Required, 6], [Property: Product.Price (decimal) Required, 7], [Property: Product.Quantity (int) Required, 8], [Property: Product.UpdatedBy (Nullable<int>), 9], [Property: Product.UpdatedDate (Nullable<DateTime>), 10], }
            SELECT TOP(1) p.Id, p.Barcode, p.CreatedBy, p.CreatedDate, p.CustomerOrderId, p.Description, p.IsDeleted, p.Price, p.Quantity, p.UpdatedBy, p.UpdatedDate
            FROM Products AS p
            WHERE p.Barcode == @__item_Barcode_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Product>, 
        CustomerOrder.Data.Context.DataContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-29 19:56:44.853 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 19:56:44.854 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-29 19:56:44.855 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:56:44.857 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:56:44.860 +03:00 [DBG] Executing DbCommand [Parameters=[@__item_Barcode_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Barcode", p."CreatedBy", p."CreatedDate", p."CustomerOrderId", p."Description", p."IsDeleted", p."Price", p."Quantity", p."UpdatedBy", p."UpdatedDate"
FROM "Products" AS p
WHERE p."Barcode" = @__item_Barcode_0
LIMIT 1
2024-09-29 19:56:44.865 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__item_Barcode_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Barcode", p."CreatedBy", p."CreatedDate", p."CustomerOrderId", p."Description", p."IsDeleted", p."Price", p."Quantity", p."UpdatedBy", p."UpdatedDate"
FROM "Products" AS p
WHERE p."Barcode" = @__item_Barcode_0
LIMIT 1
2024-09-29 19:56:44.866 +03:00 [DBG] A data reader was disposed.
2024-09-29 19:56:44.867 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:56:44.868 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:56:46.021 +03:00 [DBG] 'DataContext' generated a temporary value for the property 'Id.CustomerOrder'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 19:56:46.039 +03:00 [DBG] Context 'DataContext' started tracking 'CustomerOrder' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 19:56:46.474 +03:00 [DBG] SaveChanges starting for 'DataContext'.
2024-09-29 19:56:46.475 +03:00 [DBG] DetectChanges starting for 'DataContext'.
2024-09-29 19:56:46.482 +03:00 [DBG] DetectChanges completed for 'DataContext'.
2024-09-29 19:56:46.485 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:56:46.486 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:56:46.487 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-29 19:56:46.489 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-29 19:56:46.491 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 19:56:46.492 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-29 19:56:46.493 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "CustomerOrders" ("CreatedBy", "CreatedDate", "CustomerId", "IsDeleted", "UpdatedBy", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING "Id";
2024-09-29 19:56:46.497 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "CustomerOrders" ("CreatedBy", "CreatedDate", "CustomerId", "IsDeleted", "UpdatedBy", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING "Id";
2024-09-29 19:56:46.516 +03:00 [DBG] The foreign key property 'CustomerOrder.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-29 19:56:46.518 +03:00 [DBG] A data reader was disposed.
2024-09-29 19:56:46.518 +03:00 [DBG] Committing transaction.
2024-09-29 19:56:46.519 +03:00 [DBG] Committed transaction.
2024-09-29 19:56:46.520 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:56:46.520 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:56:46.521 +03:00 [DBG] Disposing transaction.
2024-09-29 19:56:46.522 +03:00 [DBG] An entity of type 'CustomerOrder' tracked by 'DataContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 19:56:46.524 +03:00 [DBG] SaveChanges completed for 'DataContext' with 1 entities written to the database.
2024-09-29 19:56:55.947 +03:00 [DBG] 'DataContext' generated a temporary value for the property 'Id.Product'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 19:56:55.985 +03:00 [DBG] Context 'DataContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 19:56:56.476 +03:00 [DBG] SaveChanges starting for 'DataContext'.
2024-09-29 19:56:56.478 +03:00 [DBG] DetectChanges starting for 'DataContext'.
2024-09-29 19:56:56.484 +03:00 [DBG] DetectChanges completed for 'DataContext'.
2024-09-29 19:56:56.487 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:56:56.491 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:56:56.492 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-29 19:56:56.492 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-29 19:56:56.493 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 19:56:56.493 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-29 19:56:56.494 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Products" ("Barcode", "CreatedBy", "CreatedDate", "CustomerOrderId", "Description", "IsDeleted", "Price", "Quantity", "UpdatedBy", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9)
RETURNING "Id";
2024-09-29 19:56:56.502 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Products" ("Barcode", "CreatedBy", "CreatedDate", "CustomerOrderId", "Description", "IsDeleted", "Price", "Quantity", "UpdatedBy", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9)
RETURNING "Id";
2024-09-29 19:56:56.522 +03:00 [DBG] The foreign key property 'Product.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-29 19:56:56.525 +03:00 [DBG] A data reader was disposed.
2024-09-29 19:56:56.525 +03:00 [DBG] Committing transaction.
2024-09-29 19:56:56.527 +03:00 [DBG] Committed transaction.
2024-09-29 19:56:56.529 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:56:56.530 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 19:56:56.531 +03:00 [DBG] Disposing transaction.
2024-09-29 19:56:56.532 +03:00 [DBG] An entity of type 'Product' tracked by 'DataContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 19:56:56.533 +03:00 [DBG] SaveChanges completed for 'DataContext' with 1 entities written to the database.
2024-09-29 19:56:58.876 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-29 19:56:58.881 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-09-29 19:56:58.883 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-09-29 19:56:58.886 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-29 19:56:58.888 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-29 19:56:58.890 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-29 19:56:58.892 +03:00 [INF] Executing OkObjectResult, writing value of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 19:56:58.912 +03:00 [INF] Executed action CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API) in 18206.8826ms
2024-09-29 19:56:58.917 +03:00 [INF] Executed endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API)'
2024-09-29 19:56:58.920 +03:00 [DBG] 'DataContext' disposed.
2024-09-29 19:56:58.923 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/CustomerOrders/add application/json 142 - 200 - application/json;+charset=utf-8 18480.3453ms
2024-09-29 20:00:43.831 +03:00 [INF] Starting web host
2024-09-29 20:00:45.267 +03:00 [DBG] Hosting starting
2024-09-29 20:00:45.353 +03:00 [INF] User profile is available. Using 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-29 20:00:45.388 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-0aa42add-f3b4-405e-a8c2-992d6e29a85c.xml'.
2024-09-29 20:00:45.413 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-71b87755-2ee9-43e6-87de-6c92ed7c99a6.xml'.
2024-09-29 20:00:45.420 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-acea2ac6-9b67-4521-b460-630e25f9dc5a.xml'.
2024-09-29 20:00:45.431 +03:00 [DBG] Found key {0aa42add-f3b4-405e-a8c2-992d6e29a85c}.
2024-09-29 20:00:45.444 +03:00 [DBG] Found key {71b87755-2ee9-43e6-87de-6c92ed7c99a6}.
2024-09-29 20:00:45.445 +03:00 [DBG] Found key {acea2ac6-9b67-4521-b460-630e25f9dc5a}.
2024-09-29 20:00:45.464 +03:00 [DBG] Considering key {acea2ac6-9b67-4521-b460-630e25f9dc5a} with expiration date 2024-10-15 10:31:27Z as default key.
2024-09-29 20:00:45.485 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-29 20:00:45.495 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-29 20:00:45.497 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-29 20:00:45.503 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-29 20:00:45.508 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-29 20:00:45.512 +03:00 [DBG] Using key {acea2ac6-9b67-4521-b460-630e25f9dc5a} as the default key.
2024-09-29 20:00:45.513 +03:00 [DBG] Key ring with default key {acea2ac6-9b67-4521-b460-630e25f9dc5a} was loaded during application startup.
2024-09-29 20:00:45.952 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: D6697AE29B19EBA86816E6295ADBAF33F0642E18)
2024-09-29 20:00:45.979 +03:00 [INF] Now listening on: https://localhost:5001
2024-09-29 20:00:45.979 +03:00 [INF] Now listening on: http://localhost:5000
2024-09-29 20:00:45.980 +03:00 [DBG] Loaded hosting startup assembly CustomerOrder.API
2024-09-29 20:00:45.981 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-29 20:00:45.981 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-29 20:00:45.982 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-29 20:00:45.982 +03:00 [INF] Hosting environment: Development
2024-09-29 20:00:45.983 +03:00 [INF] Content root path: C:\Users\cagrie\source\repos\CustomerOrder\CustomerOrder.API
2024-09-29 20:00:45.984 +03:00 [DBG] Hosting started
2024-09-29 20:00:46.495 +03:00 [DBG] Connection id "0HN70L11HSE57" received FIN.
2024-09-29 20:00:46.495 +03:00 [DBG] Connection id "0HN70L11HSE58" received FIN.
2024-09-29 20:00:46.501 +03:00 [DBG] Connection id "0HN70L11HSE58" accepted.
2024-09-29 20:00:46.501 +03:00 [DBG] Connection id "0HN70L11HSE57" accepted.
2024-09-29 20:00:46.504 +03:00 [DBG] Connection id "0HN70L11HSE57" started.
2024-09-29 20:00:46.504 +03:00 [DBG] Connection id "0HN70L11HSE58" started.
2024-09-29 20:00:46.520 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.<>c.<ProcessAuthenticationWithTelemetry>b__169_2(Task t, Object s)
   at System.Threading.Tasks.ContinuationTaskFromTask.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-29 20:00:46.520 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.<>c.<ProcessAuthenticationWithTelemetry>b__169_2(Task t, Object s)
   at System.Threading.Tasks.ContinuationTaskFromTask.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-29 20:00:46.560 +03:00 [DBG] Connection id "0HN70L11HSE57" stopped.
2024-09-29 20:00:46.560 +03:00 [DBG] Connection id "0HN70L11HSE58" stopped.
2024-09-29 20:00:46.563 +03:00 [DBG] Connection id "0HN70L11HSE57" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 20:00:46.563 +03:00 [DBG] Connection id "0HN70L11HSE58" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 20:00:54.520 +03:00 [DBG] Connection id "0HN70L11HSE59" accepted.
2024-09-29 20:00:54.522 +03:00 [DBG] Connection id "0HN70L11HSE59" started.
2024-09-29 20:00:54.601 +03:00 [DBG] Connection "0HN70L11HSE59" established using the following protocol: "Tls13"
2024-09-29 20:00:54.684 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2024-09-29 20:00:54.789 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-29 20:00:55.008 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-29 20:00:55.020 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-29 20:00:55.028 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - -
2024-09-29 20:00:55.028 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - -
2024-09-29 20:00:55.028 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 347.0307ms
2024-09-29 20:00:55.045 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - - - 200 12366 application/javascript;+charset=utf-8 17.0355ms
2024-09-29 20:00:55.092 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 64.0918ms
2024-09-29 20:00:55.127 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2024-09-29 20:00:55.260 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 132.9257ms
2024-09-29 20:01:13.452 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:5001/api/CustomerOrders/delete/14 - -
2024-09-29 20:01:13.455 +03:00 [DBG] DELETE requests are not supported
2024-09-29 20:01:13.493 +03:00 [DBG] 1 candidate(s) found for the request path '/api/CustomerOrders/delete/14'
2024-09-29 20:01:13.502 +03:00 [DBG] Endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Delete (CustomerOrder.API)' with route pattern 'api/CustomerOrders/delete/{id}' is valid for the request path '/api/CustomerOrders/delete/14'
2024-09-29 20:01:13.505 +03:00 [DBG] Request matched endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Delete (CustomerOrder.API)'
2024-09-29 20:01:13.599 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-29 20:01:13.605 +03:00 [INF] Executing endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Delete (CustomerOrder.API)'
2024-09-29 20:01:13.613 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-29 20:01:13.659 +03:00 [INF] Route matched with {action = "Delete", controller = "CustomerOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Delete(Int32) on controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API).
2024-09-29 20:01:13.664 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-29 20:01:13.664 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-29 20:01:13.666 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-29 20:01:13.669 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-29 20:01:13.670 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-29 20:01:13.673 +03:00 [DBG] Executing controller factory for controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API)
2024-09-29 20:01:13.836 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-29 20:01:14.084 +03:00 [DBG] Executed controller factory for controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API)
2024-09-29 20:01:14.098 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-09-29 20:01:14.103 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-09-29 20:01:14.105 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-29 20:01:14.107 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-29 20:01:14.108 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-09-29 20:01:14.110 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-09-29 20:01:16.868 +03:00 [INF] Entity Framework Core 5.0.10 initialized 'DataContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2024-09-29 20:01:16.945 +03:00 [DBG] Compiling query expression: 
'DbSet<CustomerOrder>()
    .FirstOrDefault(e => EF.Property<int>(e, "Id") == __p_0)'
2024-09-29 20:01:17.185 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<CustomerOrder>(
    asyncEnumerable: new SingleQueryingEnumerable<CustomerOrder>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: CustomerOrder.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: CustomerOrder.CreatedBy (int) Required, 1], [Property: CustomerOrder.CreatedDate (DateTime) Required, 2], [Property: CustomerOrder.CustomerId (int) Required FK Index, 3], [Property: CustomerOrder.IsDeleted (bool) Required, 4], [Property: CustomerOrder.UpdatedBy (Nullable<int>), 5], [Property: CustomerOrder.UpdatedDate (Nullable<DateTime>), 6], }
            SELECT TOP(1) c.Id, c.CreatedBy, c.CreatedDate, c.CustomerId, c.IsDeleted, c.UpdatedBy, c.UpdatedDate
            FROM CustomerOrders AS c
            WHERE c.Id == @__p_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, CustomerOrder>, 
        CustomerOrder.Data.Context.DataContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-29 20:01:17.239 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 20:01:17.267 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (22ms).
2024-09-29 20:01:17.283 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:01:17.836 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:01:17.856 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedBy", c."CreatedDate", c."CustomerId", c."IsDeleted", c."UpdatedBy", c."UpdatedDate"
FROM "CustomerOrders" AS c
WHERE c."Id" = @__p_0
LIMIT 1
2024-09-29 20:01:17.885 +03:00 [INF] Executed DbCommand (30ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedBy", c."CreatedDate", c."CustomerId", c."IsDeleted", c."UpdatedBy", c."UpdatedDate"
FROM "CustomerOrders" AS c
WHERE c."Id" = @__p_0
LIMIT 1
2024-09-29 20:01:17.931 +03:00 [DBG] Context 'DataContext' started tracking 'CustomerOrder' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 20:01:17.972 +03:00 [DBG] A data reader was disposed.
2024-09-29 20:01:17.976 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:01:17.984 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:02:31.487 +03:00 [INF] Starting web host
2024-09-29 20:02:33.603 +03:00 [DBG] Hosting starting
2024-09-29 20:02:33.665 +03:00 [INF] User profile is available. Using 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-29 20:02:33.690 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-0aa42add-f3b4-405e-a8c2-992d6e29a85c.xml'.
2024-09-29 20:02:33.703 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-71b87755-2ee9-43e6-87de-6c92ed7c99a6.xml'.
2024-09-29 20:02:33.703 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-acea2ac6-9b67-4521-b460-630e25f9dc5a.xml'.
2024-09-29 20:02:33.709 +03:00 [DBG] Found key {0aa42add-f3b4-405e-a8c2-992d6e29a85c}.
2024-09-29 20:02:33.715 +03:00 [DBG] Found key {71b87755-2ee9-43e6-87de-6c92ed7c99a6}.
2024-09-29 20:02:33.716 +03:00 [DBG] Found key {acea2ac6-9b67-4521-b460-630e25f9dc5a}.
2024-09-29 20:02:33.722 +03:00 [DBG] Considering key {acea2ac6-9b67-4521-b460-630e25f9dc5a} with expiration date 2024-10-15 10:31:27Z as default key.
2024-09-29 20:02:33.733 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-29 20:02:33.737 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-29 20:02:33.739 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-29 20:02:33.745 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-29 20:02:33.748 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-29 20:02:33.751 +03:00 [DBG] Using key {acea2ac6-9b67-4521-b460-630e25f9dc5a} as the default key.
2024-09-29 20:02:33.752 +03:00 [DBG] Key ring with default key {acea2ac6-9b67-4521-b460-630e25f9dc5a} was loaded during application startup.
2024-09-29 20:02:34.015 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: D6697AE29B19EBA86816E6295ADBAF33F0642E18)
2024-09-29 20:02:34.043 +03:00 [INF] Now listening on: https://localhost:5001
2024-09-29 20:02:34.046 +03:00 [INF] Now listening on: http://localhost:5000
2024-09-29 20:02:34.047 +03:00 [DBG] Loaded hosting startup assembly CustomerOrder.API
2024-09-29 20:02:34.048 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-29 20:02:34.048 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-29 20:02:34.049 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-29 20:02:34.050 +03:00 [INF] Hosting environment: Development
2024-09-29 20:02:34.050 +03:00 [INF] Content root path: C:\Users\cagrie\source\repos\CustomerOrder\CustomerOrder.API
2024-09-29 20:02:34.051 +03:00 [DBG] Hosting started
2024-09-29 20:02:34.313 +03:00 [DBG] Connection id "0HN70L21M3T2L" received FIN.
2024-09-29 20:02:34.313 +03:00 [DBG] Connection id "0HN70L21M3T2K" received FIN.
2024-09-29 20:02:34.326 +03:00 [DBG] Connection id "0HN70L21M3T2K" accepted.
2024-09-29 20:02:34.327 +03:00 [DBG] Connection id "0HN70L21M3T2L" accepted.
2024-09-29 20:02:34.331 +03:00 [DBG] Connection id "0HN70L21M3T2L" started.
2024-09-29 20:02:34.331 +03:00 [DBG] Connection id "0HN70L21M3T2K" started.
2024-09-29 20:02:34.353 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.<>c.<ProcessAuthenticationWithTelemetry>b__169_2(Task t, Object s)
   at System.Threading.Tasks.ContinuationTaskFromTask.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-29 20:02:34.353 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.<>c.<ProcessAuthenticationWithTelemetry>b__169_2(Task t, Object s)
   at System.Threading.Tasks.ContinuationTaskFromTask.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-29 20:02:34.405 +03:00 [DBG] Connection id "0HN70L21M3T2K" stopped.
2024-09-29 20:02:34.405 +03:00 [DBG] Connection id "0HN70L21M3T2L" stopped.
2024-09-29 20:02:34.413 +03:00 [DBG] Connection id "0HN70L21M3T2L" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 20:02:34.413 +03:00 [DBG] Connection id "0HN70L21M3T2K" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 20:02:44.186 +03:00 [DBG] Connection id "0HN70L21M3T2M" accepted.
2024-09-29 20:02:44.188 +03:00 [DBG] Connection id "0HN70L21M3T2M" started.
2024-09-29 20:02:44.282 +03:00 [DBG] Connection "0HN70L21M3T2M" established using the following protocol: "Tls13"
2024-09-29 20:02:44.377 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2024-09-29 20:02:44.481 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-29 20:02:44.715 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-29 20:02:44.726 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-29 20:02:44.734 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 361.9377ms
2024-09-29 20:02:44.741 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - -
2024-09-29 20:02:44.741 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - -
2024-09-29 20:02:44.758 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - - - 200 12366 application/javascript;+charset=utf-8 16.7359ms
2024-09-29 20:02:44.817 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 75.4595ms
2024-09-29 20:02:44.851 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2024-09-29 20:02:44.974 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 123.4967ms
2024-09-29 20:02:51.009 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:5001/api/CustomerOrders/delete/14 - -
2024-09-29 20:02:51.012 +03:00 [DBG] DELETE requests are not supported
2024-09-29 20:02:51.053 +03:00 [DBG] 1 candidate(s) found for the request path '/api/CustomerOrders/delete/14'
2024-09-29 20:02:51.060 +03:00 [DBG] Endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Delete (CustomerOrder.API)' with route pattern 'api/CustomerOrders/delete/{id}' is valid for the request path '/api/CustomerOrders/delete/14'
2024-09-29 20:02:51.064 +03:00 [DBG] Request matched endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Delete (CustomerOrder.API)'
2024-09-29 20:02:51.160 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-29 20:02:51.166 +03:00 [INF] Executing endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Delete (CustomerOrder.API)'
2024-09-29 20:02:51.180 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-29 20:02:51.229 +03:00 [INF] Route matched with {action = "Delete", controller = "CustomerOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Delete(Int32) on controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API).
2024-09-29 20:02:51.231 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-29 20:02:51.232 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-29 20:02:51.234 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-29 20:02:51.239 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-29 20:02:51.242 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-29 20:02:51.244 +03:00 [DBG] Executing controller factory for controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API)
2024-09-29 20:02:51.411 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-29 20:02:51.720 +03:00 [DBG] Executed controller factory for controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API)
2024-09-29 20:02:51.733 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-09-29 20:02:51.737 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-09-29 20:02:51.739 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-29 20:02:51.739 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-29 20:02:51.740 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-09-29 20:02:51.741 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-09-29 20:02:53.960 +03:00 [INF] Entity Framework Core 5.0.10 initialized 'DataContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2024-09-29 20:02:54.098 +03:00 [DBG] Compiling query expression: 
'DbSet<CustomerOrder>()
    .FirstOrDefault(e => EF.Property<int>(e, "Id") == __p_0)'
2024-09-29 20:02:54.360 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<CustomerOrder>(
    asyncEnumerable: new SingleQueryingEnumerable<CustomerOrder>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: CustomerOrder.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: CustomerOrder.CreatedBy (int) Required, 1], [Property: CustomerOrder.CreatedDate (DateTime) Required, 2], [Property: CustomerOrder.CustomerId (int) Required FK Index, 3], [Property: CustomerOrder.IsDeleted (bool) Required, 4], [Property: CustomerOrder.UpdatedBy (Nullable<int>), 5], [Property: CustomerOrder.UpdatedDate (Nullable<DateTime>), 6], }
            SELECT TOP(1) c.Id, c.CreatedBy, c.CreatedDate, c.CustomerId, c.IsDeleted, c.UpdatedBy, c.UpdatedDate
            FROM CustomerOrders AS c
            WHERE c.Id == @__p_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, CustomerOrder>, 
        CustomerOrder.Data.Context.DataContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-29 20:02:54.423 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 20:02:54.460 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (32ms).
2024-09-29 20:02:54.470 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:02:55.110 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:02:55.124 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedBy", c."CreatedDate", c."CustomerId", c."IsDeleted", c."UpdatedBy", c."UpdatedDate"
FROM "CustomerOrders" AS c
WHERE c."Id" = @__p_0
LIMIT 1
2024-09-29 20:02:55.153 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedBy", c."CreatedDate", c."CustomerId", c."IsDeleted", c."UpdatedBy", c."UpdatedDate"
FROM "CustomerOrders" AS c
WHERE c."Id" = @__p_0
LIMIT 1
2024-09-29 20:02:55.202 +03:00 [DBG] Context 'DataContext' started tracking 'CustomerOrder' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 20:02:55.256 +03:00 [DBG] A data reader was disposed.
2024-09-29 20:02:55.262 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:02:55.272 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:02:55.299 +03:00 [DBG] An entity of type 'CustomerOrder' tracked by 'DataContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 20:02:55.317 +03:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 204
2024-09-29 20:02:55.325 +03:00 [INF] Executed action CustomerOrder.API.Controllers.CustomerOrdersController.Delete (CustomerOrder.API) in 4075.8168ms
2024-09-29 20:02:55.328 +03:00 [INF] Executed endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Delete (CustomerOrder.API)'
2024-09-29 20:02:55.335 +03:00 [DBG] 'DataContext' disposed.
2024-09-29 20:02:55.340 +03:00 [INF] Request finished HTTP/2 DELETE https://localhost:5001/api/CustomerOrders/delete/14 - - - 204 - - 4331.0422ms
2024-09-29 20:03:01.818 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:5001/api/CustomerOrders/delete/14 - -
2024-09-29 20:03:01.820 +03:00 [DBG] DELETE requests are not supported
2024-09-29 20:03:01.823 +03:00 [DBG] 1 candidate(s) found for the request path '/api/CustomerOrders/delete/14'
2024-09-29 20:03:01.828 +03:00 [DBG] Endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Delete (CustomerOrder.API)' with route pattern 'api/CustomerOrders/delete/{id}' is valid for the request path '/api/CustomerOrders/delete/14'
2024-09-29 20:03:01.831 +03:00 [DBG] Request matched endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Delete (CustomerOrder.API)'
2024-09-29 20:03:01.832 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-29 20:03:01.834 +03:00 [INF] Executing endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Delete (CustomerOrder.API)'
2024-09-29 20:03:01.837 +03:00 [INF] Route matched with {action = "Delete", controller = "CustomerOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Delete(Int32) on controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API).
2024-09-29 20:03:01.840 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-29 20:03:01.840 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-29 20:03:01.841 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-29 20:03:01.842 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-29 20:03:01.842 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-29 20:03:01.843 +03:00 [DBG] Executing controller factory for controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API)
2024-09-29 20:03:01.844 +03:00 [DBG] Executed controller factory for controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API)
2024-09-29 20:03:01.845 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-09-29 20:03:01.847 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-09-29 20:03:01.848 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-29 20:03:01.850 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-29 20:03:01.851 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-09-29 20:03:01.852 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-09-29 20:03:03.871 +03:00 [INF] Entity Framework Core 5.0.10 initialized 'DataContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2024-09-29 20:03:03.880 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 20:03:03.882 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-29 20:03:03.883 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:03:03.885 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:03:03.886 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedBy", c."CreatedDate", c."CustomerId", c."IsDeleted", c."UpdatedBy", c."UpdatedDate"
FROM "CustomerOrders" AS c
WHERE c."Id" = @__p_0
LIMIT 1
2024-09-29 20:03:03.889 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedBy", c."CreatedDate", c."CustomerId", c."IsDeleted", c."UpdatedBy", c."UpdatedDate"
FROM "CustomerOrders" AS c
WHERE c."Id" = @__p_0
LIMIT 1
2024-09-29 20:03:03.911 +03:00 [DBG] Context 'DataContext' started tracking 'CustomerOrder' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 20:03:03.912 +03:00 [DBG] A data reader was disposed.
2024-09-29 20:03:03.913 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:03:03.914 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:03:05.993 +03:00 [DBG] An entity of type 'CustomerOrder' tracked by 'DataContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 20:03:20.576 +03:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 204
2024-09-29 20:03:20.603 +03:00 [INF] Executed action CustomerOrder.API.Controllers.CustomerOrdersController.Delete (CustomerOrder.API) in 18760.5435ms
2024-09-29 20:03:20.605 +03:00 [INF] Executed endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Delete (CustomerOrder.API)'
2024-09-29 20:03:20.606 +03:00 [DBG] 'DataContext' disposed.
2024-09-29 20:03:20.606 +03:00 [INF] Request finished HTTP/2 DELETE https://localhost:5001/api/CustomerOrders/delete/14 - - - 204 - - 18788.1226ms
2024-09-29 20:03:35.073 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:5001/api/CustomerOrders/delete/14 - -
2024-09-29 20:03:35.077 +03:00 [DBG] DELETE requests are not supported
2024-09-29 20:03:35.079 +03:00 [DBG] 1 candidate(s) found for the request path '/api/CustomerOrders/delete/14'
2024-09-29 20:03:35.082 +03:00 [DBG] Endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Delete (CustomerOrder.API)' with route pattern 'api/CustomerOrders/delete/{id}' is valid for the request path '/api/CustomerOrders/delete/14'
2024-09-29 20:03:35.083 +03:00 [DBG] Request matched endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Delete (CustomerOrder.API)'
2024-09-29 20:03:35.085 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-29 20:03:35.086 +03:00 [INF] Executing endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Delete (CustomerOrder.API)'
2024-09-29 20:03:35.087 +03:00 [INF] Route matched with {action = "Delete", controller = "CustomerOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Delete(Int32) on controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API).
2024-09-29 20:03:35.088 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-29 20:03:35.089 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-29 20:03:35.090 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-29 20:03:35.091 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-29 20:03:35.091 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-29 20:03:35.092 +03:00 [DBG] Executing controller factory for controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API)
2024-09-29 20:03:35.094 +03:00 [DBG] Executed controller factory for controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API)
2024-09-29 20:03:35.095 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-09-29 20:03:35.096 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-09-29 20:03:35.097 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-29 20:03:35.097 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-29 20:03:35.098 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-09-29 20:03:35.099 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-09-29 20:03:36.938 +03:00 [INF] Entity Framework Core 5.0.10 initialized 'DataContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2024-09-29 20:03:36.944 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 20:03:36.945 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-29 20:03:36.947 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:03:36.949 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:03:36.951 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedBy", c."CreatedDate", c."CustomerId", c."IsDeleted", c."UpdatedBy", c."UpdatedDate"
FROM "CustomerOrders" AS c
WHERE c."Id" = @__p_0
LIMIT 1
2024-09-29 20:03:36.958 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedBy", c."CreatedDate", c."CustomerId", c."IsDeleted", c."UpdatedBy", c."UpdatedDate"
FROM "CustomerOrders" AS c
WHERE c."Id" = @__p_0
LIMIT 1
2024-09-29 20:03:36.978 +03:00 [DBG] Context 'DataContext' started tracking 'CustomerOrder' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 20:03:36.979 +03:00 [DBG] A data reader was disposed.
2024-09-29 20:03:36.979 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:03:36.980 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:04:37.902 +03:00 [INF] Starting web host
2024-09-29 20:04:40.587 +03:00 [DBG] Hosting starting
2024-09-29 20:04:40.639 +03:00 [INF] User profile is available. Using 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-29 20:04:40.658 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-0aa42add-f3b4-405e-a8c2-992d6e29a85c.xml'.
2024-09-29 20:04:40.684 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-71b87755-2ee9-43e6-87de-6c92ed7c99a6.xml'.
2024-09-29 20:04:40.695 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-acea2ac6-9b67-4521-b460-630e25f9dc5a.xml'.
2024-09-29 20:04:40.716 +03:00 [DBG] Found key {0aa42add-f3b4-405e-a8c2-992d6e29a85c}.
2024-09-29 20:04:40.722 +03:00 [DBG] Found key {71b87755-2ee9-43e6-87de-6c92ed7c99a6}.
2024-09-29 20:04:40.723 +03:00 [DBG] Found key {acea2ac6-9b67-4521-b460-630e25f9dc5a}.
2024-09-29 20:04:40.728 +03:00 [DBG] Considering key {acea2ac6-9b67-4521-b460-630e25f9dc5a} with expiration date 2024-10-15 10:31:27Z as default key.
2024-09-29 20:04:40.737 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-29 20:04:40.741 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-29 20:04:40.742 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-29 20:04:40.746 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-29 20:04:40.749 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-29 20:04:40.752 +03:00 [DBG] Using key {acea2ac6-9b67-4521-b460-630e25f9dc5a} as the default key.
2024-09-29 20:04:40.753 +03:00 [DBG] Key ring with default key {acea2ac6-9b67-4521-b460-630e25f9dc5a} was loaded during application startup.
2024-09-29 20:04:41.111 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: D6697AE29B19EBA86816E6295ADBAF33F0642E18)
2024-09-29 20:04:41.140 +03:00 [INF] Now listening on: https://localhost:5001
2024-09-29 20:04:41.145 +03:00 [INF] Now listening on: http://localhost:5000
2024-09-29 20:04:41.146 +03:00 [DBG] Loaded hosting startup assembly CustomerOrder.API
2024-09-29 20:04:41.148 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-29 20:04:41.149 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-29 20:04:41.152 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-29 20:04:41.154 +03:00 [INF] Hosting environment: Development
2024-09-29 20:04:41.155 +03:00 [INF] Content root path: C:\Users\cagrie\source\repos\CustomerOrder\CustomerOrder.API
2024-09-29 20:04:41.155 +03:00 [DBG] Hosting started
2024-09-29 20:04:41.648 +03:00 [DBG] Connection id "0HN70L37KF7TS" received FIN.
2024-09-29 20:04:41.648 +03:00 [DBG] Connection id "0HN70L37KF7TR" received FIN.
2024-09-29 20:04:41.653 +03:00 [DBG] Connection id "0HN70L37KF7TR" accepted.
2024-09-29 20:04:41.653 +03:00 [DBG] Connection id "0HN70L37KF7TS" accepted.
2024-09-29 20:04:41.656 +03:00 [DBG] Connection id "0HN70L37KF7TS" started.
2024-09-29 20:04:41.656 +03:00 [DBG] Connection id "0HN70L37KF7TR" started.
2024-09-29 20:04:41.680 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.<>c.<ProcessAuthenticationWithTelemetry>b__169_2(Task t, Object s)
   at System.Threading.Tasks.ContinuationTaskFromTask.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-29 20:04:41.680 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.<>c.<ProcessAuthenticationWithTelemetry>b__169_2(Task t, Object s)
   at System.Threading.Tasks.ContinuationTaskFromTask.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-29 20:04:41.719 +03:00 [DBG] Connection id "0HN70L37KF7TR" stopped.
2024-09-29 20:04:41.719 +03:00 [DBG] Connection id "0HN70L37KF7TS" stopped.
2024-09-29 20:04:41.722 +03:00 [DBG] Connection id "0HN70L37KF7TS" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 20:04:41.722 +03:00 [DBG] Connection id "0HN70L37KF7TR" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 20:04:49.639 +03:00 [DBG] Connection id "0HN70L37KF7TT" accepted.
2024-09-29 20:04:49.641 +03:00 [DBG] Connection id "0HN70L37KF7TT" started.
2024-09-29 20:04:49.713 +03:00 [DBG] Connection "0HN70L37KF7TT" established using the following protocol: "Tls13"
2024-09-29 20:04:49.787 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2024-09-29 20:04:49.917 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-29 20:04:50.171 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-29 20:04:50.182 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-29 20:04:50.191 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 406.4924ms
2024-09-29 20:04:50.193 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - -
2024-09-29 20:04:50.193 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - -
2024-09-29 20:04:50.205 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - - - 200 12366 application/javascript;+charset=utf-8 11.7851ms
2024-09-29 20:04:50.252 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 59.5227ms
2024-09-29 20:04:50.290 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2024-09-29 20:04:50.406 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 116.3982ms
2024-09-29 20:04:54.087 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:5001/api/CustomerOrders/delete/14 - -
2024-09-29 20:04:54.090 +03:00 [DBG] DELETE requests are not supported
2024-09-29 20:04:54.129 +03:00 [DBG] 1 candidate(s) found for the request path '/api/CustomerOrders/delete/14'
2024-09-29 20:04:54.136 +03:00 [DBG] Endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Delete (CustomerOrder.API)' with route pattern 'api/CustomerOrders/delete/{id}' is valid for the request path '/api/CustomerOrders/delete/14'
2024-09-29 20:04:54.138 +03:00 [DBG] Request matched endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Delete (CustomerOrder.API)'
2024-09-29 20:04:54.221 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-29 20:04:54.224 +03:00 [INF] Executing endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Delete (CustomerOrder.API)'
2024-09-29 20:04:54.239 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-29 20:04:54.292 +03:00 [INF] Route matched with {action = "Delete", controller = "CustomerOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Delete(Int32) on controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API).
2024-09-29 20:04:54.297 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-29 20:04:54.298 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-29 20:04:54.300 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-29 20:04:54.302 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-29 20:04:54.303 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-29 20:04:54.305 +03:00 [DBG] Executing controller factory for controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API)
2024-09-29 20:04:54.685 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-29 20:04:54.955 +03:00 [DBG] Executed controller factory for controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API)
2024-09-29 20:04:54.968 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-09-29 20:04:54.971 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-09-29 20:04:54.972 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-29 20:04:54.974 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-29 20:04:54.976 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-09-29 20:04:54.981 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-09-29 20:04:57.881 +03:00 [INF] Entity Framework Core 5.0.10 initialized 'DataContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2024-09-29 20:04:57.965 +03:00 [DBG] Compiling query expression: 
'DbSet<CustomerOrder>()
    .FirstOrDefault(e => EF.Property<int>(e, "Id") == __p_0)'
2024-09-29 20:04:58.145 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<CustomerOrder>(
    asyncEnumerable: new SingleQueryingEnumerable<CustomerOrder>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: CustomerOrder.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: CustomerOrder.CreatedBy (int) Required, 1], [Property: CustomerOrder.CreatedDate (DateTime) Required, 2], [Property: CustomerOrder.CustomerId (int) Required FK Index, 3], [Property: CustomerOrder.IsDeleted (bool) Required, 4], [Property: CustomerOrder.UpdatedBy (Nullable<int>), 5], [Property: CustomerOrder.UpdatedDate (Nullable<DateTime>), 6], }
            SELECT TOP(1) c.Id, c.CreatedBy, c.CreatedDate, c.CustomerId, c.IsDeleted, c.UpdatedBy, c.UpdatedDate
            FROM CustomerOrders AS c
            WHERE c.Id == @__p_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, CustomerOrder>, 
        CustomerOrder.Data.Context.DataContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-29 20:04:58.199 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 20:04:58.233 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (28ms).
2024-09-29 20:04:58.248 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:04:58.750 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:04:58.771 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedBy", c."CreatedDate", c."CustomerId", c."IsDeleted", c."UpdatedBy", c."UpdatedDate"
FROM "CustomerOrders" AS c
WHERE c."Id" = @__p_0
LIMIT 1
2024-09-29 20:04:58.796 +03:00 [INF] Executed DbCommand (31ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedBy", c."CreatedDate", c."CustomerId", c."IsDeleted", c."UpdatedBy", c."UpdatedDate"
FROM "CustomerOrders" AS c
WHERE c."Id" = @__p_0
LIMIT 1
2024-09-29 20:04:58.833 +03:00 [DBG] Context 'DataContext' started tracking 'CustomerOrder' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 20:04:58.881 +03:00 [DBG] A data reader was disposed.
2024-09-29 20:04:58.887 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:04:58.896 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:05:01.569 +03:00 [DBG] An entity of type 'CustomerOrder' tracked by 'DataContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 20:05:02.090 +03:00 [DBG] SaveChanges starting for 'DataContext'.
2024-09-29 20:05:02.094 +03:00 [DBG] DetectChanges starting for 'DataContext'.
2024-09-29 20:05:02.102 +03:00 [DBG] DetectChanges completed for 'DataContext'.
2024-09-29 20:05:02.120 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:05:02.122 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:05:02.125 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-29 20:05:02.130 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-29 20:05:02.192 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 20:05:02.195 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-29 20:05:02.198 +03:00 [DBG] Executing DbCommand [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "CustomerOrders" SET "CreatedBy" = @p0, "CreatedDate" = @p1, "CustomerId" = @p2, "IsDeleted" = @p3, "UpdatedBy" = @p4, "UpdatedDate" = @p5
WHERE "Id" = @p6;
2024-09-29 20:05:02.207 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "CustomerOrders" SET "CreatedBy" = @p0, "CreatedDate" = @p1, "CustomerId" = @p2, "IsDeleted" = @p3, "UpdatedBy" = @p4, "UpdatedDate" = @p5
WHERE "Id" = @p6;
2024-09-29 20:05:02.240 +03:00 [DBG] A data reader was disposed.
2024-09-29 20:05:02.245 +03:00 [DBG] Committing transaction.
2024-09-29 20:05:02.255 +03:00 [DBG] Committed transaction.
2024-09-29 20:05:02.258 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:05:02.262 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:05:02.265 +03:00 [DBG] Disposing transaction.
2024-09-29 20:05:02.271 +03:00 [DBG] An entity of type 'CustomerOrder' tracked by 'DataContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 20:05:02.276 +03:00 [DBG] SaveChanges completed for 'DataContext' with 1 entities written to the database.
2024-09-29 20:05:03.630 +03:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 204
2024-09-29 20:05:03.639 +03:00 [INF] Executed action CustomerOrder.API.Controllers.CustomerOrdersController.Delete (CustomerOrder.API) in 9328.5347ms
2024-09-29 20:05:03.643 +03:00 [INF] Executed endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Delete (CustomerOrder.API)'
2024-09-29 20:05:03.649 +03:00 [DBG] 'DataContext' disposed.
2024-09-29 20:05:03.654 +03:00 [INF] Request finished HTTP/2 DELETE https://localhost:5001/api/CustomerOrders/delete/14 - - - 204 - - 9566.9351ms
2024-09-29 20:07:13.466 +03:00 [INF] Starting web host
2024-09-29 20:07:14.915 +03:00 [DBG] Hosting starting
2024-09-29 20:07:14.969 +03:00 [INF] User profile is available. Using 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-29 20:07:14.991 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-0aa42add-f3b4-405e-a8c2-992d6e29a85c.xml'.
2024-09-29 20:07:15.008 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-71b87755-2ee9-43e6-87de-6c92ed7c99a6.xml'.
2024-09-29 20:07:15.009 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-acea2ac6-9b67-4521-b460-630e25f9dc5a.xml'.
2024-09-29 20:07:15.019 +03:00 [DBG] Found key {0aa42add-f3b4-405e-a8c2-992d6e29a85c}.
2024-09-29 20:07:15.029 +03:00 [DBG] Found key {71b87755-2ee9-43e6-87de-6c92ed7c99a6}.
2024-09-29 20:07:15.030 +03:00 [DBG] Found key {acea2ac6-9b67-4521-b460-630e25f9dc5a}.
2024-09-29 20:07:15.038 +03:00 [DBG] Considering key {acea2ac6-9b67-4521-b460-630e25f9dc5a} with expiration date 2024-10-15 10:31:27Z as default key.
2024-09-29 20:07:15.056 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-29 20:07:15.067 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-29 20:07:15.069 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-29 20:07:15.085 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-29 20:07:15.092 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-29 20:07:15.099 +03:00 [DBG] Using key {acea2ac6-9b67-4521-b460-630e25f9dc5a} as the default key.
2024-09-29 20:07:15.101 +03:00 [DBG] Key ring with default key {acea2ac6-9b67-4521-b460-630e25f9dc5a} was loaded during application startup.
2024-09-29 20:07:15.380 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: D6697AE29B19EBA86816E6295ADBAF33F0642E18)
2024-09-29 20:07:15.405 +03:00 [INF] Now listening on: https://localhost:5001
2024-09-29 20:07:15.406 +03:00 [INF] Now listening on: http://localhost:5000
2024-09-29 20:07:15.406 +03:00 [DBG] Loaded hosting startup assembly CustomerOrder.API
2024-09-29 20:07:15.407 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-29 20:07:15.408 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-29 20:07:15.410 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-29 20:07:15.411 +03:00 [INF] Hosting environment: Development
2024-09-29 20:07:15.411 +03:00 [INF] Content root path: C:\Users\cagrie\source\repos\CustomerOrder\CustomerOrder.API
2024-09-29 20:07:15.412 +03:00 [DBG] Hosting started
2024-09-29 20:07:15.596 +03:00 [DBG] Connection id "0HN70L4LGKQU8" received FIN.
2024-09-29 20:07:15.596 +03:00 [DBG] Connection id "0HN70L4LGKQU9" received FIN.
2024-09-29 20:07:15.610 +03:00 [DBG] Connection id "0HN70L4LGKQU8" accepted.
2024-09-29 20:07:15.610 +03:00 [DBG] Connection id "0HN70L4LGKQU9" accepted.
2024-09-29 20:07:15.614 +03:00 [DBG] Connection id "0HN70L4LGKQU9" started.
2024-09-29 20:07:15.614 +03:00 [DBG] Connection id "0HN70L4LGKQU8" started.
2024-09-29 20:07:15.634 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.<>c.<ProcessAuthenticationWithTelemetry>b__169_2(Task t, Object s)
   at System.Threading.Tasks.ContinuationTaskFromTask.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-29 20:07:15.634 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.<>c.<ProcessAuthenticationWithTelemetry>b__169_2(Task t, Object s)
   at System.Threading.Tasks.ContinuationTaskFromTask.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-29 20:07:15.676 +03:00 [DBG] Connection id "0HN70L4LGKQU9" stopped.
2024-09-29 20:07:15.676 +03:00 [DBG] Connection id "0HN70L4LGKQU8" stopped.
2024-09-29 20:07:15.682 +03:00 [DBG] Connection id "0HN70L4LGKQU8" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 20:07:15.682 +03:00 [DBG] Connection id "0HN70L4LGKQU9" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 20:14:15.602 +03:00 [INF] Starting web host
2024-09-29 20:14:17.350 +03:00 [DBG] Hosting starting
2024-09-29 20:14:17.400 +03:00 [INF] User profile is available. Using 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-29 20:14:17.435 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-0aa42add-f3b4-405e-a8c2-992d6e29a85c.xml'.
2024-09-29 20:14:17.453 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-71b87755-2ee9-43e6-87de-6c92ed7c99a6.xml'.
2024-09-29 20:14:17.454 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-acea2ac6-9b67-4521-b460-630e25f9dc5a.xml'.
2024-09-29 20:14:17.465 +03:00 [DBG] Found key {0aa42add-f3b4-405e-a8c2-992d6e29a85c}.
2024-09-29 20:14:17.480 +03:00 [DBG] Found key {71b87755-2ee9-43e6-87de-6c92ed7c99a6}.
2024-09-29 20:14:17.481 +03:00 [DBG] Found key {acea2ac6-9b67-4521-b460-630e25f9dc5a}.
2024-09-29 20:14:17.498 +03:00 [DBG] Considering key {acea2ac6-9b67-4521-b460-630e25f9dc5a} with expiration date 2024-10-15 10:31:27Z as default key.
2024-09-29 20:14:17.518 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-29 20:14:17.525 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-29 20:14:17.529 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-29 20:14:17.539 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-29 20:14:17.548 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-29 20:14:17.555 +03:00 [DBG] Using key {acea2ac6-9b67-4521-b460-630e25f9dc5a} as the default key.
2024-09-29 20:14:17.560 +03:00 [DBG] Key ring with default key {acea2ac6-9b67-4521-b460-630e25f9dc5a} was loaded during application startup.
2024-09-29 20:14:17.904 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: D6697AE29B19EBA86816E6295ADBAF33F0642E18)
2024-09-29 20:14:17.932 +03:00 [INF] Now listening on: https://localhost:5001
2024-09-29 20:14:17.933 +03:00 [INF] Now listening on: http://localhost:5000
2024-09-29 20:14:17.935 +03:00 [DBG] Loaded hosting startup assembly CustomerOrder.API
2024-09-29 20:14:17.936 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-29 20:14:17.938 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-29 20:14:17.939 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-29 20:14:17.940 +03:00 [INF] Hosting environment: Development
2024-09-29 20:14:17.941 +03:00 [INF] Content root path: C:\Users\cagrie\source\repos\CustomerOrder\CustomerOrder.API
2024-09-29 20:14:17.942 +03:00 [DBG] Hosting started
2024-09-29 20:14:18.264 +03:00 [DBG] Connection id "0HN70L8JFGOA4" received FIN.
2024-09-29 20:14:18.264 +03:00 [DBG] Connection id "0HN70L8JFGOA3" received FIN.
2024-09-29 20:14:18.277 +03:00 [DBG] Connection id "0HN70L8JFGOA4" accepted.
2024-09-29 20:14:18.277 +03:00 [DBG] Connection id "0HN70L8JFGOA3" accepted.
2024-09-29 20:14:18.280 +03:00 [DBG] Connection id "0HN70L8JFGOA4" started.
2024-09-29 20:14:18.280 +03:00 [DBG] Connection id "0HN70L8JFGOA3" started.
2024-09-29 20:14:18.297 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.<>c.<ProcessAuthenticationWithTelemetry>b__169_2(Task t, Object s)
   at System.Threading.Tasks.ContinuationTaskFromTask.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-29 20:14:18.297 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.<>c.<ProcessAuthenticationWithTelemetry>b__169_2(Task t, Object s)
   at System.Threading.Tasks.ContinuationTaskFromTask.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-29 20:14:18.335 +03:00 [DBG] Connection id "0HN70L8JFGOA4" stopped.
2024-09-29 20:14:18.335 +03:00 [DBG] Connection id "0HN70L8JFGOA3" stopped.
2024-09-29 20:14:18.342 +03:00 [DBG] Connection id "0HN70L8JFGOA3" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 20:14:18.342 +03:00 [DBG] Connection id "0HN70L8JFGOA4" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 20:14:27.000 +03:00 [DBG] Connection id "0HN70L8JFGOA5" accepted.
2024-09-29 20:14:27.005 +03:00 [DBG] Connection id "0HN70L8JFGOA5" started.
2024-09-29 20:14:27.124 +03:00 [DBG] Connection "0HN70L8JFGOA5" established using the following protocol: "Tls13"
2024-09-29 20:14:27.208 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2024-09-29 20:14:27.311 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-29 20:14:27.485 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-29 20:14:27.501 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-29 20:14:27.508 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 305.9293ms
2024-09-29 20:14:27.522 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - -
2024-09-29 20:14:27.527 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - - - 200 12366 application/javascript;+charset=utf-8 4.5823ms
2024-09-29 20:14:27.530 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - -
2024-09-29 20:14:27.598 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 68.4367ms
2024-09-29 20:14:27.675 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2024-09-29 20:14:27.827 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 152.5222ms
2024-09-29 20:14:36.014 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:5001/api/CustomerOrders/delete/14 - -
2024-09-29 20:14:36.020 +03:00 [DBG] DELETE requests are not supported
2024-09-29 20:14:36.068 +03:00 [DBG] 1 candidate(s) found for the request path '/api/CustomerOrders/delete/14'
2024-09-29 20:14:36.079 +03:00 [DBG] Endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Delete (CustomerOrder.API)' with route pattern 'api/CustomerOrders/delete/{id}' is valid for the request path '/api/CustomerOrders/delete/14'
2024-09-29 20:14:36.084 +03:00 [DBG] Request matched endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Delete (CustomerOrder.API)'
2024-09-29 20:14:36.188 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-29 20:14:36.191 +03:00 [INF] Executing endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Delete (CustomerOrder.API)'
2024-09-29 20:14:36.206 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-29 20:14:36.266 +03:00 [INF] Route matched with {action = "Delete", controller = "CustomerOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Delete(Int32) on controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API).
2024-09-29 20:14:36.271 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-29 20:14:36.272 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-29 20:14:36.273 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-29 20:14:36.274 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-29 20:14:36.275 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-29 20:14:36.276 +03:00 [DBG] Executing controller factory for controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API)
2024-09-29 20:14:36.429 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-29 20:14:36.719 +03:00 [DBG] Executed controller factory for controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API)
2024-09-29 20:14:36.736 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-09-29 20:14:36.740 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-09-29 20:14:36.742 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-29 20:14:36.743 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-29 20:14:36.744 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-09-29 20:14:36.746 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-09-29 20:14:38.823 +03:00 [INF] Entity Framework Core 5.0.10 initialized 'DataContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2024-09-29 20:14:38.893 +03:00 [DBG] Compiling query expression: 
'DbSet<CustomerOrder>()
    .FirstOrDefault(e => EF.Property<int>(e, "Id") == __p_0)'
2024-09-29 20:14:39.126 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<CustomerOrder>(
    asyncEnumerable: new SingleQueryingEnumerable<CustomerOrder>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: CustomerOrder.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: CustomerOrder.CreatedBy (int) Required, 1], [Property: CustomerOrder.CreatedDate (DateTime) Required, 2], [Property: CustomerOrder.CustomerId (int) Required FK Index, 3], [Property: CustomerOrder.IsDeleted (bool) Required, 4], [Property: CustomerOrder.UpdatedBy (Nullable<int>), 5], [Property: CustomerOrder.UpdatedDate (Nullable<DateTime>), 6], }
            SELECT TOP(1) c.Id, c.CreatedBy, c.CreatedDate, c.CustomerId, c.IsDeleted, c.UpdatedBy, c.UpdatedDate
            FROM CustomerOrders AS c
            WHERE c.Id == @__p_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, CustomerOrder>, 
        CustomerOrder.Data.Context.DataContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-29 20:14:39.174 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 20:14:39.204 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (24ms).
2024-09-29 20:14:39.214 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:14:39.745 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:14:39.763 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedBy", c."CreatedDate", c."CustomerId", c."IsDeleted", c."UpdatedBy", c."UpdatedDate"
FROM "CustomerOrders" AS c
WHERE c."Id" = @__p_0
LIMIT 1
2024-09-29 20:14:39.789 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedBy", c."CreatedDate", c."CustomerId", c."IsDeleted", c."UpdatedBy", c."UpdatedDate"
FROM "CustomerOrders" AS c
WHERE c."Id" = @__p_0
LIMIT 1
2024-09-29 20:14:39.833 +03:00 [DBG] Context 'DataContext' started tracking 'CustomerOrder' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 20:14:39.876 +03:00 [DBG] A data reader was disposed.
2024-09-29 20:14:39.882 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:14:39.891 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:14:41.545 +03:00 [DBG] An entity of type 'CustomerOrder' tracked by 'DataContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 20:14:42.038 +03:00 [DBG] SaveChanges starting for 'DataContext'.
2024-09-29 20:14:42.046 +03:00 [DBG] DetectChanges starting for 'DataContext'.
2024-09-29 20:14:42.066 +03:00 [DBG] DetectChanges completed for 'DataContext'.
2024-09-29 20:14:42.083 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:14:42.085 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:14:42.088 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-29 20:14:42.093 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-29 20:14:42.140 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 20:14:42.142 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-29 20:14:42.143 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "CustomerOrders"
WHERE "Id" = @p0;
2024-09-29 20:14:42.150 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "CustomerOrders"
WHERE "Id" = @p0;
2024-09-29 20:14:42.172 +03:00 [DBG] A data reader was disposed.
2024-09-29 20:14:42.175 +03:00 [DBG] Committing transaction.
2024-09-29 20:14:42.184 +03:00 [DBG] Committed transaction.
2024-09-29 20:14:42.187 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:14:42.189 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:14:42.192 +03:00 [DBG] Disposing transaction.
2024-09-29 20:14:42.203 +03:00 [DBG] An entity of type 'CustomerOrder' tracked by 'DataContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 20:14:42.207 +03:00 [DBG] SaveChanges completed for 'DataContext' with 1 entities written to the database.
2024-09-29 20:14:42.787 +03:00 [DBG] Compiling query expression: 
'DbSet<Customer>()
    .FirstOrDefault(e => EF.Property<int>(e, "Id") == __p_0)'
2024-09-29 20:14:42.800 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Customer>(
    asyncEnumerable: new SingleQueryingEnumerable<Customer>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Customer.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Customer.Address (string) Required, 1], [Property: Customer.CreatedBy (int) Required, 2], [Property: Customer.CreatedDate (DateTime) Required, 3], [Property: Customer.Email (string) Required, 4], [Property: Customer.IsDeleted (bool) Required, 5], [Property: Customer.Name (string) Required, 6], [Property: Customer.UpdatedBy (Nullable<int>), 7], [Property: Customer.UpdatedDate (Nullable<DateTime>), 8], }
            SELECT TOP(1) c.Id, c.Address, c.CreatedBy, c.CreatedDate, c.Email, c.IsDeleted, c.Name, c.UpdatedBy, c.UpdatedDate
            FROM Customers AS c
            WHERE c.Id == @__p_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Customer>, 
        CustomerOrder.Data.Context.DataContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-29 20:14:42.804 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 20:14:42.805 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-29 20:14:42.806 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:14:42.807 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:14:42.807 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Address", c."CreatedBy", c."CreatedDate", c."Email", c."IsDeleted", c."Name", c."UpdatedBy", c."UpdatedDate"
FROM "Customers" AS c
WHERE c."Id" = @__p_0
LIMIT 1
2024-09-29 20:14:42.810 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Address", c."CreatedBy", c."CreatedDate", c."Email", c."IsDeleted", c."Name", c."UpdatedBy", c."UpdatedDate"
FROM "Customers" AS c
WHERE c."Id" = @__p_0
LIMIT 1
2024-09-29 20:14:42.827 +03:00 [DBG] Context 'DataContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 20:14:42.853 +03:00 [DBG] A data reader was disposed.
2024-09-29 20:14:42.854 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:14:42.855 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:14:43.300 +03:00 [DBG] An entity of type 'Customer' tracked by 'DataContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 20:14:44.027 +03:00 [DBG] SaveChanges starting for 'DataContext'.
2024-09-29 20:14:44.029 +03:00 [DBG] DetectChanges starting for 'DataContext'.
2024-09-29 20:14:44.036 +03:00 [DBG] DetectChanges completed for 'DataContext'.
2024-09-29 20:14:44.039 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:14:44.041 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:14:44.041 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-29 20:14:44.042 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-29 20:14:44.045 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 20:14:44.046 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-29 20:14:44.047 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Customers"
WHERE "Id" = @p0;
2024-09-29 20:14:44.049 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Customers"
WHERE "Id" = @p0;
2024-09-29 20:14:44.069 +03:00 [DBG] A data reader was disposed.
2024-09-29 20:14:44.069 +03:00 [DBG] Committing transaction.
2024-09-29 20:14:44.071 +03:00 [DBG] Committed transaction.
2024-09-29 20:14:44.071 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:14:44.072 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:14:44.072 +03:00 [DBG] Disposing transaction.
2024-09-29 20:14:44.073 +03:00 [DBG] An entity of type 'Customer' tracked by 'DataContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 20:14:44.074 +03:00 [DBG] SaveChanges completed for 'DataContext' with 1 entities written to the database.
2024-09-29 20:14:44.587 +03:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .Where(x => x.CustomerOrderId == __customerOrder_CustomerId_0)'
2024-09-29 20:14:44.594 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Product>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Product.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Product.Barcode (string), 1], [Property: Product.CreatedBy (int) Required, 2], [Property: Product.CreatedDate (DateTime) Required, 3], [Property: Product.CustomerOrderId (int) Required FK Index, 4], [Property: Product.Description (string), 5], [Property: Product.IsDeleted (bool) Required, 6], [Property: Product.Price (decimal) Required, 7], [Property: Product.Quantity (int) Required, 8], [Property: Product.UpdatedBy (Nullable<int>), 9], [Property: Product.UpdatedDate (Nullable<DateTime>), 10], }
        SELECT p.Id, p.Barcode, p.CreatedBy, p.CreatedDate, p.CustomerOrderId, p.Description, p.IsDeleted, p.Price, p.Quantity, p.UpdatedBy, p.UpdatedDate
        FROM Products AS p
        WHERE p.CustomerOrderId == @__customerOrder_CustomerId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Product>, 
    CustomerOrder.Data.Context.DataContext, 
    False, 
    False
)'
2024-09-29 20:14:44.596 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 20:14:44.597 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-29 20:14:44.598 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:14:44.599 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:14:44.600 +03:00 [DBG] Executing DbCommand [Parameters=[@__customerOrder_CustomerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Barcode", p."CreatedBy", p."CreatedDate", p."CustomerOrderId", p."Description", p."IsDeleted", p."Price", p."Quantity", p."UpdatedBy", p."UpdatedDate"
FROM "Products" AS p
WHERE p."CustomerOrderId" = @__customerOrder_CustomerId_0
2024-09-29 20:14:44.602 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__customerOrder_CustomerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Barcode", p."CreatedBy", p."CreatedDate", p."CustomerOrderId", p."Description", p."IsDeleted", p."Price", p."Quantity", p."UpdatedBy", p."UpdatedDate"
FROM "Products" AS p
WHERE p."CustomerOrderId" = @__customerOrder_CustomerId_0
2024-09-29 20:14:44.623 +03:00 [DBG] A data reader was disposed.
2024-09-29 20:14:44.624 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:14:44.625 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:14:45.585 +03:00 [DBG] SaveChanges starting for 'DataContext'.
2024-09-29 20:14:45.587 +03:00 [DBG] DetectChanges starting for 'DataContext'.
2024-09-29 20:14:45.588 +03:00 [DBG] DetectChanges completed for 'DataContext'.
2024-09-29 20:14:45.588 +03:00 [DBG] SaveChanges completed for 'DataContext' with 0 entities written to the database.
2024-09-29 20:14:47.259 +03:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 204
2024-09-29 20:14:47.266 +03:00 [INF] Executed action CustomerOrder.API.Controllers.CustomerOrdersController.Delete (CustomerOrder.API) in 10985.5027ms
2024-09-29 20:14:47.270 +03:00 [INF] Executed endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Delete (CustomerOrder.API)'
2024-09-29 20:14:47.274 +03:00 [DBG] 'DataContext' disposed.
2024-09-29 20:14:47.279 +03:00 [INF] Request finished HTTP/2 DELETE https://localhost:5001/api/CustomerOrders/delete/14 - - - 204 - - 11265.2527ms
2024-09-29 20:16:14.996 +03:00 [INF] Starting web host
2024-09-29 20:16:16.045 +03:00 [DBG] Hosting starting
2024-09-29 20:16:16.419 +03:00 [INF] User profile is available. Using 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-29 20:16:16.455 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-0aa42add-f3b4-405e-a8c2-992d6e29a85c.xml'.
2024-09-29 20:16:16.475 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-71b87755-2ee9-43e6-87de-6c92ed7c99a6.xml'.
2024-09-29 20:16:16.476 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-acea2ac6-9b67-4521-b460-630e25f9dc5a.xml'.
2024-09-29 20:16:16.487 +03:00 [DBG] Found key {0aa42add-f3b4-405e-a8c2-992d6e29a85c}.
2024-09-29 20:16:16.499 +03:00 [DBG] Found key {71b87755-2ee9-43e6-87de-6c92ed7c99a6}.
2024-09-29 20:16:16.501 +03:00 [DBG] Found key {acea2ac6-9b67-4521-b460-630e25f9dc5a}.
2024-09-29 20:16:16.522 +03:00 [DBG] Considering key {acea2ac6-9b67-4521-b460-630e25f9dc5a} with expiration date 2024-10-15 10:31:27Z as default key.
2024-09-29 20:16:16.548 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-29 20:16:16.556 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-29 20:16:16.569 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-29 20:16:16.581 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-29 20:16:16.587 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-29 20:16:16.594 +03:00 [DBG] Using key {acea2ac6-9b67-4521-b460-630e25f9dc5a} as the default key.
2024-09-29 20:16:16.599 +03:00 [DBG] Key ring with default key {acea2ac6-9b67-4521-b460-630e25f9dc5a} was loaded during application startup.
2024-09-29 20:16:16.868 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: D6697AE29B19EBA86816E6295ADBAF33F0642E18)
2024-09-29 20:16:16.894 +03:00 [INF] Now listening on: https://localhost:5001
2024-09-29 20:16:16.899 +03:00 [INF] Now listening on: http://localhost:5000
2024-09-29 20:16:16.899 +03:00 [DBG] Loaded hosting startup assembly CustomerOrder.API
2024-09-29 20:16:16.900 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-29 20:16:16.900 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-29 20:16:16.901 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-29 20:16:16.901 +03:00 [INF] Hosting environment: Development
2024-09-29 20:16:16.902 +03:00 [INF] Content root path: C:\Users\cagrie\source\repos\CustomerOrder\CustomerOrder.API
2024-09-29 20:16:16.902 +03:00 [DBG] Hosting started
2024-09-29 20:16:17.208 +03:00 [DBG] Connection id "0HN70L9MTOQI3" accepted.
2024-09-29 20:16:17.208 +03:00 [DBG] Connection id "0HN70L9MTOQI2" accepted.
2024-09-29 20:16:17.208 +03:00 [DBG] Connection id "0HN70L9MTOQI3" received FIN.
2024-09-29 20:16:17.208 +03:00 [DBG] Connection id "0HN70L9MTOQI2" received FIN.
2024-09-29 20:16:17.213 +03:00 [DBG] Connection id "0HN70L9MTOQI2" started.
2024-09-29 20:16:17.213 +03:00 [DBG] Connection id "0HN70L9MTOQI3" started.
2024-09-29 20:16:17.233 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.<>c.<ProcessAuthenticationWithTelemetry>b__169_2(Task t, Object s)
   at System.Threading.Tasks.ContinuationTaskFromTask.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-29 20:16:17.233 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.<>c.<ProcessAuthenticationWithTelemetry>b__169_2(Task t, Object s)
   at System.Threading.Tasks.ContinuationTaskFromTask.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-29 20:16:17.270 +03:00 [DBG] Connection id "0HN70L9MTOQI2" stopped.
2024-09-29 20:16:17.270 +03:00 [DBG] Connection id "0HN70L9MTOQI3" stopped.
2024-09-29 20:16:17.272 +03:00 [DBG] Connection id "0HN70L9MTOQI2" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 20:16:17.272 +03:00 [DBG] Connection id "0HN70L9MTOQI3" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 20:16:25.053 +03:00 [DBG] Connection id "0HN70L9MTOQI4" accepted.
2024-09-29 20:16:25.055 +03:00 [DBG] Connection id "0HN70L9MTOQI4" started.
2024-09-29 20:16:25.142 +03:00 [DBG] Connection "0HN70L9MTOQI4" established using the following protocol: "Tls13"
2024-09-29 20:16:25.235 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2024-09-29 20:16:25.358 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-29 20:16:25.622 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-29 20:16:25.635 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-29 20:16:25.644 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 412.8240ms
2024-09-29 20:16:25.665 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - -
2024-09-29 20:16:25.665 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - -
2024-09-29 20:16:25.671 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - - - 200 12366 application/javascript;+charset=utf-8 6.3215ms
2024-09-29 20:16:25.715 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 50.3574ms
2024-09-29 20:16:25.786 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2024-09-29 20:16:25.899 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 113.0868ms
2024-09-29 20:16:32.736 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:5001/api/CustomerOrders/delete/13 - -
2024-09-29 20:16:32.740 +03:00 [DBG] DELETE requests are not supported
2024-09-29 20:16:32.780 +03:00 [DBG] 1 candidate(s) found for the request path '/api/CustomerOrders/delete/13'
2024-09-29 20:16:32.792 +03:00 [DBG] Endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Delete (CustomerOrder.API)' with route pattern 'api/CustomerOrders/delete/{id}' is valid for the request path '/api/CustomerOrders/delete/13'
2024-09-29 20:16:32.795 +03:00 [DBG] Request matched endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Delete (CustomerOrder.API)'
2024-09-29 20:16:32.903 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-29 20:16:32.909 +03:00 [INF] Executing endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Delete (CustomerOrder.API)'
2024-09-29 20:16:32.925 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-29 20:16:32.967 +03:00 [INF] Route matched with {action = "Delete", controller = "CustomerOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Delete(Int32) on controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API).
2024-09-29 20:16:32.972 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-29 20:16:32.974 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-29 20:16:32.976 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-29 20:16:32.977 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-29 20:16:32.978 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-29 20:16:32.979 +03:00 [DBG] Executing controller factory for controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API)
2024-09-29 20:16:33.126 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-29 20:16:33.353 +03:00 [DBG] Executed controller factory for controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API)
2024-09-29 20:16:33.368 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-09-29 20:16:33.371 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-09-29 20:16:33.375 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-29 20:16:33.377 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-29 20:16:33.378 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-09-29 20:16:33.380 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-09-29 20:16:35.588 +03:00 [INF] Entity Framework Core 5.0.10 initialized 'DataContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2024-09-29 20:16:35.667 +03:00 [DBG] Compiling query expression: 
'DbSet<CustomerOrder>()
    .FirstOrDefault(e => EF.Property<int>(e, "Id") == __p_0)'
2024-09-29 20:16:35.880 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<CustomerOrder>(
    asyncEnumerable: new SingleQueryingEnumerable<CustomerOrder>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: CustomerOrder.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: CustomerOrder.CreatedBy (int) Required, 1], [Property: CustomerOrder.CreatedDate (DateTime) Required, 2], [Property: CustomerOrder.CustomerId (int) Required FK Index, 3], [Property: CustomerOrder.IsDeleted (bool) Required, 4], [Property: CustomerOrder.UpdatedBy (Nullable<int>), 5], [Property: CustomerOrder.UpdatedDate (Nullable<DateTime>), 6], }
            SELECT TOP(1) c.Id, c.CreatedBy, c.CreatedDate, c.CustomerId, c.IsDeleted, c.UpdatedBy, c.UpdatedDate
            FROM CustomerOrders AS c
            WHERE c.Id == @__p_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, CustomerOrder>, 
        CustomerOrder.Data.Context.DataContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-29 20:16:35.926 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 20:16:35.959 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (26ms).
2024-09-29 20:16:35.970 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:16:36.471 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:16:36.493 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedBy", c."CreatedDate", c."CustomerId", c."IsDeleted", c."UpdatedBy", c."UpdatedDate"
FROM "CustomerOrders" AS c
WHERE c."Id" = @__p_0
LIMIT 1
2024-09-29 20:16:36.514 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedBy", c."CreatedDate", c."CustomerId", c."IsDeleted", c."UpdatedBy", c."UpdatedDate"
FROM "CustomerOrders" AS c
WHERE c."Id" = @__p_0
LIMIT 1
2024-09-29 20:16:36.574 +03:00 [DBG] Context 'DataContext' started tracking 'CustomerOrder' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 20:16:36.661 +03:00 [DBG] A data reader was disposed.
2024-09-29 20:16:36.668 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:16:36.681 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:16:38.482 +03:00 [DBG] An entity of type 'CustomerOrder' tracked by 'DataContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 20:16:39.102 +03:00 [DBG] Compiling query expression: 
'DbSet<Customer>()
    .FirstOrDefault(e => EF.Property<int>(e, "Id") == __p_0)'
2024-09-29 20:16:39.108 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Customer>(
    asyncEnumerable: new SingleQueryingEnumerable<Customer>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Customer.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Customer.Address (string) Required, 1], [Property: Customer.CreatedBy (int) Required, 2], [Property: Customer.CreatedDate (DateTime) Required, 3], [Property: Customer.Email (string) Required, 4], [Property: Customer.IsDeleted (bool) Required, 5], [Property: Customer.Name (string) Required, 6], [Property: Customer.UpdatedBy (Nullable<int>), 7], [Property: Customer.UpdatedDate (Nullable<DateTime>), 8], }
            SELECT TOP(1) c.Id, c.Address, c.CreatedBy, c.CreatedDate, c.Email, c.IsDeleted, c.Name, c.UpdatedBy, c.UpdatedDate
            FROM Customers AS c
            WHERE c.Id == @__p_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Customer>, 
        CustomerOrder.Data.Context.DataContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-29 20:16:39.112 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 20:16:39.113 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-29 20:16:39.114 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:16:39.114 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:16:39.115 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Address", c."CreatedBy", c."CreatedDate", c."Email", c."IsDeleted", c."Name", c."UpdatedBy", c."UpdatedDate"
FROM "Customers" AS c
WHERE c."Id" = @__p_0
LIMIT 1
2024-09-29 20:16:39.119 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Address", c."CreatedBy", c."CreatedDate", c."Email", c."IsDeleted", c."Name", c."UpdatedBy", c."UpdatedDate"
FROM "Customers" AS c
WHERE c."Id" = @__p_0
LIMIT 1
2024-09-29 20:16:39.140 +03:00 [DBG] Context 'DataContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 20:16:39.161 +03:00 [DBG] A data reader was disposed.
2024-09-29 20:16:39.161 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:16:39.162 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:16:42.790 +03:00 [DBG] An entity of type 'Customer' tracked by 'DataContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 20:16:43.840 +03:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .Where(x => x.CustomerOrderId == __customerOrder_CustomerId_0)'
2024-09-29 20:16:43.847 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Product>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Product.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Product.Barcode (string), 1], [Property: Product.CreatedBy (int) Required, 2], [Property: Product.CreatedDate (DateTime) Required, 3], [Property: Product.CustomerOrderId (int) Required FK Index, 4], [Property: Product.Description (string), 5], [Property: Product.IsDeleted (bool) Required, 6], [Property: Product.Price (decimal) Required, 7], [Property: Product.Quantity (int) Required, 8], [Property: Product.UpdatedBy (Nullable<int>), 9], [Property: Product.UpdatedDate (Nullable<DateTime>), 10], }
        SELECT p.Id, p.Barcode, p.CreatedBy, p.CreatedDate, p.CustomerOrderId, p.Description, p.IsDeleted, p.Price, p.Quantity, p.UpdatedBy, p.UpdatedDate
        FROM Products AS p
        WHERE p.CustomerOrderId == @__customerOrder_CustomerId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Product>, 
    CustomerOrder.Data.Context.DataContext, 
    False, 
    False
)'
2024-09-29 20:16:43.848 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 20:16:43.849 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-29 20:16:43.849 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:16:43.850 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:16:43.851 +03:00 [DBG] Executing DbCommand [Parameters=[@__customerOrder_CustomerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Barcode", p."CreatedBy", p."CreatedDate", p."CustomerOrderId", p."Description", p."IsDeleted", p."Price", p."Quantity", p."UpdatedBy", p."UpdatedDate"
FROM "Products" AS p
WHERE p."CustomerOrderId" = @__customerOrder_CustomerId_0
2024-09-29 20:16:43.855 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__customerOrder_CustomerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Barcode", p."CreatedBy", p."CreatedDate", p."CustomerOrderId", p."Description", p."IsDeleted", p."Price", p."Quantity", p."UpdatedBy", p."UpdatedDate"
FROM "Products" AS p
WHERE p."CustomerOrderId" = @__customerOrder_CustomerId_0
2024-09-29 20:16:43.876 +03:00 [DBG] A data reader was disposed.
2024-09-29 20:16:43.877 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:16:43.878 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:16:46.683 +03:00 [DBG] SaveChanges starting for 'DataContext'.
2024-09-29 20:16:46.688 +03:00 [DBG] DetectChanges starting for 'DataContext'.
2024-09-29 20:16:46.691 +03:00 [DBG] DetectChanges completed for 'DataContext'.
2024-09-29 20:16:46.719 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:16:46.723 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:16:46.725 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-29 20:16:46.729 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-29 20:16:46.785 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 20:16:46.787 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-29 20:16:46.791 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "CustomerOrders"
WHERE "Id" = @p0;
2024-09-29 20:16:46.793 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "CustomerOrders"
WHERE "Id" = @p0;
2024-09-29 20:16:46.799 +03:00 [DBG] A data reader was disposed.
2024-09-29 20:16:46.800 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 20:16:46.801 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-29 20:16:46.801 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Customers"
WHERE "Id" = @p1;
2024-09-29 20:16:46.805 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Customers"
WHERE "Id" = @p1;
2024-09-29 20:16:46.807 +03:00 [DBG] A data reader was disposed.
2024-09-29 20:16:46.810 +03:00 [DBG] Committing transaction.
2024-09-29 20:16:46.817 +03:00 [DBG] Committed transaction.
2024-09-29 20:16:46.824 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:16:46.826 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:16:46.831 +03:00 [DBG] Disposing transaction.
2024-09-29 20:16:46.842 +03:00 [DBG] An entity of type 'CustomerOrder' tracked by 'DataContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 20:16:46.845 +03:00 [DBG] An entity of type 'Customer' tracked by 'DataContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 20:16:46.850 +03:00 [DBG] SaveChanges completed for 'DataContext' with 2 entities written to the database.
2024-09-29 20:16:46.872 +03:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 204
2024-09-29 20:16:46.885 +03:00 [INF] Executed action CustomerOrder.API.Controllers.CustomerOrdersController.Delete (CustomerOrder.API) in 13896.733ms
2024-09-29 20:16:46.889 +03:00 [INF] Executed endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Delete (CustomerOrder.API)'
2024-09-29 20:16:46.895 +03:00 [DBG] 'DataContext' disposed.
2024-09-29 20:16:46.899 +03:00 [INF] Request finished HTTP/2 DELETE https://localhost:5001/api/CustomerOrders/delete/13 - - - 204 - - 14163.1292ms
2024-09-29 20:17:15.188 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/CustomerOrders/add application/json 147
2024-09-29 20:17:15.190 +03:00 [DBG] POST requests are not supported
2024-09-29 20:17:15.194 +03:00 [DBG] 1 candidate(s) found for the request path '/api/CustomerOrders/add'
2024-09-29 20:17:15.195 +03:00 [DBG] Endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API)' with route pattern 'api/CustomerOrders/add' is valid for the request path '/api/CustomerOrders/add'
2024-09-29 20:17:15.197 +03:00 [DBG] Request matched endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API)'
2024-09-29 20:17:15.198 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-29 20:17:15.199 +03:00 [INF] Executing endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API)'
2024-09-29 20:17:15.202 +03:00 [INF] Route matched with {action = "Add", controller = "CustomerOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto]] Add(CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto) on controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API).
2024-09-29 20:17:15.203 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-29 20:17:15.204 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-29 20:17:15.205 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-29 20:17:15.206 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-29 20:17:15.206 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-29 20:17:15.207 +03:00 [DBG] Executing controller factory for controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API)
2024-09-29 20:17:15.208 +03:00 [DBG] Executed controller factory for controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API)
2024-09-29 20:17:15.208 +03:00 [DBG] Attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto' ...
2024-09-29 20:17:15.211 +03:00 [DBG] Attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto' using the name '' in request data ...
2024-09-29 20:17:15.213 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-29 20:17:15.227 +03:00 [DBG] Connection id "0HN70L9MTOQI4", Request id "0HN70L9MTOQI4:0000000B": started reading request body.
2024-09-29 20:17:15.229 +03:00 [DBG] Connection id "0HN70L9MTOQI4", Request id "0HN70L9MTOQI4:0000000B": done reading request body.
2024-09-29 20:17:15.254 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'
2024-09-29 20:17:15.255 +03:00 [DBG] Done attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 20:17:15.256 +03:00 [DBG] Done attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 20:17:15.257 +03:00 [DBG] Attempting to validate the bound parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto' ...
2024-09-29 20:17:15.262 +03:00 [DBG] Done attempting to validate the bound parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 20:17:21.030 +03:00 [INF] Entity Framework Core 5.0.10 initialized 'DataContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2024-09-29 20:17:21.035 +03:00 [DBG] Compiling query expression: 
'DbSet<Customer>()
    .FirstOrDefault(c => c.Email == __orderDto_Customer_Email_0)'
2024-09-29 20:17:21.038 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Customer>(
    asyncEnumerable: new SingleQueryingEnumerable<Customer>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Customer.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Customer.Address (string) Required, 1], [Property: Customer.CreatedBy (int) Required, 2], [Property: Customer.CreatedDate (DateTime) Required, 3], [Property: Customer.Email (string) Required, 4], [Property: Customer.IsDeleted (bool) Required, 5], [Property: Customer.Name (string) Required, 6], [Property: Customer.UpdatedBy (Nullable<int>), 7], [Property: Customer.UpdatedDate (Nullable<DateTime>), 8], }
            SELECT TOP(1) c.Id, c.Address, c.CreatedBy, c.CreatedDate, c.Email, c.IsDeleted, c.Name, c.UpdatedBy, c.UpdatedDate
            FROM Customers AS c
            WHERE c.Email == @__orderDto_Customer_Email_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Customer>, 
        CustomerOrder.Data.Context.DataContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-29 20:17:21.040 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 20:17:21.041 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-29 20:17:21.043 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:17:21.044 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:17:21.045 +03:00 [DBG] Executing DbCommand [Parameters=[@__orderDto_Customer_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Address", c."CreatedBy", c."CreatedDate", c."Email", c."IsDeleted", c."Name", c."UpdatedBy", c."UpdatedDate"
FROM "Customers" AS c
WHERE c."Email" = @__orderDto_Customer_Email_0
LIMIT 1
2024-09-29 20:17:21.048 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__orderDto_Customer_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Address", c."CreatedBy", c."CreatedDate", c."Email", c."IsDeleted", c."Name", c."UpdatedBy", c."UpdatedDate"
FROM "Customers" AS c
WHERE c."Email" = @__orderDto_Customer_Email_0
LIMIT 1
2024-09-29 20:17:21.050 +03:00 [DBG] Context 'DataContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 20:17:21.051 +03:00 [DBG] A data reader was disposed.
2024-09-29 20:17:21.052 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:17:21.052 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:17:21.068 +03:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .FirstOrDefault(p => p.Barcode == __item_Barcode_0)'
2024-09-29 20:17:21.071 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Product>(
    asyncEnumerable: new SingleQueryingEnumerable<Product>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Product.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Product.Barcode (string), 1], [Property: Product.CreatedBy (int) Required, 2], [Property: Product.CreatedDate (DateTime) Required, 3], [Property: Product.CustomerOrderId (int) Required FK Index, 4], [Property: Product.Description (string), 5], [Property: Product.IsDeleted (bool) Required, 6], [Property: Product.Price (decimal) Required, 7], [Property: Product.Quantity (int) Required, 8], [Property: Product.UpdatedBy (Nullable<int>), 9], [Property: Product.UpdatedDate (Nullable<DateTime>), 10], }
            SELECT TOP(1) p.Id, p.Barcode, p.CreatedBy, p.CreatedDate, p.CustomerOrderId, p.Description, p.IsDeleted, p.Price, p.Quantity, p.UpdatedBy, p.UpdatedDate
            FROM Products AS p
            WHERE p.Barcode == @__item_Barcode_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Product>, 
        CustomerOrder.Data.Context.DataContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-29 20:17:21.078 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 20:17:21.080 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-29 20:17:21.080 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:17:21.081 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:17:21.081 +03:00 [DBG] Executing DbCommand [Parameters=[@__item_Barcode_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Barcode", p."CreatedBy", p."CreatedDate", p."CustomerOrderId", p."Description", p."IsDeleted", p."Price", p."Quantity", p."UpdatedBy", p."UpdatedDate"
FROM "Products" AS p
WHERE p."Barcode" = @__item_Barcode_0
LIMIT 1
2024-09-29 20:17:21.087 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__item_Barcode_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Barcode", p."CreatedBy", p."CreatedDate", p."CustomerOrderId", p."Description", p."IsDeleted", p."Price", p."Quantity", p."UpdatedBy", p."UpdatedDate"
FROM "Products" AS p
WHERE p."Barcode" = @__item_Barcode_0
LIMIT 1
2024-09-29 20:17:21.088 +03:00 [DBG] A data reader was disposed.
2024-09-29 20:17:21.089 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:17:21.089 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:17:21.109 +03:00 [DBG] 'DataContext' generated a temporary value for the property 'Id.CustomerOrder'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 20:17:21.120 +03:00 [DBG] Context 'DataContext' started tracking 'CustomerOrder' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 20:17:21.123 +03:00 [DBG] SaveChanges starting for 'DataContext'.
2024-09-29 20:17:21.125 +03:00 [DBG] DetectChanges starting for 'DataContext'.
2024-09-29 20:17:21.129 +03:00 [DBG] DetectChanges completed for 'DataContext'.
2024-09-29 20:17:21.130 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:17:21.131 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:17:21.133 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-29 20:17:21.133 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-29 20:17:21.144 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 20:17:21.145 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-29 20:17:21.149 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "CustomerOrders" ("CreatedBy", "CreatedDate", "CustomerId", "IsDeleted", "UpdatedBy", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING "Id";
2024-09-29 20:17:21.165 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "CustomerOrders" ("CreatedBy", "CreatedDate", "CustomerId", "IsDeleted", "UpdatedBy", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING "Id";
2024-09-29 20:17:21.186 +03:00 [DBG] The foreign key property 'CustomerOrder.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-29 20:17:21.195 +03:00 [DBG] A data reader was disposed.
2024-09-29 20:17:21.196 +03:00 [DBG] Committing transaction.
2024-09-29 20:17:21.198 +03:00 [DBG] Committed transaction.
2024-09-29 20:17:21.204 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:17:21.207 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:17:21.209 +03:00 [DBG] Disposing transaction.
2024-09-29 20:17:21.213 +03:00 [DBG] An entity of type 'CustomerOrder' tracked by 'DataContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 20:17:21.215 +03:00 [DBG] SaveChanges completed for 'DataContext' with 1 entities written to the database.
2024-09-29 20:17:21.217 +03:00 [DBG] 'DataContext' generated a temporary value for the property 'Id.Product'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 20:17:21.243 +03:00 [DBG] Context 'DataContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 20:17:22.820 +03:00 [DBG] SaveChanges starting for 'DataContext'.
2024-09-29 20:17:22.821 +03:00 [DBG] DetectChanges starting for 'DataContext'.
2024-09-29 20:17:22.829 +03:00 [DBG] DetectChanges completed for 'DataContext'.
2024-09-29 20:17:22.830 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:17:22.831 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:17:22.832 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-29 20:17:22.833 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-29 20:17:22.833 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 20:17:22.834 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-29 20:17:22.835 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Products" ("Barcode", "CreatedBy", "CreatedDate", "CustomerOrderId", "Description", "IsDeleted", "Price", "Quantity", "UpdatedBy", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9)
RETURNING "Id";
2024-09-29 20:17:22.844 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Products" ("Barcode", "CreatedBy", "CreatedDate", "CustomerOrderId", "Description", "IsDeleted", "Price", "Quantity", "UpdatedBy", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9)
RETURNING "Id";
2024-09-29 20:17:22.861 +03:00 [DBG] The foreign key property 'Product.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-29 20:17:22.863 +03:00 [DBG] A data reader was disposed.
2024-09-29 20:17:22.864 +03:00 [DBG] Committing transaction.
2024-09-29 20:17:22.865 +03:00 [DBG] Committed transaction.
2024-09-29 20:17:22.866 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:17:22.867 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:17:22.868 +03:00 [DBG] Disposing transaction.
2024-09-29 20:17:22.869 +03:00 [DBG] An entity of type 'Product' tracked by 'DataContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 20:17:22.870 +03:00 [DBG] SaveChanges completed for 'DataContext' with 1 entities written to the database.
2024-09-29 20:17:24.228 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-29 20:17:24.235 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-09-29 20:17:24.238 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-09-29 20:17:24.241 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-29 20:17:24.241 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-29 20:17:24.243 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-29 20:17:24.244 +03:00 [INF] Executing OkObjectResult, writing value of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 20:17:24.254 +03:00 [INF] Executed action CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API) in 9047.0329ms
2024-09-29 20:17:24.255 +03:00 [INF] Executed endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API)'
2024-09-29 20:17:24.256 +03:00 [DBG] 'DataContext' disposed.
2024-09-29 20:17:24.257 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/CustomerOrders/add application/json 147 - 200 - application/json;+charset=utf-8 9068.8384ms
2024-09-29 20:17:46.868 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:5001/api/CustomerOrders/delete/15 - -
2024-09-29 20:17:46.869 +03:00 [DBG] DELETE requests are not supported
2024-09-29 20:17:46.870 +03:00 [DBG] 1 candidate(s) found for the request path '/api/CustomerOrders/delete/15'
2024-09-29 20:17:46.871 +03:00 [DBG] Endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Delete (CustomerOrder.API)' with route pattern 'api/CustomerOrders/delete/{id}' is valid for the request path '/api/CustomerOrders/delete/15'
2024-09-29 20:17:46.872 +03:00 [DBG] Request matched endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Delete (CustomerOrder.API)'
2024-09-29 20:17:46.876 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-29 20:17:46.877 +03:00 [INF] Executing endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Delete (CustomerOrder.API)'
2024-09-29 20:17:46.879 +03:00 [INF] Route matched with {action = "Delete", controller = "CustomerOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Delete(Int32) on controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API).
2024-09-29 20:17:46.882 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-29 20:17:46.884 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-29 20:17:46.886 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-29 20:17:46.888 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-29 20:17:46.889 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-29 20:17:46.890 +03:00 [DBG] Executing controller factory for controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API)
2024-09-29 20:17:46.894 +03:00 [DBG] Executed controller factory for controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API)
2024-09-29 20:17:46.896 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-09-29 20:17:46.897 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-09-29 20:17:46.898 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-29 20:17:46.899 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-29 20:17:46.901 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-09-29 20:17:46.902 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-09-29 20:17:49.177 +03:00 [INF] Entity Framework Core 5.0.10 initialized 'DataContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2024-09-29 20:17:49.184 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 20:17:49.187 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-29 20:17:49.188 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:17:49.188 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:17:49.189 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedBy", c."CreatedDate", c."CustomerId", c."IsDeleted", c."UpdatedBy", c."UpdatedDate"
FROM "CustomerOrders" AS c
WHERE c."Id" = @__p_0
LIMIT 1
2024-09-29 20:17:49.190 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedBy", c."CreatedDate", c."CustomerId", c."IsDeleted", c."UpdatedBy", c."UpdatedDate"
FROM "CustomerOrders" AS c
WHERE c."Id" = @__p_0
LIMIT 1
2024-09-29 20:17:49.192 +03:00 [DBG] Context 'DataContext' started tracking 'CustomerOrder' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 20:17:49.193 +03:00 [DBG] A data reader was disposed.
2024-09-29 20:17:49.193 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:17:49.194 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:17:50.023 +03:00 [DBG] An entity of type 'CustomerOrder' tracked by 'DataContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 20:17:50.469 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 20:17:50.470 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-29 20:17:50.471 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:17:50.471 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:17:50.472 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Address", c."CreatedBy", c."CreatedDate", c."Email", c."IsDeleted", c."Name", c."UpdatedBy", c."UpdatedDate"
FROM "Customers" AS c
WHERE c."Id" = @__p_0
LIMIT 1
2024-09-29 20:17:50.475 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Address", c."CreatedBy", c."CreatedDate", c."Email", c."IsDeleted", c."Name", c."UpdatedBy", c."UpdatedDate"
FROM "Customers" AS c
WHERE c."Id" = @__p_0
LIMIT 1
2024-09-29 20:17:50.494 +03:00 [DBG] Context 'DataContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 20:17:50.495 +03:00 [DBG] A data reader was disposed.
2024-09-29 20:17:50.496 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:17:50.497 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:17:54.395 +03:00 [DBG] An entity of type 'Customer' tracked by 'DataContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 20:17:55.770 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 20:17:55.771 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-29 20:17:55.772 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:17:55.773 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:17:55.773 +03:00 [DBG] Executing DbCommand [Parameters=[@__customerOrder_CustomerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Barcode", p."CreatedBy", p."CreatedDate", p."CustomerOrderId", p."Description", p."IsDeleted", p."Price", p."Quantity", p."UpdatedBy", p."UpdatedDate"
FROM "Products" AS p
WHERE p."CustomerOrderId" = @__customerOrder_CustomerId_0
2024-09-29 20:17:55.775 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__customerOrder_CustomerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Barcode", p."CreatedBy", p."CreatedDate", p."CustomerOrderId", p."Description", p."IsDeleted", p."Price", p."Quantity", p."UpdatedBy", p."UpdatedDate"
FROM "Products" AS p
WHERE p."CustomerOrderId" = @__customerOrder_CustomerId_0
2024-09-29 20:17:55.792 +03:00 [DBG] A data reader was disposed.
2024-09-29 20:17:55.792 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:17:55.793 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:17:57.926 +03:00 [DBG] SaveChanges starting for 'DataContext'.
2024-09-29 20:17:57.927 +03:00 [DBG] DetectChanges starting for 'DataContext'.
2024-09-29 20:17:57.928 +03:00 [DBG] DetectChanges completed for 'DataContext'.
2024-09-29 20:17:57.929 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:17:57.930 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:17:57.930 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-29 20:17:57.931 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-29 20:17:57.931 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 20:17:57.932 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-29 20:17:57.934 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "CustomerOrders"
WHERE "Id" = @p0;
2024-09-29 20:17:57.939 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "CustomerOrders"
WHERE "Id" = @p0;
2024-09-29 20:17:57.956 +03:00 [DBG] A data reader was disposed.
2024-09-29 20:17:57.957 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 20:17:57.958 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-29 20:17:57.959 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Customers"
WHERE "Id" = @p1;
2024-09-29 20:17:57.961 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Customers"
WHERE "Id" = @p1;
2024-09-29 20:17:57.963 +03:00 [DBG] A data reader was disposed.
2024-09-29 20:17:57.963 +03:00 [DBG] Committing transaction.
2024-09-29 20:17:57.965 +03:00 [DBG] Committed transaction.
2024-09-29 20:17:57.966 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:17:57.967 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 20:17:57.967 +03:00 [DBG] Disposing transaction.
2024-09-29 20:17:57.968 +03:00 [DBG] An entity of type 'CustomerOrder' tracked by 'DataContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 20:17:57.969 +03:00 [DBG] An entity of type 'Customer' tracked by 'DataContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 20:17:57.970 +03:00 [DBG] SaveChanges completed for 'DataContext' with 2 entities written to the database.
2024-09-29 20:17:59.412 +03:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 204
2024-09-29 20:17:59.413 +03:00 [INF] Executed action CustomerOrder.API.Controllers.CustomerOrdersController.Delete (CustomerOrder.API) in 12522.5246ms
2024-09-29 20:17:59.415 +03:00 [INF] Executed endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Delete (CustomerOrder.API)'
2024-09-29 20:17:59.416 +03:00 [DBG] 'DataContext' disposed.
2024-09-29 20:17:59.418 +03:00 [INF] Request finished HTTP/2 DELETE https://localhost:5001/api/CustomerOrders/delete/15 - - - 204 - - 12548.9964ms
2024-09-29 21:10:52.847 +03:00 [INF] Starting web host
2024-09-29 21:10:54.293 +03:00 [DBG] Hosting starting
2024-09-29 21:10:54.346 +03:00 [INF] User profile is available. Using 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-29 21:10:54.368 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-0aa42add-f3b4-405e-a8c2-992d6e29a85c.xml'.
2024-09-29 21:10:54.380 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-71b87755-2ee9-43e6-87de-6c92ed7c99a6.xml'.
2024-09-29 21:10:54.381 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-acea2ac6-9b67-4521-b460-630e25f9dc5a.xml'.
2024-09-29 21:10:54.386 +03:00 [DBG] Found key {0aa42add-f3b4-405e-a8c2-992d6e29a85c}.
2024-09-29 21:10:54.392 +03:00 [DBG] Found key {71b87755-2ee9-43e6-87de-6c92ed7c99a6}.
2024-09-29 21:10:54.393 +03:00 [DBG] Found key {acea2ac6-9b67-4521-b460-630e25f9dc5a}.
2024-09-29 21:10:54.400 +03:00 [DBG] Considering key {acea2ac6-9b67-4521-b460-630e25f9dc5a} with expiration date 2024-10-15 10:31:27Z as default key.
2024-09-29 21:10:54.416 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-29 21:10:54.422 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-29 21:10:54.425 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-29 21:10:54.434 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-29 21:10:54.441 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-29 21:10:54.445 +03:00 [DBG] Using key {acea2ac6-9b67-4521-b460-630e25f9dc5a} as the default key.
2024-09-29 21:10:54.447 +03:00 [DBG] Key ring with default key {acea2ac6-9b67-4521-b460-630e25f9dc5a} was loaded during application startup.
2024-09-29 21:10:54.729 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: D6697AE29B19EBA86816E6295ADBAF33F0642E18)
2024-09-29 21:10:54.753 +03:00 [INF] Now listening on: https://localhost:5001
2024-09-29 21:10:54.754 +03:00 [INF] Now listening on: http://localhost:5000
2024-09-29 21:10:54.755 +03:00 [DBG] Loaded hosting startup assembly CustomerOrder.API
2024-09-29 21:10:54.756 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-29 21:10:54.756 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-29 21:10:54.757 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-29 21:10:54.757 +03:00 [INF] Hosting environment: Development
2024-09-29 21:10:54.758 +03:00 [INF] Content root path: C:\Users\cagrie\source\repos\CustomerOrder\CustomerOrder.API
2024-09-29 21:10:54.758 +03:00 [DBG] Hosting started
2024-09-29 21:10:54.884 +03:00 [DBG] Connection id "0HN70M87O2Q5L" received FIN.
2024-09-29 21:10:54.884 +03:00 [DBG] Connection id "0HN70M87O2Q5L" accepted.
2024-09-29 21:10:54.884 +03:00 [DBG] Connection id "0HN70M87O2Q5M" accepted.
2024-09-29 21:10:54.884 +03:00 [DBG] Connection id "0HN70M87O2Q5M" received FIN.
2024-09-29 21:10:54.891 +03:00 [DBG] Connection id "0HN70M87O2Q5M" started.
2024-09-29 21:10:54.891 +03:00 [DBG] Connection id "0HN70M87O2Q5L" started.
2024-09-29 21:10:54.918 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.<>c.<ProcessAuthenticationWithTelemetry>b__169_2(Task t, Object s)
   at System.Threading.Tasks.ContinuationTaskFromTask.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-29 21:10:54.918 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.<>c.<ProcessAuthenticationWithTelemetry>b__169_2(Task t, Object s)
   at System.Threading.Tasks.ContinuationTaskFromTask.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-29 21:10:54.966 +03:00 [DBG] Connection id "0HN70M87O2Q5L" stopped.
2024-09-29 21:10:54.966 +03:00 [DBG] Connection id "0HN70M87O2Q5M" stopped.
2024-09-29 21:10:54.995 +03:00 [DBG] Connection id "0HN70M87O2Q5M" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 21:10:54.995 +03:00 [DBG] Connection id "0HN70M87O2Q5L" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 21:11:05.588 +03:00 [DBG] Connection id "0HN70M87O2Q5N" accepted.
2024-09-29 21:11:05.590 +03:00 [DBG] Connection id "0HN70M87O2Q5N" started.
2024-09-29 21:11:05.719 +03:00 [DBG] Connection "0HN70M87O2Q5N" established using the following protocol: "Tls13"
2024-09-29 21:11:05.800 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2024-09-29 21:11:05.908 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-29 21:11:06.111 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-29 21:11:06.120 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-29 21:11:06.131 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 336.0349ms
2024-09-29 21:11:06.132 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - -
2024-09-29 21:11:06.132 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - -
2024-09-29 21:11:06.147 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - - - 200 12366 application/javascript;+charset=utf-8 15.5045ms
2024-09-29 21:11:06.205 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 72.9508ms
2024-09-29 21:11:06.237 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2024-09-29 21:11:06.345 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 108.5391ms
2024-09-29 21:11:22.016 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/CustomerOrders/add application/json 147
2024-09-29 21:11:22.024 +03:00 [DBG] POST requests are not supported
2024-09-29 21:11:22.064 +03:00 [DBG] 1 candidate(s) found for the request path '/api/CustomerOrders/add'
2024-09-29 21:11:22.072 +03:00 [DBG] Endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API)' with route pattern 'api/CustomerOrders/add' is valid for the request path '/api/CustomerOrders/add'
2024-09-29 21:11:22.074 +03:00 [DBG] Request matched endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API)'
2024-09-29 21:11:22.162 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-29 21:11:22.165 +03:00 [INF] Executing endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API)'
2024-09-29 21:11:22.176 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-29 21:11:22.231 +03:00 [INF] Route matched with {action = "Add", controller = "CustomerOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto]] Add(CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto) on controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API).
2024-09-29 21:11:22.237 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-29 21:11:22.238 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-29 21:11:22.242 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-29 21:11:22.243 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-29 21:11:22.244 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-29 21:11:22.245 +03:00 [DBG] Executing controller factory for controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API)
2024-09-29 21:11:22.386 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-29 21:11:22.645 +03:00 [DBG] Executed controller factory for controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API)
2024-09-29 21:11:22.659 +03:00 [DBG] Attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto' ...
2024-09-29 21:11:22.663 +03:00 [DBG] Attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto' using the name '' in request data ...
2024-09-29 21:11:22.665 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-29 21:11:22.685 +03:00 [DBG] Connection id "0HN70M87O2Q5N", Request id "0HN70M87O2Q5N:00000009": started reading request body.
2024-09-29 21:11:22.691 +03:00 [DBG] Connection id "0HN70M87O2Q5N", Request id "0HN70M87O2Q5N:00000009": done reading request body.
2024-09-29 21:11:22.721 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'
2024-09-29 21:11:22.723 +03:00 [DBG] Done attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 21:11:22.726 +03:00 [DBG] Done attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 21:11:22.729 +03:00 [DBG] Attempting to validate the bound parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto' ...
2024-09-29 21:11:22.734 +03:00 [DBG] Done attempting to validate the bound parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 21:11:25.555 +03:00 [INF] Entity Framework Core 5.0.10 initialized 'DataContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2024-09-29 21:11:25.606 +03:00 [DBG] Compiling query expression: 
'DbSet<Customer>()
    .FirstOrDefault(c => c.Email == __orderDto_Customer_Email_0)'
2024-09-29 21:11:25.821 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Customer>(
    asyncEnumerable: new SingleQueryingEnumerable<Customer>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Customer.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Customer.Address (string) Required, 1], [Property: Customer.CreatedBy (int) Required, 2], [Property: Customer.CreatedDate (DateTime) Required, 3], [Property: Customer.Email (string) Required, 4], [Property: Customer.IsDeleted (bool) Required, 5], [Property: Customer.Name (string) Required, 6], [Property: Customer.UpdatedBy (Nullable<int>), 7], [Property: Customer.UpdatedDate (Nullable<DateTime>), 8], }
            SELECT TOP(1) c.Id, c.Address, c.CreatedBy, c.CreatedDate, c.Email, c.IsDeleted, c.Name, c.UpdatedBy, c.UpdatedDate
            FROM Customers AS c
            WHERE c.Email == @__orderDto_Customer_Email_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Customer>, 
        CustomerOrder.Data.Context.DataContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-29 21:11:25.885 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 21:11:25.913 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (25ms).
2024-09-29 21:11:25.931 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 21:11:26.586 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 21:11:26.598 +03:00 [DBG] Executing DbCommand [Parameters=[@__orderDto_Customer_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Address", c."CreatedBy", c."CreatedDate", c."Email", c."IsDeleted", c."Name", c."UpdatedBy", c."UpdatedDate"
FROM "Customers" AS c
WHERE c."Email" = @__orderDto_Customer_Email_0
LIMIT 1
2024-09-29 21:11:26.628 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[@__orderDto_Customer_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Address", c."CreatedBy", c."CreatedDate", c."Email", c."IsDeleted", c."Name", c."UpdatedBy", c."UpdatedDate"
FROM "Customers" AS c
WHERE c."Email" = @__orderDto_Customer_Email_0
LIMIT 1
2024-09-29 21:11:26.640 +03:00 [DBG] A data reader was disposed.
2024-09-29 21:11:26.645 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 21:11:26.657 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 21:11:26.692 +03:00 [DBG] 'DataContext' generated a temporary value for the property 'Id.Customer'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 21:11:26.799 +03:00 [DBG] Context 'DataContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 21:11:26.807 +03:00 [DBG] SaveChanges starting for 'DataContext'.
2024-09-29 21:11:26.813 +03:00 [DBG] DetectChanges starting for 'DataContext'.
2024-09-29 21:11:26.834 +03:00 [DBG] DetectChanges completed for 'DataContext'.
2024-09-29 21:11:26.867 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 21:11:26.870 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 21:11:26.873 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-29 21:11:26.882 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-29 21:11:26.940 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 21:11:26.945 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-09-29 21:11:26.947 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Customers" ("Address", "CreatedBy", "CreatedDate", "Email", "IsDeleted", "Name", "UpdatedBy", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "Id";
2024-09-29 21:11:26.954 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Customers" ("Address", "CreatedBy", "CreatedDate", "Email", "IsDeleted", "Name", "UpdatedBy", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "Id";
2024-09-29 21:11:26.973 +03:00 [DBG] The foreign key property 'Customer.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-29 21:11:26.978 +03:00 [DBG] A data reader was disposed.
2024-09-29 21:11:26.981 +03:00 [DBG] Committing transaction.
2024-09-29 21:11:26.991 +03:00 [DBG] Committed transaction.
2024-09-29 21:11:26.995 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 21:11:26.997 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 21:11:27.002 +03:00 [DBG] Disposing transaction.
2024-09-29 21:11:27.016 +03:00 [DBG] An entity of type 'Customer' tracked by 'DataContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 21:11:27.020 +03:00 [DBG] SaveChanges completed for 'DataContext' with 1 entities written to the database.
2024-09-29 21:11:27.031 +03:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .FirstOrDefault(p => p.Barcode == __item_Barcode_0)'
2024-09-29 21:11:27.037 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Product>(
    asyncEnumerable: new SingleQueryingEnumerable<Product>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Product.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Product.Barcode (string), 1], [Property: Product.CreatedBy (int) Required, 2], [Property: Product.CreatedDate (DateTime) Required, 3], [Property: Product.CustomerOrderId (int) Required FK Index, 4], [Property: Product.Description (string), 5], [Property: Product.IsDeleted (bool) Required, 6], [Property: Product.Price (decimal) Required, 7], [Property: Product.Quantity (int) Required, 8], [Property: Product.UpdatedBy (Nullable<int>), 9], [Property: Product.UpdatedDate (Nullable<DateTime>), 10], }
            SELECT TOP(1) p.Id, p.Barcode, p.CreatedBy, p.CreatedDate, p.CustomerOrderId, p.Description, p.IsDeleted, p.Price, p.Quantity, p.UpdatedBy, p.UpdatedDate
            FROM Products AS p
            WHERE p.Barcode == @__item_Barcode_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Product>, 
        CustomerOrder.Data.Context.DataContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-29 21:11:27.046 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 21:11:27.046 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-29 21:11:27.047 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 21:11:27.048 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 21:11:27.049 +03:00 [DBG] Executing DbCommand [Parameters=[@__item_Barcode_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Barcode", p."CreatedBy", p."CreatedDate", p."CustomerOrderId", p."Description", p."IsDeleted", p."Price", p."Quantity", p."UpdatedBy", p."UpdatedDate"
FROM "Products" AS p
WHERE p."Barcode" = @__item_Barcode_0
LIMIT 1
2024-09-29 21:11:27.054 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__item_Barcode_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Barcode", p."CreatedBy", p."CreatedDate", p."CustomerOrderId", p."Description", p."IsDeleted", p."Price", p."Quantity", p."UpdatedBy", p."UpdatedDate"
FROM "Products" AS p
WHERE p."Barcode" = @__item_Barcode_0
LIMIT 1
2024-09-29 21:11:27.055 +03:00 [DBG] A data reader was disposed.
2024-09-29 21:11:27.056 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 21:11:27.057 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 21:11:27.062 +03:00 [DBG] 'DataContext' generated a temporary value for the property 'Id.CustomerOrder'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 21:11:27.082 +03:00 [DBG] Context 'DataContext' started tracking 'CustomerOrder' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 21:11:27.084 +03:00 [DBG] SaveChanges starting for 'DataContext'.
2024-09-29 21:11:27.088 +03:00 [DBG] DetectChanges starting for 'DataContext'.
2024-09-29 21:11:27.095 +03:00 [DBG] DetectChanges completed for 'DataContext'.
2024-09-29 21:11:27.096 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 21:11:27.097 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 21:11:27.098 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-29 21:11:27.099 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-29 21:11:27.103 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 21:11:27.105 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-29 21:11:27.106 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "CustomerOrders" ("CreatedBy", "CreatedDate", "CustomerId", "IsDeleted", "UpdatedBy", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING "Id";
2024-09-29 21:11:27.109 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "CustomerOrders" ("CreatedBy", "CreatedDate", "CustomerId", "IsDeleted", "UpdatedBy", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING "Id";
2024-09-29 21:11:27.111 +03:00 [DBG] The foreign key property 'CustomerOrder.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-29 21:11:27.113 +03:00 [DBG] A data reader was disposed.
2024-09-29 21:11:27.113 +03:00 [DBG] Committing transaction.
2024-09-29 21:11:27.115 +03:00 [DBG] Committed transaction.
2024-09-29 21:11:27.115 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 21:11:27.116 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 21:11:27.118 +03:00 [DBG] Disposing transaction.
2024-09-29 21:11:27.119 +03:00 [DBG] An entity of type 'CustomerOrder' tracked by 'DataContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 21:11:27.121 +03:00 [DBG] SaveChanges completed for 'DataContext' with 1 entities written to the database.
2024-09-29 21:11:27.123 +03:00 [DBG] 'DataContext' generated a temporary value for the property 'Id.Product'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 21:11:27.163 +03:00 [DBG] Context 'DataContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 21:11:29.204 +03:00 [DBG] SaveChanges starting for 'DataContext'.
2024-09-29 21:11:29.206 +03:00 [DBG] DetectChanges starting for 'DataContext'.
2024-09-29 21:11:29.220 +03:00 [DBG] DetectChanges completed for 'DataContext'.
2024-09-29 21:11:29.224 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 21:11:29.225 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 21:11:29.226 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-29 21:11:29.227 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-29 21:11:29.229 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 21:11:29.230 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-29 21:11:29.231 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Products" ("Barcode", "CreatedBy", "CreatedDate", "CustomerOrderId", "Description", "IsDeleted", "Price", "Quantity", "UpdatedBy", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9)
RETURNING "Id";
2024-09-29 21:11:29.238 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Products" ("Barcode", "CreatedBy", "CreatedDate", "CustomerOrderId", "Description", "IsDeleted", "Price", "Quantity", "UpdatedBy", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9)
RETURNING "Id";
2024-09-29 21:11:29.241 +03:00 [DBG] The foreign key property 'Product.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-29 21:11:29.244 +03:00 [DBG] A data reader was disposed.
2024-09-29 21:11:29.244 +03:00 [DBG] Committing transaction.
2024-09-29 21:11:29.246 +03:00 [DBG] Committed transaction.
2024-09-29 21:11:29.246 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 21:11:29.247 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 21:11:29.248 +03:00 [DBG] Disposing transaction.
2024-09-29 21:11:29.249 +03:00 [DBG] An entity of type 'Product' tracked by 'DataContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 21:11:29.251 +03:00 [DBG] SaveChanges completed for 'DataContext' with 1 entities written to the database.
2024-09-29 21:11:29.265 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-29 21:11:29.271 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-09-29 21:11:29.273 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-09-29 21:11:29.274 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-29 21:11:29.275 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-29 21:11:29.276 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-29 21:11:29.278 +03:00 [INF] Executing OkObjectResult, writing value of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 21:11:29.296 +03:00 [INF] Executed action CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API) in 7047.3405ms
2024-09-29 21:11:29.299 +03:00 [INF] Executed endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Add (CustomerOrder.API)'
2024-09-29 21:11:29.305 +03:00 [DBG] 'DataContext' disposed.
2024-09-29 21:11:29.308 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/CustomerOrders/add application/json 147 - 200 - application/json;+charset=utf-8 7292.4252ms
2024-09-29 21:12:32.241 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/CustomerOrders/update?Id=16 application/json 151
2024-09-29 21:12:32.242 +03:00 [DBG] POST requests are not supported
2024-09-29 21:12:32.245 +03:00 [DBG] 1 candidate(s) found for the request path '/api/CustomerOrders/update'
2024-09-29 21:12:32.248 +03:00 [DBG] Endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Update (CustomerOrder.API)' with route pattern 'api/CustomerOrders/update' is valid for the request path '/api/CustomerOrders/update'
2024-09-29 21:12:32.251 +03:00 [DBG] Request matched endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Update (CustomerOrder.API)'
2024-09-29 21:12:32.252 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-29 21:12:32.253 +03:00 [INF] Executing endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Update (CustomerOrder.API)'
2024-09-29 21:12:32.258 +03:00 [INF] Route matched with {action = "Update", controller = "CustomerOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto]] Update(Int32, CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto) on controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API).
2024-09-29 21:12:32.260 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-29 21:12:32.261 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-29 21:12:32.262 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-29 21:12:32.263 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-29 21:12:32.265 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-29 21:12:32.266 +03:00 [DBG] Executing controller factory for controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API)
2024-09-29 21:12:32.267 +03:00 [DBG] Executed controller factory for controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API)
2024-09-29 21:12:32.269 +03:00 [DBG] Attempting to bind parameter 'Id' of type 'System.Int32' ...
2024-09-29 21:12:32.271 +03:00 [DBG] Attempting to bind parameter 'Id' of type 'System.Int32' using the name 'Id' in request data ...
2024-09-29 21:12:32.273 +03:00 [DBG] Done attempting to bind parameter 'Id' of type 'System.Int32'.
2024-09-29 21:12:32.274 +03:00 [DBG] Done attempting to bind parameter 'Id' of type 'System.Int32'.
2024-09-29 21:12:32.276 +03:00 [DBG] Attempting to validate the bound parameter 'Id' of type 'System.Int32' ...
2024-09-29 21:12:32.277 +03:00 [DBG] Done attempting to validate the bound parameter 'Id' of type 'System.Int32'.
2024-09-29 21:12:32.278 +03:00 [DBG] Attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto' ...
2024-09-29 21:12:32.279 +03:00 [DBG] Attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto' using the name '' in request data ...
2024-09-29 21:12:32.280 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-29 21:12:32.281 +03:00 [DBG] Connection id "0HN70M87O2Q5N", Request id "0HN70M87O2Q5N:0000000B": started reading request body.
2024-09-29 21:12:32.282 +03:00 [DBG] Connection id "0HN70M87O2Q5N", Request id "0HN70M87O2Q5N:0000000B": done reading request body.
2024-09-29 21:12:32.282 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'
2024-09-29 21:12:32.283 +03:00 [DBG] Done attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 21:12:32.283 +03:00 [DBG] Done attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 21:12:32.284 +03:00 [DBG] Attempting to validate the bound parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto' ...
2024-09-29 21:12:32.285 +03:00 [DBG] Done attempting to validate the bound parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 21:12:40.323 +03:00 [INF] Entity Framework Core 5.0.10 initialized 'DataContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2024-09-29 21:12:40.335 +03:00 [DBG] Compiling query expression: 
'DbSet<CustomerOrder>()
    .FirstOrDefault(e => EF.Property<int>(e, "Id") == __p_0)'
2024-09-29 21:12:40.350 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<CustomerOrder>(
    asyncEnumerable: new SingleQueryingEnumerable<CustomerOrder>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: CustomerOrder.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: CustomerOrder.CreatedBy (int) Required, 1], [Property: CustomerOrder.CreatedDate (DateTime) Required, 2], [Property: CustomerOrder.CustomerId (int) Required FK Index, 3], [Property: CustomerOrder.IsDeleted (bool) Required, 4], [Property: CustomerOrder.UpdatedBy (Nullable<int>), 5], [Property: CustomerOrder.UpdatedDate (Nullable<DateTime>), 6], }
            SELECT TOP(1) c.Id, c.CreatedBy, c.CreatedDate, c.CustomerId, c.IsDeleted, c.UpdatedBy, c.UpdatedDate
            FROM CustomerOrders AS c
            WHERE c.Id == @__p_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, CustomerOrder>, 
        CustomerOrder.Data.Context.DataContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-29 21:12:40.352 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 21:12:40.354 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-29 21:12:40.355 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 21:12:40.357 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 21:12:40.358 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedBy", c."CreatedDate", c."CustomerId", c."IsDeleted", c."UpdatedBy", c."UpdatedDate"
FROM "CustomerOrders" AS c
WHERE c."Id" = @__p_0
LIMIT 1
2024-09-29 21:12:40.361 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedBy", c."CreatedDate", c."CustomerId", c."IsDeleted", c."UpdatedBy", c."UpdatedDate"
FROM "CustomerOrders" AS c
WHERE c."Id" = @__p_0
LIMIT 1
2024-09-29 21:12:40.390 +03:00 [DBG] Context 'DataContext' started tracking 'CustomerOrder' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 21:12:40.392 +03:00 [DBG] A data reader was disposed.
2024-09-29 21:12:40.392 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 21:12:40.394 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 21:12:45.716 +03:00 [DBG] An entity of type 'CustomerOrder' tracked by 'DataContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 21:12:46.350 +03:00 [DBG] SaveChanges starting for 'DataContext'.
2024-09-29 21:12:46.351 +03:00 [DBG] DetectChanges starting for 'DataContext'.
2024-09-29 21:12:46.353 +03:00 [DBG] The navigation 'CustomerOrder.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 21:12:46.356 +03:00 [DBG] 'DataContext' generated a temporary value for the property 'Id.Customer'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 21:12:46.362 +03:00 [DBG] The foreign key property 'CustomerOrder.CustomerId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-29 21:12:46.363 +03:00 [DBG] Context 'DataContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 21:12:46.370 +03:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'CustomerOrder.Products'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 21:12:46.374 +03:00 [DBG] 'DataContext' generated a temporary value for the property 'Id.Product'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 21:12:46.376 +03:00 [DBG] Context 'DataContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 21:12:46.377 +03:00 [DBG] DetectChanges completed for 'DataContext'.
2024-09-29 21:12:46.377 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 21:12:46.378 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 21:12:46.378 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-29 21:12:46.379 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-29 21:12:46.389 +03:00 [DBG] Executing 2 update commands as a batch.
2024-09-29 21:12:46.391 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 21:12:46.393 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-29 21:12:46.395 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime), @p8='?', @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime), @p11='?' (DbType = Int32), @p12='?', @p13='?' (DbType = Boolean), @p14='?' (DbType = Decimal), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Customers" ("Address", "CreatedBy", "CreatedDate", "Email", "IsDeleted", "Name", "UpdatedBy", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "Id";
INSERT INTO "Products" ("Barcode", "CreatedBy", "CreatedDate", "CustomerOrderId", "Description", "IsDeleted", "Price", "Quantity", "UpdatedBy", "UpdatedDate")
VALUES (@p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17)
RETURNING "Id";
2024-09-29 21:12:46.401 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime), @p8='?', @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime), @p11='?' (DbType = Int32), @p12='?', @p13='?' (DbType = Boolean), @p14='?' (DbType = Decimal), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Customers" ("Address", "CreatedBy", "CreatedDate", "Email", "IsDeleted", "Name", "UpdatedBy", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "Id";
INSERT INTO "Products" ("Barcode", "CreatedBy", "CreatedDate", "CustomerOrderId", "Description", "IsDeleted", "Price", "Quantity", "UpdatedBy", "UpdatedDate")
VALUES (@p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17)
RETURNING "Id";
2024-09-29 21:12:46.421 +03:00 [DBG] The foreign key property 'Customer.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-29 21:12:46.422 +03:00 [DBG] The foreign key property 'CustomerOrder.CustomerId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-29 21:12:46.422 +03:00 [DBG] The foreign key property 'Product.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-29 21:12:46.424 +03:00 [DBG] A data reader was disposed.
2024-09-29 21:12:46.426 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 21:12:46.427 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-29 21:12:46.428 +03:00 [DBG] Executing DbCommand [Parameters=[@p24='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = DateTime), @p20='?' (DbType = Int32), @p21='?' (DbType = Boolean), @p22='?' (DbType = Int32), @p23='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "CustomerOrders" SET "CreatedBy" = @p18, "CreatedDate" = @p19, "CustomerId" = @p20, "IsDeleted" = @p21, "UpdatedBy" = @p22, "UpdatedDate" = @p23
WHERE "Id" = @p24;
2024-09-29 21:12:46.430 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p24='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = DateTime), @p20='?' (DbType = Int32), @p21='?' (DbType = Boolean), @p22='?' (DbType = Int32), @p23='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "CustomerOrders" SET "CreatedBy" = @p18, "CreatedDate" = @p19, "CustomerId" = @p20, "IsDeleted" = @p21, "UpdatedBy" = @p22, "UpdatedDate" = @p23
WHERE "Id" = @p24;
2024-09-29 21:12:46.431 +03:00 [DBG] A data reader was disposed.
2024-09-29 21:12:46.432 +03:00 [DBG] Committing transaction.
2024-09-29 21:12:46.433 +03:00 [DBG] Committed transaction.
2024-09-29 21:12:46.434 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 21:12:46.435 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 21:12:46.436 +03:00 [DBG] Disposing transaction.
2024-09-29 21:12:46.437 +03:00 [DBG] An entity of type 'Customer' tracked by 'DataContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 21:12:46.438 +03:00 [DBG] An entity of type 'Product' tracked by 'DataContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 21:12:46.439 +03:00 [DBG] An entity of type 'CustomerOrder' tracked by 'DataContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 21:12:46.440 +03:00 [DBG] SaveChanges completed for 'DataContext' with 3 entities written to the database.
2024-09-29 21:12:48.313 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-29 21:12:48.316 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-09-29 21:12:48.316 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-09-29 21:12:48.317 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-29 21:12:48.318 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-29 21:12:48.318 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-29 21:12:48.319 +03:00 [INF] Executing OkObjectResult, writing value of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 21:12:48.320 +03:00 [INF] Executed action CustomerOrder.API.Controllers.CustomerOrdersController.Update (CustomerOrder.API) in 16054.7248ms
2024-09-29 21:12:48.322 +03:00 [INF] Executed endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Update (CustomerOrder.API)'
2024-09-29 21:12:48.322 +03:00 [DBG] 'DataContext' disposed.
2024-09-29 21:12:48.324 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/CustomerOrders/update?Id=16 application/json 151 - 200 - application/json;+charset=utf-8 16082.7031ms
2024-09-29 21:16:42.440 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/CustomerOrders/update?Id=16 application/json 156
2024-09-29 21:16:42.441 +03:00 [DBG] POST requests are not supported
2024-09-29 21:16:42.441 +03:00 [DBG] 1 candidate(s) found for the request path '/api/CustomerOrders/update'
2024-09-29 21:16:42.442 +03:00 [DBG] Endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Update (CustomerOrder.API)' with route pattern 'api/CustomerOrders/update' is valid for the request path '/api/CustomerOrders/update'
2024-09-29 21:16:42.443 +03:00 [DBG] Request matched endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Update (CustomerOrder.API)'
2024-09-29 21:16:42.447 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-29 21:16:42.448 +03:00 [INF] Executing endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Update (CustomerOrder.API)'
2024-09-29 21:16:42.449 +03:00 [INF] Route matched with {action = "Update", controller = "CustomerOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto]] Update(Int32, CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto) on controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API).
2024-09-29 21:16:42.451 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-29 21:16:42.452 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-29 21:16:42.453 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-29 21:16:42.455 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-29 21:16:42.455 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-29 21:16:42.456 +03:00 [DBG] Executing controller factory for controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API)
2024-09-29 21:16:42.459 +03:00 [DBG] Executed controller factory for controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API)
2024-09-29 21:16:42.459 +03:00 [DBG] Attempting to bind parameter 'Id' of type 'System.Int32' ...
2024-09-29 21:16:42.460 +03:00 [DBG] Attempting to bind parameter 'Id' of type 'System.Int32' using the name 'Id' in request data ...
2024-09-29 21:16:42.462 +03:00 [DBG] Done attempting to bind parameter 'Id' of type 'System.Int32'.
2024-09-29 21:16:42.463 +03:00 [DBG] Done attempting to bind parameter 'Id' of type 'System.Int32'.
2024-09-29 21:16:42.464 +03:00 [DBG] Attempting to validate the bound parameter 'Id' of type 'System.Int32' ...
2024-09-29 21:16:42.465 +03:00 [DBG] Done attempting to validate the bound parameter 'Id' of type 'System.Int32'.
2024-09-29 21:16:42.466 +03:00 [DBG] Attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto' ...
2024-09-29 21:16:42.467 +03:00 [DBG] Attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto' using the name '' in request data ...
2024-09-29 21:16:42.468 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-29 21:16:42.469 +03:00 [DBG] Connection id "0HN70M87O2Q5N", Request id "0HN70M87O2Q5N:0000000D": started reading request body.
2024-09-29 21:16:42.469 +03:00 [DBG] Connection id "0HN70M87O2Q5N", Request id "0HN70M87O2Q5N:0000000D": done reading request body.
2024-09-29 21:16:42.470 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'
2024-09-29 21:16:42.471 +03:00 [DBG] Done attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 21:16:42.472 +03:00 [DBG] Done attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 21:16:42.472 +03:00 [DBG] Attempting to validate the bound parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto' ...
2024-09-29 21:16:42.473 +03:00 [DBG] Done attempting to validate the bound parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 21:16:44.325 +03:00 [INF] Entity Framework Core 5.0.10 initialized 'DataContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2024-09-29 21:16:44.333 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 21:16:44.335 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-29 21:16:44.337 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 21:16:44.493 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 21:16:44.497 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedBy", c."CreatedDate", c."CustomerId", c."IsDeleted", c."UpdatedBy", c."UpdatedDate"
FROM "CustomerOrders" AS c
WHERE c."Id" = @__p_0
LIMIT 1
2024-09-29 21:16:44.501 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedBy", c."CreatedDate", c."CustomerId", c."IsDeleted", c."UpdatedBy", c."UpdatedDate"
FROM "CustomerOrders" AS c
WHERE c."Id" = @__p_0
LIMIT 1
2024-09-29 21:16:44.502 +03:00 [DBG] Context 'DataContext' started tracking 'CustomerOrder' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 21:16:44.503 +03:00 [DBG] A data reader was disposed.
2024-09-29 21:16:44.503 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 21:16:44.504 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 21:17:06.704 +03:00 [DBG] An entity of type 'CustomerOrder' tracked by 'DataContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 21:17:06.706 +03:00 [DBG] SaveChanges starting for 'DataContext'.
2024-09-29 21:17:06.709 +03:00 [DBG] DetectChanges starting for 'DataContext'.
2024-09-29 21:17:06.710 +03:00 [DBG] The navigation 'CustomerOrder.Customer' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 21:17:06.711 +03:00 [DBG] 'DataContext' generated a temporary value for the property 'Id.Customer'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 21:17:06.712 +03:00 [DBG] The foreign key property 'CustomerOrder.CustomerId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-29 21:17:06.713 +03:00 [DBG] Context 'DataContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 21:17:06.714 +03:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'CustomerOrder.Products'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 21:17:06.716 +03:00 [DBG] 'DataContext' generated a temporary value for the property 'Id.Product'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 21:17:06.717 +03:00 [DBG] Context 'DataContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 21:17:06.719 +03:00 [DBG] DetectChanges completed for 'DataContext'.
2024-09-29 21:17:06.720 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 21:17:06.721 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 21:17:06.722 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-29 21:17:06.722 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-29 21:17:06.723 +03:00 [DBG] Executing 2 update commands as a batch.
2024-09-29 21:17:06.724 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 21:17:06.725 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-29 21:17:06.726 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime), @p8='?', @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime), @p11='?' (DbType = Int32), @p12='?', @p13='?' (DbType = Boolean), @p14='?' (DbType = Decimal), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Customers" ("Address", "CreatedBy", "CreatedDate", "Email", "IsDeleted", "Name", "UpdatedBy", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "Id";
INSERT INTO "Products" ("Barcode", "CreatedBy", "CreatedDate", "CustomerOrderId", "Description", "IsDeleted", "Price", "Quantity", "UpdatedBy", "UpdatedDate")
VALUES (@p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17)
RETURNING "Id";
2024-09-29 21:17:06.730 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime), @p8='?', @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime), @p11='?' (DbType = Int32), @p12='?', @p13='?' (DbType = Boolean), @p14='?' (DbType = Decimal), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Customers" ("Address", "CreatedBy", "CreatedDate", "Email", "IsDeleted", "Name", "UpdatedBy", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "Id";
INSERT INTO "Products" ("Barcode", "CreatedBy", "CreatedDate", "CustomerOrderId", "Description", "IsDeleted", "Price", "Quantity", "UpdatedBy", "UpdatedDate")
VALUES (@p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17)
RETURNING "Id";
2024-09-29 21:17:06.732 +03:00 [DBG] The foreign key property 'Customer.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-29 21:17:06.733 +03:00 [DBG] The foreign key property 'CustomerOrder.CustomerId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-29 21:17:06.733 +03:00 [DBG] The foreign key property 'Product.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-29 21:17:06.735 +03:00 [DBG] A data reader was disposed.
2024-09-29 21:17:06.736 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 21:17:06.737 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-29 21:17:06.737 +03:00 [DBG] Executing DbCommand [Parameters=[@p24='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = DateTime), @p20='?' (DbType = Int32), @p21='?' (DbType = Boolean), @p22='?' (DbType = Int32), @p23='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "CustomerOrders" SET "CreatedBy" = @p18, "CreatedDate" = @p19, "CustomerId" = @p20, "IsDeleted" = @p21, "UpdatedBy" = @p22, "UpdatedDate" = @p23
WHERE "Id" = @p24;
2024-09-29 21:17:06.740 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p24='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = DateTime), @p20='?' (DbType = Int32), @p21='?' (DbType = Boolean), @p22='?' (DbType = Int32), @p23='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "CustomerOrders" SET "CreatedBy" = @p18, "CreatedDate" = @p19, "CustomerId" = @p20, "IsDeleted" = @p21, "UpdatedBy" = @p22, "UpdatedDate" = @p23
WHERE "Id" = @p24;
2024-09-29 21:17:06.742 +03:00 [DBG] A data reader was disposed.
2024-09-29 21:17:06.742 +03:00 [DBG] Committing transaction.
2024-09-29 21:17:06.744 +03:00 [DBG] Committed transaction.
2024-09-29 21:17:06.745 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 21:17:06.745 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 21:17:06.746 +03:00 [DBG] Disposing transaction.
2024-09-29 21:17:06.747 +03:00 [DBG] An entity of type 'Customer' tracked by 'DataContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 21:17:06.748 +03:00 [DBG] An entity of type 'Product' tracked by 'DataContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 21:17:06.748 +03:00 [DBG] An entity of type 'CustomerOrder' tracked by 'DataContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 21:17:06.749 +03:00 [DBG] SaveChanges completed for 'DataContext' with 3 entities written to the database.
2024-09-29 21:17:06.750 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-29 21:17:06.762 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-09-29 21:17:06.767 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-09-29 21:17:06.767 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-29 21:17:06.768 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-29 21:17:06.768 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-29 21:17:06.769 +03:00 [INF] Executing OkObjectResult, writing value of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 21:17:06.771 +03:00 [INF] Executed action CustomerOrder.API.Controllers.CustomerOrdersController.Update (CustomerOrder.API) in 24314.5054ms
2024-09-29 21:17:06.772 +03:00 [INF] Executed endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Update (CustomerOrder.API)'
2024-09-29 21:17:06.773 +03:00 [DBG] 'DataContext' disposed.
2024-09-29 21:17:06.775 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/CustomerOrders/update?Id=16 application/json 156 - 200 - application/json;+charset=utf-8 24334.5031ms
2024-09-29 21:20:40.744 +03:00 [INF] Starting web host
2024-09-29 21:20:42.282 +03:00 [DBG] Hosting starting
2024-09-29 21:20:42.330 +03:00 [INF] User profile is available. Using 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-29 21:20:42.349 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-0aa42add-f3b4-405e-a8c2-992d6e29a85c.xml'.
2024-09-29 21:20:42.360 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-71b87755-2ee9-43e6-87de-6c92ed7c99a6.xml'.
2024-09-29 21:20:42.361 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-acea2ac6-9b67-4521-b460-630e25f9dc5a.xml'.
2024-09-29 21:20:42.366 +03:00 [DBG] Found key {0aa42add-f3b4-405e-a8c2-992d6e29a85c}.
2024-09-29 21:20:42.372 +03:00 [DBG] Found key {71b87755-2ee9-43e6-87de-6c92ed7c99a6}.
2024-09-29 21:20:42.372 +03:00 [DBG] Found key {acea2ac6-9b67-4521-b460-630e25f9dc5a}.
2024-09-29 21:20:42.378 +03:00 [DBG] Considering key {acea2ac6-9b67-4521-b460-630e25f9dc5a} with expiration date 2024-10-15 10:31:27Z as default key.
2024-09-29 21:20:42.390 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-29 21:20:42.394 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-29 21:20:42.396 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-29 21:20:42.401 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-29 21:20:42.403 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-29 21:20:42.406 +03:00 [DBG] Using key {acea2ac6-9b67-4521-b460-630e25f9dc5a} as the default key.
2024-09-29 21:20:42.407 +03:00 [DBG] Key ring with default key {acea2ac6-9b67-4521-b460-630e25f9dc5a} was loaded during application startup.
2024-09-29 21:20:42.728 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: D6697AE29B19EBA86816E6295ADBAF33F0642E18)
2024-09-29 21:20:42.751 +03:00 [INF] Now listening on: https://localhost:5001
2024-09-29 21:20:42.754 +03:00 [INF] Now listening on: http://localhost:5000
2024-09-29 21:20:42.754 +03:00 [DBG] Loaded hosting startup assembly CustomerOrder.API
2024-09-29 21:20:42.755 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-29 21:20:42.755 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-29 21:20:42.758 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-29 21:20:42.759 +03:00 [INF] Hosting environment: Development
2024-09-29 21:20:42.760 +03:00 [INF] Content root path: C:\Users\cagrie\source\repos\CustomerOrder\CustomerOrder.API
2024-09-29 21:20:42.761 +03:00 [DBG] Hosting started
2024-09-29 21:20:42.769 +03:00 [DBG] Connection id "0HN70MDMUN847" received FIN.
2024-09-29 21:20:42.779 +03:00 [DBG] Connection id "0HN70MDMUN847" accepted.
2024-09-29 21:20:42.782 +03:00 [DBG] Connection id "0HN70MDMUN847" started.
2024-09-29 21:20:42.806 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.<>c.<ProcessAuthenticationWithTelemetry>b__169_2(Task t, Object s)
   at System.Threading.Tasks.ContinuationTaskFromTask.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-29 21:20:42.854 +03:00 [DBG] Connection id "0HN70MDMUN847" stopped.
2024-09-29 21:20:42.859 +03:00 [DBG] Connection id "0HN70MDMUN847" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 21:20:42.928 +03:00 [DBG] Connection id "0HN70MDMUN848" accepted.
2024-09-29 21:20:42.931 +03:00 [DBG] Connection id "0HN70MDMUN848" started.
2024-09-29 21:20:43.023 +03:00 [DBG] Connection "0HN70MDMUN848" established using the following protocol: "Tls13"
2024-09-29 21:20:43.118 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2024-09-29 21:20:43.241 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-29 21:20:43.392 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-29 21:20:43.402 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-29 21:20:43.409 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 294.9424ms
2024-09-29 21:20:43.412 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - -
2024-09-29 21:20:43.412 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - -
2024-09-29 21:20:43.425 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - - - 200 12366 application/javascript;+charset=utf-8 13.2923ms
2024-09-29 21:20:43.469 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 57.6106ms
2024-09-29 21:20:43.505 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2024-09-29 21:20:43.597 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 91.9620ms
2024-09-29 21:21:13.749 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/CustomerOrders/update?Id=16 application/json 152
2024-09-29 21:21:13.755 +03:00 [DBG] POST requests are not supported
2024-09-29 21:21:13.797 +03:00 [DBG] 1 candidate(s) found for the request path '/api/CustomerOrders/update'
2024-09-29 21:21:13.806 +03:00 [DBG] Endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Update (CustomerOrder.API)' with route pattern 'api/CustomerOrders/update' is valid for the request path '/api/CustomerOrders/update'
2024-09-29 21:21:13.808 +03:00 [DBG] Request matched endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Update (CustomerOrder.API)'
2024-09-29 21:21:13.902 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-29 21:21:13.906 +03:00 [INF] Executing endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Update (CustomerOrder.API)'
2024-09-29 21:21:13.917 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-29 21:21:13.962 +03:00 [INF] Route matched with {action = "Update", controller = "CustomerOrders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto]] Update(Int32, CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto) on controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API).
2024-09-29 21:21:13.964 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-29 21:21:13.965 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-29 21:21:13.967 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-29 21:21:13.969 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-29 21:21:13.972 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-29 21:21:13.979 +03:00 [DBG] Executing controller factory for controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API)
2024-09-29 21:21:14.130 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-29 21:21:14.435 +03:00 [DBG] Executed controller factory for controller CustomerOrder.API.Controllers.CustomerOrdersController (CustomerOrder.API)
2024-09-29 21:21:14.451 +03:00 [DBG] Attempting to bind parameter 'Id' of type 'System.Int32' ...
2024-09-29 21:21:14.458 +03:00 [DBG] Attempting to bind parameter 'Id' of type 'System.Int32' using the name 'Id' in request data ...
2024-09-29 21:21:14.461 +03:00 [DBG] Done attempting to bind parameter 'Id' of type 'System.Int32'.
2024-09-29 21:21:14.462 +03:00 [DBG] Done attempting to bind parameter 'Id' of type 'System.Int32'.
2024-09-29 21:21:14.464 +03:00 [DBG] Attempting to validate the bound parameter 'Id' of type 'System.Int32' ...
2024-09-29 21:21:14.467 +03:00 [DBG] Done attempting to validate the bound parameter 'Id' of type 'System.Int32'.
2024-09-29 21:21:14.471 +03:00 [DBG] Attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto' ...
2024-09-29 21:21:14.473 +03:00 [DBG] Attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto' using the name '' in request data ...
2024-09-29 21:21:14.476 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-29 21:21:14.497 +03:00 [DBG] Connection id "0HN70MDMUN848", Request id "0HN70MDMUN848:00000009": started reading request body.
2024-09-29 21:21:14.499 +03:00 [DBG] Connection id "0HN70MDMUN848", Request id "0HN70MDMUN848:00000009": done reading request body.
2024-09-29 21:21:14.527 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'
2024-09-29 21:21:14.529 +03:00 [DBG] Done attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 21:21:14.531 +03:00 [DBG] Done attempting to bind parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 21:21:14.533 +03:00 [DBG] Attempting to validate the bound parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto' ...
2024-09-29 21:21:14.538 +03:00 [DBG] Done attempting to validate the bound parameter 'orderDto' of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 21:21:18.345 +03:00 [INF] Entity Framework Core 5.0.10 initialized 'DataContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2024-09-29 21:21:18.423 +03:00 [DBG] Compiling query expression: 
'DbSet<CustomerOrder>()
    .Include(o => o.Customer)
    .Include(o => o.Products)
    .FirstOrDefault(o => o.Id == __Id_0)'
2024-09-29 21:21:18.519 +03:00 [DBG] Including navigation: 'CustomerOrder.Customer'.
2024-09-29 21:21:18.522 +03:00 [DBG] Including navigation: 'CustomerOrder.Products'.
2024-09-29 21:21:18.785 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<CustomerOrder>(
    asyncEnumerable: new SingleQueryingEnumerable<CustomerOrder>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
            SELECT t.Id, t.CreatedBy, t.CreatedDate, t.CustomerId, t.IsDeleted, t.UpdatedBy, t.UpdatedDate, t.Id0, t.Address, t.CreatedBy0, t.CreatedDate0, t.Email, t.IsDeleted0, t.Name, t.UpdatedBy0, t.UpdatedDate0, p.Id, p.Barcode, p.CreatedBy, p.CreatedDate, p.CustomerOrderId, p.Description, p.IsDeleted, p.Price, p.Quantity, p.UpdatedBy, p.UpdatedDate
            FROM Projection Mapping:
            (
                SELECT TOP(1) c.Id, c.CreatedBy, c.CreatedDate, c.CustomerId, c.IsDeleted, c.UpdatedBy, c.UpdatedDate, c0.Id AS Id0, c0.Address, c0.CreatedBy AS CreatedBy0, c0.CreatedDate AS CreatedDate0, c0.Email, c0.IsDeleted AS IsDeleted0, c0.Name, c0.UpdatedBy AS UpdatedBy0, c0.UpdatedDate AS UpdatedDate0
                FROM CustomerOrders AS c
                INNER JOIN Customers AS c0 ON c.CustomerId == c0.Id
                WHERE c.Id == @__Id_0
            ) AS t
            LEFT JOIN Products AS p ON t.Id == p.CustomerOrderId
            ORDER BY t.Id ASC, t.Id0 ASC, p.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, CustomerOrder>, 
        CustomerOrder.Data.Context.DataContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-29 21:21:18.846 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 21:21:18.878 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (26ms).
2024-09-29 21:21:18.887 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 21:21:19.407 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 21:21:19.422 +03:00 [DBG] Executing DbCommand [Parameters=[@__Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedBy", t."CreatedDate", t."CustomerId", t."IsDeleted", t."UpdatedBy", t."UpdatedDate", t."Id0", t."Address", t."CreatedBy0", t."CreatedDate0", t."Email", t."IsDeleted0", t."Name", t."UpdatedBy0", t."UpdatedDate0", p."Id", p."Barcode", p."CreatedBy", p."CreatedDate", p."CustomerOrderId", p."Description", p."IsDeleted", p."Price", p."Quantity", p."UpdatedBy", p."UpdatedDate"
FROM (
    SELECT c."Id", c."CreatedBy", c."CreatedDate", c."CustomerId", c."IsDeleted", c."UpdatedBy", c."UpdatedDate", c0."Id" AS "Id0", c0."Address", c0."CreatedBy" AS "CreatedBy0", c0."CreatedDate" AS "CreatedDate0", c0."Email", c0."IsDeleted" AS "IsDeleted0", c0."Name", c0."UpdatedBy" AS "UpdatedBy0", c0."UpdatedDate" AS "UpdatedDate0"
    FROM "CustomerOrders" AS c
    INNER JOIN "Customers" AS c0 ON c."CustomerId" = c0."Id"
    WHERE c."Id" = @__Id_0
    LIMIT 1
) AS t
LEFT JOIN "Products" AS p ON t."Id" = p."CustomerOrderId"
ORDER BY t."Id", t."Id0", p."Id"
2024-09-29 21:21:19.443 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@__Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedBy", t."CreatedDate", t."CustomerId", t."IsDeleted", t."UpdatedBy", t."UpdatedDate", t."Id0", t."Address", t."CreatedBy0", t."CreatedDate0", t."Email", t."IsDeleted0", t."Name", t."UpdatedBy0", t."UpdatedDate0", p."Id", p."Barcode", p."CreatedBy", p."CreatedDate", p."CustomerOrderId", p."Description", p."IsDeleted", p."Price", p."Quantity", p."UpdatedBy", p."UpdatedDate"
FROM (
    SELECT c."Id", c."CreatedBy", c."CreatedDate", c."CustomerId", c."IsDeleted", c."UpdatedBy", c."UpdatedDate", c0."Id" AS "Id0", c0."Address", c0."CreatedBy" AS "CreatedBy0", c0."CreatedDate" AS "CreatedDate0", c0."Email", c0."IsDeleted" AS "IsDeleted0", c0."Name", c0."UpdatedBy" AS "UpdatedBy0", c0."UpdatedDate" AS "UpdatedDate0"
    FROM "CustomerOrders" AS c
    INNER JOIN "Customers" AS c0 ON c."CustomerId" = c0."Id"
    WHERE c."Id" = @__Id_0
    LIMIT 1
) AS t
LEFT JOIN "Products" AS p ON t."Id" = p."CustomerOrderId"
ORDER BY t."Id", t."Id0", p."Id"
2024-09-29 21:21:19.475 +03:00 [DBG] Context 'DataContext' started tracking 'CustomerOrder' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 21:21:19.526 +03:00 [DBG] Context 'DataContext' started tracking 'Customer' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 21:21:19.563 +03:00 [DBG] Context 'DataContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 21:21:19.600 +03:00 [DBG] Context 'DataContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 21:21:19.602 +03:00 [DBG] Context 'DataContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 21:21:19.609 +03:00 [DBG] A data reader was disposed.
2024-09-29 21:21:19.616 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 21:21:19.623 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 21:22:15.354 +03:00 [DBG] SaveChanges starting for 'DataContext'.
2024-09-29 21:22:15.359 +03:00 [DBG] DetectChanges starting for 'DataContext'.
2024-09-29 21:22:15.385 +03:00 [DBG] 1 entities were added and 3 entities were removed from navigation 'CustomerOrder.Products'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 21:22:15.406 +03:00 [DBG] An entity of type 'Product' tracked by 'DataContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 21:22:15.426 +03:00 [DBG] An entity of type 'Product' changed to '"Deleted"' state due to severed required relationship to its parent entity of type 'CustomerOrder'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 21:22:15.433 +03:00 [DBG] An entity of type 'Product' tracked by 'DataContext' changed state from '"Modified"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 21:22:15.439 +03:00 [DBG] An entity of type 'Product' tracked by 'DataContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 21:22:15.441 +03:00 [DBG] An entity of type 'Product' changed to '"Deleted"' state due to severed required relationship to its parent entity of type 'CustomerOrder'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 21:22:15.442 +03:00 [DBG] An entity of type 'Product' tracked by 'DataContext' changed state from '"Modified"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 21:22:15.443 +03:00 [DBG] An entity of type 'Product' tracked by 'DataContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 21:22:15.445 +03:00 [DBG] An entity of type 'Product' changed to '"Deleted"' state due to severed required relationship to its parent entity of type 'CustomerOrder'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 21:22:15.446 +03:00 [DBG] An entity of type 'Product' tracked by 'DataContext' changed state from '"Modified"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 21:22:15.464 +03:00 [DBG] 'DataContext' generated a temporary value for the property 'Id.Product'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 21:22:15.474 +03:00 [DBG] Context 'DataContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 21:22:15.481 +03:00 [DBG] The unchanged property 'Customer.Address' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-29 21:22:15.483 +03:00 [DBG] An entity of type 'Customer' tracked by 'DataContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 21:22:15.489 +03:00 [DBG] The unchanged property 'Customer.Email' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-29 21:22:15.491 +03:00 [DBG] The unchanged property 'Customer.Name' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-29 21:22:15.497 +03:00 [DBG] DetectChanges completed for 'DataContext'.
2024-09-29 21:22:15.523 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 21:22:15.526 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 21:22:15.530 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-29 21:22:15.540 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-29 21:22:15.597 +03:00 [DBG] Executing 5 update commands as a batch.
2024-09-29 21:22:15.618 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 21:22:15.620 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-29 21:22:15.624 +03:00 [DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int32), @p0='?', @p1='?', @p2='?', @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?', @p8='?' (DbType = Int32), @p9='?' (DbType = DateTime), @p10='?' (DbType = Int32), @p11='?', @p12='?' (DbType = Boolean), @p13='?' (DbType = Decimal), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Customers" SET "Address" = @p0, "Email" = @p1, "Name" = @p2
WHERE "Id" = @p3;
DELETE FROM "Products"
WHERE "Id" = @p4;
DELETE FROM "Products"
WHERE "Id" = @p5;
DELETE FROM "Products"
WHERE "Id" = @p6;
INSERT INTO "Products" ("Barcode", "CreatedBy", "CreatedDate", "CustomerOrderId", "Description", "IsDeleted", "Price", "Quantity", "UpdatedBy", "UpdatedDate")
VALUES (@p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16)
RETURNING "Id";
2024-09-29 21:22:15.644 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?', @p1='?', @p2='?', @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?', @p8='?' (DbType = Int32), @p9='?' (DbType = DateTime), @p10='?' (DbType = Int32), @p11='?', @p12='?' (DbType = Boolean), @p13='?' (DbType = Decimal), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Customers" SET "Address" = @p0, "Email" = @p1, "Name" = @p2
WHERE "Id" = @p3;
DELETE FROM "Products"
WHERE "Id" = @p4;
DELETE FROM "Products"
WHERE "Id" = @p5;
DELETE FROM "Products"
WHERE "Id" = @p6;
INSERT INTO "Products" ("Barcode", "CreatedBy", "CreatedDate", "CustomerOrderId", "Description", "IsDeleted", "Price", "Quantity", "UpdatedBy", "UpdatedDate")
VALUES (@p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16)
RETURNING "Id";
2024-09-29 21:22:15.694 +03:00 [DBG] The foreign key property 'Product.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-29 21:22:15.705 +03:00 [DBG] A data reader was disposed.
2024-09-29 21:22:15.710 +03:00 [DBG] Committing transaction.
2024-09-29 21:22:15.724 +03:00 [DBG] Committed transaction.
2024-09-29 21:22:15.728 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 21:22:15.730 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 21:22:15.738 +03:00 [DBG] Disposing transaction.
2024-09-29 21:22:15.744 +03:00 [DBG] An entity of type 'Product' tracked by 'DataContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 21:22:15.746 +03:00 [DBG] An entity of type 'Customer' tracked by 'DataContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 21:22:15.755 +03:00 [DBG] An entity of type 'Product' tracked by 'DataContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 21:22:15.758 +03:00 [DBG] An entity of type 'Product' tracked by 'DataContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 21:22:15.760 +03:00 [DBG] An entity of type 'Product' tracked by 'DataContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 21:22:15.766 +03:00 [DBG] SaveChanges completed for 'DataContext' with 5 entities written to the database.
2024-09-29 21:22:17.481 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-29 21:22:17.488 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-09-29 21:22:17.490 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-09-29 21:22:17.491 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-29 21:22:17.491 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-29 21:22:17.492 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-29 21:22:17.493 +03:00 [INF] Executing OkObjectResult, writing value of type 'CustomerOrder.API.Contracts.CustomerOrders.Dtos.CustomerOrderDto'.
2024-09-29 21:22:17.508 +03:00 [INF] Executed action CustomerOrder.API.Controllers.CustomerOrdersController.Update (CustomerOrder.API) in 63526.6265ms
2024-09-29 21:22:17.512 +03:00 [INF] Executed endpoint 'CustomerOrder.API.Controllers.CustomerOrdersController.Update (CustomerOrder.API)'
2024-09-29 21:22:17.517 +03:00 [DBG] 'DataContext' disposed.
2024-09-29 21:22:17.521 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/CustomerOrders/update?Id=16 application/json 152 - 200 - application/json;+charset=utf-8 63772.5256ms
2024-09-29 21:38:34.740 +03:00 [INF] Starting web host
2024-09-29 21:38:36.425 +03:00 [DBG] Hosting starting
2024-09-29 21:38:36.534 +03:00 [INF] User profile is available. Using 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-29 21:38:36.557 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-0aa42add-f3b4-405e-a8c2-992d6e29a85c.xml'.
2024-09-29 21:38:36.574 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-71b87755-2ee9-43e6-87de-6c92ed7c99a6.xml'.
2024-09-29 21:38:36.576 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-acea2ac6-9b67-4521-b460-630e25f9dc5a.xml'.
2024-09-29 21:38:36.583 +03:00 [DBG] Found key {0aa42add-f3b4-405e-a8c2-992d6e29a85c}.
2024-09-29 21:38:36.600 +03:00 [DBG] Found key {71b87755-2ee9-43e6-87de-6c92ed7c99a6}.
2024-09-29 21:38:36.612 +03:00 [DBG] Found key {acea2ac6-9b67-4521-b460-630e25f9dc5a}.
2024-09-29 21:38:36.626 +03:00 [DBG] Considering key {acea2ac6-9b67-4521-b460-630e25f9dc5a} with expiration date 2024-10-15 10:31:27Z as default key.
2024-09-29 21:38:36.655 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-29 21:38:36.664 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-29 21:38:36.668 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-29 21:38:36.684 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-29 21:38:36.690 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-29 21:38:36.697 +03:00 [DBG] Using key {acea2ac6-9b67-4521-b460-630e25f9dc5a} as the default key.
2024-09-29 21:38:36.699 +03:00 [DBG] Key ring with default key {acea2ac6-9b67-4521-b460-630e25f9dc5a} was loaded during application startup.
2024-09-29 21:38:37.015 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: D6697AE29B19EBA86816E6295ADBAF33F0642E18)
2024-09-29 21:38:37.038 +03:00 [INF] Now listening on: https://localhost:5001
2024-09-29 21:38:37.039 +03:00 [INF] Now listening on: http://localhost:5000
2024-09-29 21:38:37.040 +03:00 [DBG] Loaded hosting startup assembly CustomerOrder.API
2024-09-29 21:38:37.041 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-29 21:38:37.042 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-29 21:38:37.043 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-29 21:38:37.044 +03:00 [INF] Hosting environment: Development
2024-09-29 21:38:37.045 +03:00 [INF] Content root path: C:\Users\cagrie\source\repos\CustomerOrder\CustomerOrder.API
2024-09-29 21:38:37.045 +03:00 [DBG] Hosting started
2024-09-29 21:38:37.319 +03:00 [DBG] Connection id "0HN70MNN6DP61" received FIN.
2024-09-29 21:38:37.319 +03:00 [DBG] Connection id "0HN70MNN6DP62" received FIN.
2024-09-29 21:38:37.335 +03:00 [DBG] Connection id "0HN70MNN6DP61" accepted.
2024-09-29 21:38:37.335 +03:00 [DBG] Connection id "0HN70MNN6DP62" accepted.
2024-09-29 21:38:37.338 +03:00 [DBG] Connection id "0HN70MNN6DP61" started.
2024-09-29 21:38:37.338 +03:00 [DBG] Connection id "0HN70MNN6DP62" started.
2024-09-29 21:38:37.353 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.<>c.<ProcessAuthenticationWithTelemetry>b__169_2(Task t, Object s)
   at System.Threading.Tasks.ContinuationTaskFromTask.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-29 21:38:37.353 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.<>c.<ProcessAuthenticationWithTelemetry>b__169_2(Task t, Object s)
   at System.Threading.Tasks.ContinuationTaskFromTask.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-29 21:38:37.392 +03:00 [DBG] Connection id "0HN70MNN6DP61" stopped.
2024-09-29 21:38:37.392 +03:00 [DBG] Connection id "0HN70MNN6DP62" stopped.
2024-09-29 21:38:37.396 +03:00 [DBG] Connection id "0HN70MNN6DP61" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 21:38:37.396 +03:00 [DBG] Connection id "0HN70MNN6DP62" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 21:38:44.150 +03:00 [DBG] Connection id "0HN70MNN6DP63" accepted.
2024-09-29 21:38:44.151 +03:00 [DBG] Connection id "0HN70MNN6DP63" started.
2024-09-29 21:38:44.234 +03:00 [DBG] Connection "0HN70MNN6DP63" established using the following protocol: "Tls13"
2024-09-29 21:38:44.326 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2024-09-29 21:38:44.416 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-29 21:38:44.609 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-29 21:38:44.622 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-29 21:38:44.631 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 308.7885ms
2024-09-29 21:38:44.634 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - -
2024-09-29 21:38:44.634 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - -
2024-09-29 21:38:44.647 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - - - 200 12366 application/javascript;+charset=utf-8 12.6512ms
2024-09-29 21:38:44.688 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 53.2568ms
2024-09-29 21:38:44.722 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2024-09-29 21:38:44.830 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 108.4759ms
2024-09-29 21:40:05.846 +03:00 [DBG] Config reload token fired. Checking for changes...
2024-09-29 21:46:20.486 +03:00 [INF] Starting web host
2024-09-29 21:46:21.716 +03:00 [DBG] Hosting starting
2024-09-29 21:46:21.965 +03:00 [INF] User profile is available. Using 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-29 21:46:22.000 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-0aa42add-f3b4-405e-a8c2-992d6e29a85c.xml'.
2024-09-29 21:46:22.020 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-71b87755-2ee9-43e6-87de-6c92ed7c99a6.xml'.
2024-09-29 21:46:22.021 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-acea2ac6-9b67-4521-b460-630e25f9dc5a.xml'.
2024-09-29 21:46:22.031 +03:00 [DBG] Found key {0aa42add-f3b4-405e-a8c2-992d6e29a85c}.
2024-09-29 21:46:22.044 +03:00 [DBG] Found key {71b87755-2ee9-43e6-87de-6c92ed7c99a6}.
2024-09-29 21:46:22.046 +03:00 [DBG] Found key {acea2ac6-9b67-4521-b460-630e25f9dc5a}.
2024-09-29 21:46:22.063 +03:00 [DBG] Considering key {acea2ac6-9b67-4521-b460-630e25f9dc5a} with expiration date 2024-10-15 10:31:27Z as default key.
2024-09-29 21:46:22.077 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-29 21:46:22.081 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-29 21:46:22.083 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-29 21:46:22.088 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-29 21:46:22.092 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-29 21:46:22.097 +03:00 [DBG] Using key {acea2ac6-9b67-4521-b460-630e25f9dc5a} as the default key.
2024-09-29 21:46:22.099 +03:00 [DBG] Key ring with default key {acea2ac6-9b67-4521-b460-630e25f9dc5a} was loaded during application startup.
2024-09-29 21:46:22.461 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: D6697AE29B19EBA86816E6295ADBAF33F0642E18)
2024-09-29 21:46:22.500 +03:00 [INF] Now listening on: https://localhost:5001
2024-09-29 21:46:22.501 +03:00 [INF] Now listening on: http://localhost:5000
2024-09-29 21:46:22.506 +03:00 [DBG] Loaded hosting startup assembly CustomerOrder.API
2024-09-29 21:46:22.507 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-29 21:46:22.508 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-29 21:46:22.509 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-29 21:46:22.510 +03:00 [INF] Hosting environment: Development
2024-09-29 21:46:22.511 +03:00 [INF] Content root path: C:\Users\cagrie\source\repos\CustomerOrder\CustomerOrder.API
2024-09-29 21:46:22.513 +03:00 [DBG] Hosting started
2024-09-29 21:46:22.599 +03:00 [DBG] Connection id "0HN70MS1RLSBK" received FIN.
2024-09-29 21:46:22.599 +03:00 [DBG] Connection id "0HN70MS1RLSBL" received FIN.
2024-09-29 21:46:22.616 +03:00 [DBG] Connection id "0HN70MS1RLSBL" accepted.
2024-09-29 21:46:22.616 +03:00 [DBG] Connection id "0HN70MS1RLSBK" accepted.
2024-09-29 21:46:22.621 +03:00 [DBG] Connection id "0HN70MS1RLSBL" started.
2024-09-29 21:46:22.621 +03:00 [DBG] Connection id "0HN70MS1RLSBK" started.
2024-09-29 21:46:22.650 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.<>c.<ProcessAuthenticationWithTelemetry>b__169_2(Task t, Object s)
   at System.Threading.Tasks.ContinuationTaskFromTask.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-29 21:46:22.650 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.<>c.<ProcessAuthenticationWithTelemetry>b__169_2(Task t, Object s)
   at System.Threading.Tasks.ContinuationTaskFromTask.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-29 21:46:22.703 +03:00 [DBG] Connection id "0HN70MS1RLSBL" stopped.
2024-09-29 21:46:22.703 +03:00 [DBG] Connection id "0HN70MS1RLSBK" stopped.
2024-09-29 21:46:22.711 +03:00 [DBG] Connection id "0HN70MS1RLSBK" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 21:46:22.711 +03:00 [DBG] Connection id "0HN70MS1RLSBL" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 21:46:22.962 +03:00 [DBG] Connection id "0HN70MS1RLSBM" accepted.
2024-09-29 21:46:22.966 +03:00 [DBG] Connection id "0HN70MS1RLSBM" started.
2024-09-29 21:46:23.063 +03:00 [DBG] Connection "0HN70MS1RLSBM" established using the following protocol: "Tls13"
2024-09-29 21:46:23.123 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2024-09-29 21:46:23.215 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-29 21:46:23.372 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-29 21:46:23.386 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-29 21:46:23.396 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 274.2301ms
2024-09-29 21:46:23.399 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - -
2024-09-29 21:46:23.399 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - -
2024-09-29 21:46:23.412 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - - - 200 12366 application/javascript;+charset=utf-8 12.9846ms
2024-09-29 21:46:23.464 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 65.6385ms
2024-09-29 21:46:23.498 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2024-09-29 21:46:23.588 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 89.8125ms
2024-09-29 21:54:50.439 +03:00 [INF] Application is shutting down...
2024-09-29 21:54:50.440 +03:00 [DBG] Hosting stopping
2024-09-29 21:54:50.498 +03:00 [DBG] Connection id "0HN70MS1RLSBM" is closing.
2024-09-29 21:54:50.510 +03:00 [DBG] Connection id "0HN70MS1RLSBM" is closed. The last processed stream ID was 7.
2024-09-29 21:54:50.514 +03:00 [DBG] Connection id "0HN70MS1RLSBM" received FIN.
2024-09-29 21:54:50.515 +03:00 [DBG] Connection id "0HN70MS1RLSBM" sending FIN because: "The client closed the connection."
2024-09-29 21:54:50.522 +03:00 [DBG] Connection id "0HN70MS1RLSBM" stopped.
2024-09-29 21:54:50.527 +03:00 [DBG] Hosting stopped
2024-09-29 22:10:57.081 +03:00 [INF] Starting web host
2024-09-29 22:10:58.578 +03:00 [DBG] Hosting starting
2024-09-29 22:10:58.643 +03:00 [INF] User profile is available. Using 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-29 22:10:58.670 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-0aa42add-f3b4-405e-a8c2-992d6e29a85c.xml'.
2024-09-29 22:10:58.685 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-71b87755-2ee9-43e6-87de-6c92ed7c99a6.xml'.
2024-09-29 22:10:58.685 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-acea2ac6-9b67-4521-b460-630e25f9dc5a.xml'.
2024-09-29 22:10:58.691 +03:00 [DBG] Found key {0aa42add-f3b4-405e-a8c2-992d6e29a85c}.
2024-09-29 22:10:58.698 +03:00 [DBG] Found key {71b87755-2ee9-43e6-87de-6c92ed7c99a6}.
2024-09-29 22:10:58.699 +03:00 [DBG] Found key {acea2ac6-9b67-4521-b460-630e25f9dc5a}.
2024-09-29 22:10:58.706 +03:00 [DBG] Considering key {acea2ac6-9b67-4521-b460-630e25f9dc5a} with expiration date 2024-10-15 10:31:27Z as default key.
2024-09-29 22:10:58.718 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-29 22:10:58.721 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-29 22:10:58.723 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-29 22:10:58.727 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-29 22:10:58.730 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-29 22:10:58.734 +03:00 [DBG] Using key {acea2ac6-9b67-4521-b460-630e25f9dc5a} as the default key.
2024-09-29 22:10:58.735 +03:00 [DBG] Key ring with default key {acea2ac6-9b67-4521-b460-630e25f9dc5a} was loaded during application startup.
2024-09-29 22:10:59.139 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: D6697AE29B19EBA86816E6295ADBAF33F0642E18)
2024-09-29 22:10:59.173 +03:00 [INF] Now listening on: https://localhost:5001
2024-09-29 22:10:59.174 +03:00 [INF] Now listening on: http://localhost:5000
2024-09-29 22:10:59.174 +03:00 [DBG] Loaded hosting startup assembly CustomerOrder.API
2024-09-29 22:10:59.175 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-29 22:10:59.176 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-29 22:10:59.176 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-29 22:10:59.177 +03:00 [INF] Hosting environment: Development
2024-09-29 22:10:59.177 +03:00 [INF] Content root path: C:\Users\cagrie\source\repos\CustomerOrder\CustomerOrder.API
2024-09-29 22:10:59.178 +03:00 [DBG] Hosting started
2024-09-29 22:10:59.667 +03:00 [DBG] Connection id "0HN70N9Q202BH" received FIN.
2024-09-29 22:10:59.667 +03:00 [DBG] Connection id "0HN70N9Q202BG" received FIN.
2024-09-29 22:10:59.668 +03:00 [DBG] Connection id "0HN70N9Q202BH" accepted.
2024-09-29 22:10:59.669 +03:00 [DBG] Connection id "0HN70N9Q202BG" accepted.
2024-09-29 22:10:59.672 +03:00 [DBG] Connection id "0HN70N9Q202BH" started.
2024-09-29 22:10:59.672 +03:00 [DBG] Connection id "0HN70N9Q202BG" started.
2024-09-29 22:10:59.691 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.<>c.<ProcessAuthenticationWithTelemetry>b__169_2(Task t, Object s)
   at System.Threading.Tasks.ContinuationTaskFromTask.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-29 22:10:59.691 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.<>c.<ProcessAuthenticationWithTelemetry>b__169_2(Task t, Object s)
   at System.Threading.Tasks.ContinuationTaskFromTask.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-29 22:10:59.731 +03:00 [DBG] Connection id "0HN70N9Q202BG" stopped.
2024-09-29 22:10:59.731 +03:00 [DBG] Connection id "0HN70N9Q202BH" stopped.
2024-09-29 22:10:59.734 +03:00 [DBG] Connection id "0HN70N9Q202BH" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 22:10:59.734 +03:00 [DBG] Connection id "0HN70N9Q202BG" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 22:11:06.554 +03:00 [DBG] Connection id "0HN70N9Q202BI" accepted.
2024-09-29 22:11:06.560 +03:00 [DBG] Connection id "0HN70N9Q202BI" started.
2024-09-29 22:11:06.667 +03:00 [DBG] Connection "0HN70N9Q202BI" established using the following protocol: "Tls13"
2024-09-29 22:11:06.737 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2024-09-29 22:11:06.865 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-29 22:11:07.003 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-29 22:11:07.015 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-29 22:11:07.024 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 289.2548ms
2024-09-29 22:11:07.036 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - -
2024-09-29 22:11:07.036 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - -
2024-09-29 22:11:07.041 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - - - 200 12366 application/javascript;+charset=utf-8 4.7526ms
2024-09-29 22:11:07.087 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 50.4519ms
2024-09-29 22:11:07.119 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2024-09-29 22:11:07.205 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 86.5001ms
2024-09-29 22:11:11.700 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Products/getall - -
2024-09-29 22:11:11.704 +03:00 [DBG] The request path  does not match the path filter
2024-09-29 22:11:11.733 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Products/getall'
2024-09-29 22:11:11.741 +03:00 [DBG] Endpoint 'CustomerOrder.API.Controllers.ProductsController.GetAll (CustomerOrder.API)' with route pattern 'api/Products/getall' is valid for the request path '/api/Products/getall'
2024-09-29 22:11:11.745 +03:00 [DBG] Request matched endpoint 'CustomerOrder.API.Controllers.ProductsController.GetAll (CustomerOrder.API)'
2024-09-29 22:11:11.818 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-29 22:11:11.821 +03:00 [INF] Executing endpoint 'CustomerOrder.API.Controllers.ProductsController.GetAll (CustomerOrder.API)'
2024-09-29 22:11:11.828 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-29 22:11:11.856 +03:00 [INF] Route matched with {action = "GetAll", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller CustomerOrder.API.Controllers.ProductsController (CustomerOrder.API).
2024-09-29 22:11:11.861 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-29 22:11:11.863 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-29 22:11:11.864 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-29 22:11:11.865 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-29 22:11:11.866 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-29 22:11:11.867 +03:00 [DBG] Executing controller factory for controller CustomerOrder.API.Controllers.ProductsController (CustomerOrder.API)
2024-09-29 22:11:11.971 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-29 22:11:11.996 +03:00 [DBG] Executed controller factory for controller CustomerOrder.API.Controllers.ProductsController (CustomerOrder.API)
2024-09-29 22:14:56.029 +03:00 [INF] GetAllProductsAsync error: The message timed out in the backlog attempting to send because no connection became available (5000ms) - Last Connection Exception: It was not possible to connect to the redis server(s). ConnectTimeout, command=HMGET, timeout: 5000, inst: 0, qu: 0, qs: 0, aw: False, bw: CheckingForTimeout, rs: NotStarted, ws: Idle, in: 0, last-in: 0, cur-in: 0, sync-ops: 0, async-ops: 1, serverEndpoint: localhost:6379, conn-sec: n/a, aoc: 0, mc: 1/1/0, mgr: 10 of 10 available, clientName: CAGRIERLATT(SE.Redis-v2.8.16.12844), IOCP: (Busy=0,Free=1000,Min=8,Max=1000), WORKER: (Busy=1,Free=32766,Min=8,Max=32767), POOL: (Threads=12,QueuedItems=0,CompletedItems=283,Timers=8), v: 2.8.16.12844 (Please take a look at this article for some common client-side issues that can cause timeouts: https://stackexchange.github.io/StackExchange.Redis/Timeouts)
2024-09-29 22:14:56.145 +03:00 [INF] Executed action CustomerOrder.API.Controllers.ProductsController.GetAll (CustomerOrder.API) in 224272.8943ms
2024-09-29 22:14:56.153 +03:00 [INF] Executed endpoint 'CustomerOrder.API.Controllers.ProductsController.GetAll (CustomerOrder.API)'
2024-09-29 22:14:56.158 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: An error occurred while getall products: The message timed out in the backlog attempting to send because no connection became available (5000ms) - Last Connection Exception: It was not possible to connect to the redis server(s). ConnectTimeout, command=HMGET, timeout: 5000, inst: 0, qu: 0, qs: 0, aw: False, bw: CheckingForTimeout, rs: NotStarted, ws: Idle, in: 0, last-in: 0, cur-in: 0, sync-ops: 0, async-ops: 1, serverEndpoint: localhost:6379, conn-sec: n/a, aoc: 0, mc: 1/1/0, mgr: 10 of 10 available, clientName: CAGRIERLATT(SE.Redis-v2.8.16.12844), IOCP: (Busy=0,Free=1000,Min=8,Max=1000), WORKER: (Busy=1,Free=32766,Min=8,Max=32767), POOL: (Threads=12,QueuedItems=0,CompletedItems=283,Timers=8), v: 2.8.16.12844 (Please take a look at this article for some common client-side issues that can cause timeouts: https://stackexchange.github.io/StackExchange.Redis/Timeouts)
   at CustomerOrder.API.Services.ProductsService.GetAllProductsAsync() in C:\Users\cagrie\source\repos\CustomerOrder\CustomerOrder.API\Services\ProductsService.cs:line 58
   at CustomerOrder.API.Controllers.ProductsController.GetAll() in C:\Users\cagrie\source\repos\CustomerOrder\CustomerOrder.API\Controllers\ProductsController.cs:line 23
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-09-29 22:14:56.189 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Products/getall - - - 500 - text/plain 224488.8825ms
2024-09-29 22:15:02.473 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Products/getall - -
2024-09-29 22:15:02.474 +03:00 [DBG] The request path  does not match the path filter
2024-09-29 22:15:02.477 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Products/getall'
2024-09-29 22:15:02.478 +03:00 [DBG] Endpoint 'CustomerOrder.API.Controllers.ProductsController.GetAll (CustomerOrder.API)' with route pattern 'api/Products/getall' is valid for the request path '/api/Products/getall'
2024-09-29 22:15:02.480 +03:00 [DBG] Request matched endpoint 'CustomerOrder.API.Controllers.ProductsController.GetAll (CustomerOrder.API)'
2024-09-29 22:15:02.481 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-29 22:15:02.482 +03:00 [INF] Executing endpoint 'CustomerOrder.API.Controllers.ProductsController.GetAll (CustomerOrder.API)'
2024-09-29 22:15:02.484 +03:00 [INF] Route matched with {action = "GetAll", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller CustomerOrder.API.Controllers.ProductsController (CustomerOrder.API).
2024-09-29 22:15:02.485 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-29 22:15:02.486 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-29 22:15:02.487 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-29 22:15:02.488 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-29 22:15:02.488 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-29 22:15:02.489 +03:00 [DBG] Executing controller factory for controller CustomerOrder.API.Controllers.ProductsController (CustomerOrder.API)
2024-09-29 22:15:02.490 +03:00 [DBG] Executed controller factory for controller CustomerOrder.API.Controllers.ProductsController (CustomerOrder.API)
2024-09-29 22:22:23.020 +03:00 [INF] Starting web host
2024-09-29 22:22:25.828 +03:00 [DBG] Hosting starting
2024-09-29 22:22:25.912 +03:00 [INF] User profile is available. Using 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-29 22:22:25.954 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-0aa42add-f3b4-405e-a8c2-992d6e29a85c.xml'.
2024-09-29 22:22:26.006 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-71b87755-2ee9-43e6-87de-6c92ed7c99a6.xml'.
2024-09-29 22:22:26.021 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-acea2ac6-9b67-4521-b460-630e25f9dc5a.xml'.
2024-09-29 22:22:26.040 +03:00 [DBG] Found key {0aa42add-f3b4-405e-a8c2-992d6e29a85c}.
2024-09-29 22:22:26.051 +03:00 [DBG] Found key {71b87755-2ee9-43e6-87de-6c92ed7c99a6}.
2024-09-29 22:22:26.052 +03:00 [DBG] Found key {acea2ac6-9b67-4521-b460-630e25f9dc5a}.
2024-09-29 22:22:26.061 +03:00 [DBG] Considering key {acea2ac6-9b67-4521-b460-630e25f9dc5a} with expiration date 2024-10-15 10:31:27Z as default key.
2024-09-29 22:22:26.074 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-29 22:22:26.078 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-29 22:22:26.080 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-29 22:22:26.087 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-29 22:22:26.091 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-29 22:22:26.094 +03:00 [DBG] Using key {acea2ac6-9b67-4521-b460-630e25f9dc5a} as the default key.
2024-09-29 22:22:26.097 +03:00 [DBG] Key ring with default key {acea2ac6-9b67-4521-b460-630e25f9dc5a} was loaded during application startup.
2024-09-29 22:22:26.571 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: D6697AE29B19EBA86816E6295ADBAF33F0642E18)
2024-09-29 22:22:26.612 +03:00 [INF] Now listening on: https://localhost:5001
2024-09-29 22:22:26.613 +03:00 [INF] Now listening on: http://localhost:5000
2024-09-29 22:22:26.614 +03:00 [DBG] Loaded hosting startup assembly CustomerOrder.API
2024-09-29 22:22:26.615 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-29 22:22:26.616 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-29 22:22:26.617 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-29 22:22:26.618 +03:00 [INF] Hosting environment: Development
2024-09-29 22:22:26.619 +03:00 [INF] Content root path: C:\Users\cagrie\source\repos\CustomerOrder\CustomerOrder.API
2024-09-29 22:22:26.620 +03:00 [DBG] Hosting started
2024-09-29 22:22:26.923 +03:00 [DBG] Connection id "0HN70NG6S7NA5" accepted.
2024-09-29 22:22:26.923 +03:00 [DBG] Connection id "0HN70NG6S7NA4" accepted.
2024-09-29 22:22:26.930 +03:00 [DBG] Connection id "0HN70NG6S7NA4" started.
2024-09-29 22:22:26.930 +03:00 [DBG] Connection id "0HN70NG6S7NA5" started.
2024-09-29 22:22:28.996 +03:00 [DBG] Connection id "0HN70NG6S7NA6" accepted.
2024-09-29 22:22:29.003 +03:00 [DBG] Connection id "0HN70NG6S7NA6" started.
2024-09-29 22:22:29.250 +03:00 [DBG] Connection "0HN70NG6S7NA6" established using the following protocol: "Tls13"
2024-09-29 22:22:29.369 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2024-09-29 22:22:29.553 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-29 22:22:29.759 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-29 22:22:29.776 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-29 22:22:29.787 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 421.7589ms
2024-09-29 22:22:29.789 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - -
2024-09-29 22:22:29.789 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - -
2024-09-29 22:22:29.808 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - - - 200 12366 application/javascript;+charset=utf-8 18.8884ms
2024-09-29 22:22:29.862 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 72.2127ms
2024-09-29 22:22:29.915 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2024-09-29 22:22:30.040 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 124.7937ms
2024-09-29 22:22:36.301 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Products/getall - -
2024-09-29 22:22:36.306 +03:00 [DBG] The request path  does not match the path filter
2024-09-29 22:22:36.338 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Products/getall'
2024-09-29 22:22:36.347 +03:00 [DBG] Endpoint 'CustomerOrder.API.Controllers.ProductsController.GetAll (CustomerOrder.API)' with route pattern 'api/Products/getall' is valid for the request path '/api/Products/getall'
2024-09-29 22:22:36.353 +03:00 [DBG] Request matched endpoint 'CustomerOrder.API.Controllers.ProductsController.GetAll (CustomerOrder.API)'
2024-09-29 22:22:36.442 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-29 22:22:36.446 +03:00 [INF] Executing endpoint 'CustomerOrder.API.Controllers.ProductsController.GetAll (CustomerOrder.API)'
2024-09-29 22:22:36.455 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-29 22:22:36.489 +03:00 [INF] Route matched with {action = "GetAll", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller CustomerOrder.API.Controllers.ProductsController (CustomerOrder.API).
2024-09-29 22:22:36.493 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-29 22:22:36.494 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-29 22:22:36.496 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-29 22:22:36.498 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-29 22:22:36.501 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-29 22:22:36.502 +03:00 [DBG] Executing controller factory for controller CustomerOrder.API.Controllers.ProductsController (CustomerOrder.API)
2024-09-29 22:22:36.930 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-29 22:22:36.957 +03:00 [DBG] Executed controller factory for controller CustomerOrder.API.Controllers.ProductsController (CustomerOrder.API)
2024-09-29 22:22:39.591 +03:00 [DBG] Authentication of the HTTPS connection timed out.
2024-09-29 22:22:39.591 +03:00 [DBG] Authentication of the HTTPS connection timed out.
2024-09-29 22:22:39.595 +03:00 [DBG] Connection id "0HN70NG6S7NA5" stopped.
2024-09-29 22:22:39.595 +03:00 [DBG] Connection id "0HN70NG6S7NA4" stopped.
2024-09-29 22:22:39.598 +03:00 [DBG] Connection id "0HN70NG6S7NA4" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 22:22:39.598 +03:00 [DBG] Connection id "0HN70NG6S7NA5" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 22:26:35.188 +03:00 [INF] Starting web host
2024-09-29 22:26:36.838 +03:00 [DBG] Hosting starting
2024-09-29 22:26:36.913 +03:00 [INF] User profile is available. Using 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-29 22:26:36.944 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-0aa42add-f3b4-405e-a8c2-992d6e29a85c.xml'.
2024-09-29 22:26:36.963 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-71b87755-2ee9-43e6-87de-6c92ed7c99a6.xml'.
2024-09-29 22:26:36.965 +03:00 [DBG] Reading data from file 'C:\Users\cagrie\AppData\Local\ASP.NET\DataProtection-Keys\key-acea2ac6-9b67-4521-b460-630e25f9dc5a.xml'.
2024-09-29 22:26:36.975 +03:00 [DBG] Found key {0aa42add-f3b4-405e-a8c2-992d6e29a85c}.
2024-09-29 22:26:36.985 +03:00 [DBG] Found key {71b87755-2ee9-43e6-87de-6c92ed7c99a6}.
2024-09-29 22:26:36.986 +03:00 [DBG] Found key {acea2ac6-9b67-4521-b460-630e25f9dc5a}.
2024-09-29 22:26:36.997 +03:00 [DBG] Considering key {acea2ac6-9b67-4521-b460-630e25f9dc5a} with expiration date 2024-10-15 10:31:27Z as default key.
2024-09-29 22:26:37.008 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-29 22:26:37.013 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-29 22:26:37.016 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-29 22:26:37.023 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-29 22:26:37.027 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-29 22:26:37.031 +03:00 [DBG] Using key {acea2ac6-9b67-4521-b460-630e25f9dc5a} as the default key.
2024-09-29 22:26:37.033 +03:00 [DBG] Key ring with default key {acea2ac6-9b67-4521-b460-630e25f9dc5a} was loaded during application startup.
2024-09-29 22:26:37.318 +03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: D6697AE29B19EBA86816E6295ADBAF33F0642E18)
2024-09-29 22:26:37.348 +03:00 [INF] Now listening on: https://localhost:5001
2024-09-29 22:26:37.353 +03:00 [INF] Now listening on: http://localhost:5000
2024-09-29 22:26:37.354 +03:00 [DBG] Loaded hosting startup assembly CustomerOrder.API
2024-09-29 22:26:37.357 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-29 22:26:37.358 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-29 22:26:37.359 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-29 22:26:37.360 +03:00 [INF] Hosting environment: Development
2024-09-29 22:26:37.361 +03:00 [INF] Content root path: C:\Users\cagrie\source\repos\CustomerOrder\CustomerOrder.API
2024-09-29 22:26:37.362 +03:00 [DBG] Hosting started
2024-09-29 22:26:37.363 +03:00 [DBG] Connection id "0HN70NIHGLDL2" received FIN.
2024-09-29 22:26:37.378 +03:00 [DBG] Connection id "0HN70NIHGLDL2" accepted.
2024-09-29 22:26:37.381 +03:00 [DBG] Connection id "0HN70NIHGLDL2" started.
2024-09-29 22:26:37.400 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at System.Net.Security.SslStream.<>c.<ProcessAuthenticationWithTelemetry>b__169_2(Task t, Object s)
   at System.Threading.Tasks.ContinuationTaskFromTask.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-29 22:26:37.500 +03:00 [DBG] Connection id "0HN70NIHGLDL3" accepted.
2024-09-29 22:26:37.510 +03:00 [DBG] Connection id "0HN70NIHGLDL3" started.
2024-09-29 22:26:37.516 +03:00 [DBG] Connection id "0HN70NIHGLDL2" stopped.
2024-09-29 22:26:37.532 +03:00 [DBG] Connection id "0HN70NIHGLDL2" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-29 22:26:37.675 +03:00 [DBG] Connection "0HN70NIHGLDL3" established using the following protocol: "Tls13"
2024-09-29 22:26:37.777 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2024-09-29 22:26:37.878 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-29 22:26:38.026 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-29 22:26:38.039 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-29 22:26:38.048 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 273.0463ms
2024-09-29 22:26:38.066 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - -
2024-09-29 22:26:38.073 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - - - 200 12366 application/javascript;+charset=utf-8 7.0539ms
2024-09-29 22:26:38.090 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - -
2024-09-29 22:26:38.160 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 70.0265ms
2024-09-29 22:26:38.212 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2024-09-29 22:26:38.312 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 100.1861ms
2024-09-29 22:27:33.684 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Products/getall - -
2024-09-29 22:27:33.697 +03:00 [DBG] The request path  does not match the path filter
2024-09-29 22:27:33.726 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Products/getall'
2024-09-29 22:27:33.735 +03:00 [DBG] Endpoint 'CustomerOrder.API.Controllers.ProductsController.GetAll (CustomerOrder.API)' with route pattern 'api/Products/getall' is valid for the request path '/api/Products/getall'
2024-09-29 22:27:33.740 +03:00 [DBG] Request matched endpoint 'CustomerOrder.API.Controllers.ProductsController.GetAll (CustomerOrder.API)'
2024-09-29 22:27:33.821 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-29 22:27:33.825 +03:00 [INF] Executing endpoint 'CustomerOrder.API.Controllers.ProductsController.GetAll (CustomerOrder.API)'
2024-09-29 22:27:33.833 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-29 22:27:33.872 +03:00 [INF] Route matched with {action = "GetAll", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller CustomerOrder.API.Controllers.ProductsController (CustomerOrder.API).
2024-09-29 22:27:33.878 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-29 22:27:33.879 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-29 22:27:33.882 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-29 22:27:33.884 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-29 22:27:33.885 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-29 22:27:33.886 +03:00 [DBG] Executing controller factory for controller CustomerOrder.API.Controllers.ProductsController (CustomerOrder.API)
2024-09-29 22:27:33.989 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-29 22:27:34.024 +03:00 [DBG] Executed controller factory for controller CustomerOrder.API.Controllers.ProductsController (CustomerOrder.API)
2024-09-29 22:27:45.556 +03:00 [INF] Entity Framework Core 5.0.10 initialized 'DataContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2024-09-29 22:27:45.580 +03:00 [DBG] Compiling query expression: 
'DbSet<Product>()'
2024-09-29 22:27:45.702 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Product>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Product.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Product.Barcode (string), 1], [Property: Product.CreatedBy (int) Required, 2], [Property: Product.CreatedDate (DateTime) Required, 3], [Property: Product.CustomerOrderId (int) Required FK Index, 4], [Property: Product.Description (string), 5], [Property: Product.IsDeleted (bool) Required, 6], [Property: Product.Price (decimal) Required, 7], [Property: Product.Quantity (int) Required, 8], [Property: Product.UpdatedBy (Nullable<int>), 9], [Property: Product.UpdatedDate (Nullable<DateTime>), 10], }
        SELECT p.Id, p.Barcode, p.CreatedBy, p.CreatedDate, p.CustomerOrderId, p.Description, p.IsDeleted, p.Price, p.Quantity, p.UpdatedBy, p.UpdatedDate
        FROM Products AS p), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Product>, 
    CustomerOrder.Data.Context.DataContext, 
    False, 
    False
)'
2024-09-29 22:27:45.731 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-29 22:27:45.753 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (20ms).
2024-09-29 22:27:45.761 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 22:27:46.272 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 22:27:46.288 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Barcode", p."CreatedBy", p."CreatedDate", p."CustomerOrderId", p."Description", p."IsDeleted", p."Price", p."Quantity", p."UpdatedBy", p."UpdatedDate"
FROM "Products" AS p
2024-09-29 22:27:46.305 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Barcode", p."CreatedBy", p."CreatedDate", p."CustomerOrderId", p."Description", p."IsDeleted", p."Price", p."Quantity", p."UpdatedBy", p."UpdatedDate"
FROM "Products" AS p
2024-09-29 22:27:46.332 +03:00 [DBG] Context 'DataContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 22:27:46.380 +03:00 [DBG] Context 'DataContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 22:27:46.384 +03:00 [DBG] Context 'DataContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 22:27:46.385 +03:00 [DBG] Context 'DataContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 22:27:46.386 +03:00 [DBG] Context 'DataContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 22:27:46.387 +03:00 [DBG] Context 'DataContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 22:27:46.388 +03:00 [DBG] Context 'DataContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-29 22:27:46.392 +03:00 [DBG] A data reader was disposed.
2024-09-29 22:27:46.396 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 22:27:46.400 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432'.
2024-09-29 22:27:49.847 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-29 22:27:49.856 +03:00 [DBG] No information found on request to perform content negotiation.
2024-09-29 22:27:49.857 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-29 22:27:49.858 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-29 22:27:49.859 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-29 22:27:49.861 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CustomerOrder.Data.Models.Product, CustomerOrder.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-29 22:27:49.893 +03:00 [INF] Executed action CustomerOrder.API.Controllers.ProductsController.GetAll (CustomerOrder.API) in 16001.3131ms
2024-09-29 22:27:49.899 +03:00 [INF] Executed endpoint 'CustomerOrder.API.Controllers.ProductsController.GetAll (CustomerOrder.API)'
2024-09-29 22:27:49.903 +03:00 [DBG] 'DataContext' disposed.
2024-09-29 22:27:49.906 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Products/getall - - - 200 - application/json;+charset=utf-8 16222.0303ms
2024-09-29 22:27:55.582 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Products/getall - -
2024-09-29 22:27:55.584 +03:00 [DBG] The request path  does not match the path filter
2024-09-29 22:27:55.588 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Products/getall'
2024-09-29 22:27:55.590 +03:00 [DBG] Endpoint 'CustomerOrder.API.Controllers.ProductsController.GetAll (CustomerOrder.API)' with route pattern 'api/Products/getall' is valid for the request path '/api/Products/getall'
2024-09-29 22:27:55.597 +03:00 [DBG] Request matched endpoint 'CustomerOrder.API.Controllers.ProductsController.GetAll (CustomerOrder.API)'
2024-09-29 22:27:55.599 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-29 22:27:55.601 +03:00 [INF] Executing endpoint 'CustomerOrder.API.Controllers.ProductsController.GetAll (CustomerOrder.API)'
2024-09-29 22:27:55.602 +03:00 [INF] Route matched with {action = "GetAll", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller CustomerOrder.API.Controllers.ProductsController (CustomerOrder.API).
2024-09-29 22:27:55.603 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-29 22:27:55.604 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-29 22:27:55.606 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-29 22:27:55.608 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-29 22:27:55.609 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-29 22:27:55.611 +03:00 [DBG] Executing controller factory for controller CustomerOrder.API.Controllers.ProductsController (CustomerOrder.API)
2024-09-29 22:27:55.614 +03:00 [DBG] Executed controller factory for controller CustomerOrder.API.Controllers.ProductsController (CustomerOrder.API)
2024-09-29 22:28:02.372 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-29 22:28:02.378 +03:00 [DBG] No information found on request to perform content negotiation.
2024-09-29 22:28:02.381 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-29 22:28:02.382 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-29 22:28:02.382 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-29 22:28:02.384 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CustomerOrder.Data.Models.Product, CustomerOrder.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-29 22:28:02.385 +03:00 [INF] Executed action CustomerOrder.API.Controllers.ProductsController.GetAll (CustomerOrder.API) in 6774.0601ms
2024-09-29 22:28:02.387 +03:00 [INF] Executed endpoint 'CustomerOrder.API.Controllers.ProductsController.GetAll (CustomerOrder.API)'
2024-09-29 22:28:02.389 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Products/getall - - - 200 - application/json;+charset=utf-8 6806.1489ms
2024-09-29 22:28:05.116 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Products/getall - -
2024-09-29 22:28:05.118 +03:00 [DBG] The request path  does not match the path filter
2024-09-29 22:28:05.120 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Products/getall'
2024-09-29 22:28:05.124 +03:00 [DBG] Endpoint 'CustomerOrder.API.Controllers.ProductsController.GetAll (CustomerOrder.API)' with route pattern 'api/Products/getall' is valid for the request path '/api/Products/getall'
2024-09-29 22:28:05.128 +03:00 [DBG] Request matched endpoint 'CustomerOrder.API.Controllers.ProductsController.GetAll (CustomerOrder.API)'
2024-09-29 22:28:05.131 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-29 22:28:05.132 +03:00 [INF] Executing endpoint 'CustomerOrder.API.Controllers.ProductsController.GetAll (CustomerOrder.API)'
2024-09-29 22:28:05.134 +03:00 [INF] Route matched with {action = "GetAll", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller CustomerOrder.API.Controllers.ProductsController (CustomerOrder.API).
2024-09-29 22:28:05.135 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-29 22:28:05.137 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-29 22:28:05.139 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-29 22:28:05.141 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-29 22:28:05.142 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-29 22:28:05.143 +03:00 [DBG] Executing controller factory for controller CustomerOrder.API.Controllers.ProductsController (CustomerOrder.API)
2024-09-29 22:28:05.146 +03:00 [DBG] Executed controller factory for controller CustomerOrder.API.Controllers.ProductsController (CustomerOrder.API)
2024-09-29 22:28:11.741 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-29 22:28:11.743 +03:00 [DBG] No information found on request to perform content negotiation.
2024-09-29 22:28:11.744 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-29 22:28:11.745 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-29 22:28:11.746 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-29 22:28:11.748 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CustomerOrder.Data.Models.Product, CustomerOrder.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-29 22:28:11.750 +03:00 [INF] Executed action CustomerOrder.API.Controllers.ProductsController.GetAll (CustomerOrder.API) in 6606.7699ms
2024-09-29 22:28:11.753 +03:00 [INF] Executed endpoint 'CustomerOrder.API.Controllers.ProductsController.GetAll (CustomerOrder.API)'
2024-09-29 22:28:11.754 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Products/getall - - - 200 - application/json;+charset=utf-8 6638.2433ms
